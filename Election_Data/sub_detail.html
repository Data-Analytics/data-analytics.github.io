<!DOCTYPE html>
<!-------------------------------------------------------------
 Name:        data-analytics.github.io
 Purpose:     Data visualisation and analytics examples 
 Author:      sushanth
 Created:     28-01-2016
 Modified:    28-03-2016
 Copyright:  (c) sushanth 2016
 Licence:     protected
--------------------------------------------------------------->
<?xml version="1.0" encoding="UTF-8"?>
<html>
 <head>
  <meta http-equiv="X-UA-COMPATIBLE" content="IE=EmulateIE9">
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name="author" content="Sushanth">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Undecided voters hold key in 2016 Tamil Nadu Assembly elections 'A visual guide to the check out the history of Tamil Nadu Assembly elections, from 1967 until 2011', Which of the Dravidian duos might get the stronghold in Tamil Nadu? What will be the pre-poll alliances? For the state January is a crucial month to predict next political face.">
  <meta name="news_keywords" content="tamil nadu polls, tamil nadu assembly polls, jayalalithaa, chennai floods, tamil nadu elections, tamil nadu assembly elections, chennai news, tamil nadu news, india news">
  <meta name="keywords" content="tamil nadu polls, tamil nadu assembly polls, jayalalithaa, chennai floods, tamil nadu elections, tamil nadu assembly elections, chennai news, tamil nadu news, india news">
  <link href="css/bootstrap.css" rel="stylesheet">    
  <link href="css/basic.css" rel="stylesheet">
  <link href="css/feature.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" media="screen" href="http://fortawesome.github.io/Font-Awesome/assets/font-awesome/css/font-awesome.css">
  <link rel="stylesheet" type="text/css" media="screen" href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css">
  <link href="css/custom-styles.css" rel="stylesheet">
  <link href="css/jquery-ui.css" rel="stylesheet">
  <link href="//cdn.datatables.net/1.10.9/css/jquery.dataTables.min.css" rel="stylesheet" />
  <script type="text/javascript" src="js/jquery.min.js"></script>  
  <script type="text/javascript" src="js/d3.js"></script>
  <script type="text/javascript" src="js/sankey.js"></script>
  <script type="text/javascript" src="js/underscore-min.js"></script>
  <script type="text/javascript" src="/./javascripts/google-analyitcs.js"></script> 
  <script type="text/javascript" src="/./javascripts/angular.min.js"></script>  
  <script type="text/javascript" src="js/bootstrap.min.js"></script>    
  <script type="text/javascript" src="js/jquery-ui-1.10.3.min.js" ></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js"></script>  
  <meta property="og:title"  content="ASSEMBLY ELECTIONS 1967 - 2011 (TAMIL NADU)" /> 
  <meta property="og:url"   content="http://data-analytics.github.io/Election_Data/tamil_nadu.html" /> 
  <meta property="og:description" content="Undecided voters hold key in 2016 Tamil Nadu Assembly elections 'A visual guide to the check out the history of Tamil Nadu Assembly elections, from 1967 until 2011'" /> 
  <meta property="og:image" content="images/images.png" /> 
  <html itemscope itemtype="http://schema.org/Blog">
  <meta itemprop="description" content="Undecided voters hold key in 2016 Tamil Nadu Assembly elections 'A visual guide to the check out the history of Tamil Nadu Assembly elections, from 1967 until 2011'">
  <meta itemprop="name" content="ASSEMBLY ELECTIONS 1967 - 2011 (TAMIL NADU)">
  <meta itemprop="image" content="images/images.png">
  <title>&#2970;&#2975;&#3021;&#2975; &#2990;&#2985;&#3021;&#2993;&#2980;&#3021; &#2980;&#3015;&#2992;&#3021;&#2980;&#2994;&#3021; &#40;&#49;&#57;&#54;&#55; &#45;&#50;&#48;&#49;&#49;&#41;</title>
</head>
<body>
  	<div class="container-fluid header-style">
		<div class="container">
			<div class="row">
				<div class="col-md-12 header-logo">
					<p class="heading-part"><img src="images/logo.png"/>
				</div>
			</div>
		</div>
	</div>
		
	<div class="Constituency_partyTrend">
		<div class="container-fluid">
	<div class="container">
  		
			<div class="row">
			<div class="col-md-12 panel panel-default">   
			<div class="row">
				<div class="col-md-12 panel-heading1">
					<h2 >&#2970;&#2975;&#3021;&#2975; &#2990;&#2985;&#3021;&#2993;&#2980;&#3021; &#2980;&#3015;&#2992;&#3021;&#2980;&#2994;&#3021; &#40;&#49;&#57;&#54;&#55; &#45;&#50;&#48;&#49;&#49;&#41;<g id="fillname"></g></h2>
				</div>	
           </div>
           <div class="row">		   
				<div class=" col-md-12 panel-body"> 
						 <div class="party_trend">
								<svg data-height="0.54" viewBox="0 0 960 80" style="width: 100%;"><g transform="translate(20,80)">
								<rect x="0" class="party-legend" data-party="&#2980;&#3007;&#2990;&#3009;&#2965;" data-highlight="[data-party=&#2980;&#3007;&#2990;&#3009;&#2965; ]" data-toggle="highlight" sub_title=".&#2980;&#3007;&#2990;&#3009;&#2965; " width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(192, 57, 43); stroke: rgb(134, 39, 30);"></rect>
								<rect x="65.71428571428571" class="party-legend" data-party="&#2949;&#2980;&#3007;&#2990;&#3009;&#2965;" data-highlight="[data-party=&#2949;&#2980;&#3007;&#2990;&#3009;&#2965;]" data-toggle="highlight" sub_title=".&#2949;&#2980;&#3007;&#2990;&#3009;&#2965;" width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(178, 211, 60); stroke: rgb(124, 147, 42);"></rect>
								<rect x="131.42857142857142" class="party-legend" data-party="&#2965;&#3006;&#2969;&#3021;" data-highlight="[data-party=&#2965;&#3006;&#2969;&#3021;]" data-toggle="highlight" sub_title=".&#2965;&#3006;&#2969;&#3021;" width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(46, 204, 113); stroke: rgb(32, 142, 79);"></rect>
								<rect x="197.1428571428571" class="party-legend" data-party="&#2970;&#3007;&#2986;&#3007;&#2990;&#3021; " data-highlight="[data-party=&#2970;&#3007;&#2986;&#3007;&#2990;&#3021; ]" data-toggle="highlight" sub_title=".&#2970;&#3007;&#2986;&#3007;&#2990;&#3021; " width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(255, 87, 87); stroke: rgb(178, 60, 60);"></rect>
								<rect x="262.85714285714283" class="party-legend" data-party="&#2980;&#2990;&#2965;" data-highlight="[data-party=&#2980;&#2990;&#2965;]" data-toggle="highlight" sub_title=".&#2980;&#2990;&#2965;" width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(71, 71, 255); stroke: rgb(49, 49, 178);"></rect>
								<rect x="328.57142857142856" class="party-legend" data-party="&#2970;&#3007;&#2986;&#3007;&#2960;" data-highlight="[data-party=&#2970;&#3007;&#2986;&#3007;&#2960;]" data-toggle="highlight" sub_title=".&#2970;&#3007;&#2986;&#3007;&#2960;" width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(255, 87, 87); stroke: rgb(178, 60, 60);"></rect>
								<rect x="394.2857142857142" class="party-legend" data-party="&#2986;&#3006;&#2990;&#2965;" data-highlight="[data-party=&#2986;&#3006;&#2990;&#2965;]" data-toggle="highlight" sub_title=".&#2986;&#3006;&#2990;&#2965;" width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(211, 84, 0); stroke: rgb(147, 58, 0);"></rect>
								<rect x="459.99999999999994" class="party-legend" data-party="&#2980;&#3015;&#2990;&#3009;&#2980;&#3007;&#2965;" data-highlight="[data-party=&#2980;&#3015;&#2990;&#3009;&#2980;&#3007;&#2965;]" data-toggle="highlight" sub_title=".&#2980;&#3015;&#2990;&#3009;&#2980;&#3007;&#2965;" width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(241, 196, 15); stroke: rgb(168, 137, 10);"></rect>
								<rect x="525.7142857142857" class="party-legend" data-party="&#2958;&#2985;&#3021;&#2970;&#3007;&#2963;" data-highlight="[data-party=&#2958;&#2985;&#3021;&#2970;&#3007;&#2963;]" data-toggle="highlight" sub_title=".&#2958;&#2985;&#3021;&#2970;&#3007;&#2963;" width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(31, 119, 180); stroke: rgb(21, 83, 125);"></rect>
								<rect x="591.4285714285713" class="party-legend" data-party="&#2972; &#2985;&#3006;" data-highlight="[data-party=&#2972; &#2985;&#3006;]" data-toggle="highlight" sub_title=".&#2972; &#2985;&#3006;" width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(154, 158, 86); stroke: rgb(107, 110, 60);"></rect>
								<rect x="657.1428571428571" class="party-legend" data-party="&#2990;&#2980;&#3007;&#2990;&#3009;&#2965;" data-highlight="[data-party=&#2990;&#2980;&#3007;&#2990;&#3009;&#2965;]" data-toggle="highlight" sub_title=".&#2990;&#2980;&#3007;&#2990;&#3009;&#2965;" width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(155, 89, 182); stroke: rgb(108, 62, 127);"></rect>
								<rect x="722.8571428571428" class="party-legend" data-party="&#2970;&#3009;&#2991;" data-highlight="[data-party=&#2970;&#3009;&#2991;]" data-toggle="highlight" sub_title=".&#2970;&#3009;&#2991;" width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(189, 195, 199); stroke: rgb(132, 136, 139);"></rect>
								<rect x="788.5714285714284" class="party-legend" data-party="&#2986;&#3006;&#2972;&#2965;" data-highlight="[data-party=&#2986;&#3006;&#2972;&#2965;]" data-toggle="highlight" sub_title=".&#2986;&#3006;&#2972;&#2965;" width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(255, 127, 14); stroke: rgb(178, 88, 9);"></rect>
								<rect x="854.2857142857142" class="party-legend" data-party="&#2986;&#3007;&#2993; " data-highlight="[data-party=&#2986;&#3007;&#2993; ]" data-toggle="highlight" sub_title=".&#2986;&#3007;&#2993; " width="65.71428571428571" y="-50" height="20" stroke-width="0.5" style="fill: rgb(34, 34, 34); stroke: rgb(23, 23, 23);"></rect><text x="32.857142857142854" y="-40" dy=".35em" sub_title=".&#2980;&#3007;&#2990;&#3009;&#2965; " style="text-anchor: middle; fill: rgb(0, 0, 0);">&#2980;&#3007;&#2990;&#3009;&#2965; </text><text x="98.57142857142856" y="-40" dy=".35em" sub_title=".&#2949;&#2980;&#3007;&#2990;&#3009;&#2965;" style="text-anchor: middle; fill: rgb(0, 0, 0);">&#2949;&#2980;&#3007;&#2990;&#3009;&#2965;</text><text x="164.28571428571428" y="-40" dy=".35em" sub_title=".&#2965;&#3006;&#2969;&#3021;" style="text-anchor: middle; fill: rgb(255, 255, 255);">&#2965;&#3006;&#2969;&#3021;</text><text x="229.99999999999997" y="-40" dy=".35em" sub_title=".&#2970;&#3007;&#2986;&#3007;&#2990;&#3021; " style="text-anchor: middle; fill: rgb(0, 0, 0);">&#2970;&#3007;&#2986;&#3007;&#2990;&#3021; </text><text x="295.71428571428567" y="-40" dy=".35em" sub_title=".&#2980;&#2990;&#2965;" style="text-anchor: middle; fill: rgb(255, 255, 255);">&#2980;&#2990;&#2965;</text><text x="361.4285714285714" y="-40" dy=".35em" sub_title=".&#2970;&#3007;&#2986;&#3007;&#2960;" style="text-anchor: middle; fill: rgb(0, 0, 0);">&#2970;&#3007;&#2986;&#3007;&#2960;</text><text x="427.1428571428571" y="-40" dy=".35em" sub_title=".&#2986;&#3006;&#2990;&#2965;" style="text-anchor: middle; fill: rgb(0, 0, 0);">&#2986;&#3006;&#2990;&#2965;</text><text x="492.85714285714283" y="-40" dy=".35em" sub_title=".&#2980;&#3015;&#2990;&#3009;&#2980;&#3007;&#2965;" style="text-anchor: middle; fill: rgb(0, 0, 0);">&#2980;&#3015;&#2990;&#3009;&#2980;&#3007;&#2965;</text><text x="558.5714285714286" y="-40" dy=".35em" sub_title=".&#2958;&#2985;&#3021;&#2970;&#3007;&#2963;" style="text-anchor: middle; fill: rgb(255, 255, 255);">&#2958;&#2985;&#3021;&#2970;&#3007;&#2963;</text><text x="624.2857142857142" y="-40" dy=".35em" sub_title=".&#2972; &#2985;&#3006;" style="text-anchor: middle; fill: rgb(0, 0, 0);">&#2972; &#2985;&#3006;</text><text x="689.9999999999999" y="-40" dy=".35em" sub_title=".&#2990;&#2980;&#3007;&#2990;&#3009;&#2965;" style="text-anchor: middle; fill: rgb(0, 0, 0);">&#2990;&#2980;&#3007;&#2990;&#3009;&#2965;</text><text x="755.7142857142857" y="-40" dy=".35em" sub_title=".&#2970;&#3009;&#2991;" style="text-anchor: middle; fill: rgb(0, 0, 0);">&#2970;&#3009;&#2991;</text><text x="821.4285714285713" y="-40" dy=".35em" sub_title=".&#2986;&#3006;&#2972;&#2965;" style="text-anchor: middle; fill: rgb(0, 0, 0);">&#2986;&#3006;&#2972;&#2965;</text><text x="887.1428571428571" y="-40" dy=".35em" sub_title=".&#2986;&#3007;&#2993; " style="text-anchor: middle; fill: rgb(255, 255, 255);">&#2986;&#3007;&#2993; </text>
								<rect x="-20" class="party-legend" data-party="X" data-highlight="[data-party=X]" data-toggle="highlight" width="20" y="-50" height="20" stroke-width="0.5" style="stroke: rgb(0, 0, 0);"></rect><text x="-10" y="-40" dy=".35em" style="text-anchor: middle; fill: rgb(255, 255, 255);">X</text></g>
								</svg>
						 </div>
						  <div class="detail_trend">
						 </div>
				</div>
		  </div>
			</div>
			</div>	
	</div>
	</div>
	</div>
	
<script type="text/javascript">
				
function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}

d3.csv("nms.csv", function(error_color, name_data) {

name_map = {}

name_data.forEach(function (d) {
	name_map[d.name] = d.mapper;
});
});

// load the data (using the timelyportfolio csv method)
d3.text("tn_data.csv", function(error, data) {
	
d3.csv("color_mapper.csv", function(error_color, color_data) {

color_map = {}

color_data.forEach(function (d) {
	
	color_map[d.party] = d.color;
	
});
   var parsedCSV = d3.csv.parseRows(data);
   
   var container = d3.select(".party_trend")
					  .append("table")
					   .attr("id","myTable")
					   .attr("class","table table-bordered");
					   
			container.selectAll("thead")
				.data([parsedCSV[0]]).enter()
				.append("thead")
			    .attr("class","data_head")
				.append("tr")
			.selectAll("th")
				.data(function(d) { return d; }).enter()
				.append("th")
				 .attr("class","dynatable-head")
				 .append("font")
					.attr("color","#636363")
					.attr("id",function(d,i) { return i==0? "con_names"+i.toString():"con_names"+d; })
				.text(function(d) { return d; })

			if (0 > -1) { parsedCSV.splice(0, 1);}

				parsedCSV = parsedCSV.filter(function(d){return d[0]==getParameterByName('cons') })
				
				party_list = ['DMK','ADMK','INC','NCO','CPM','TMC','CPI','PMK','DMDK','NCO','JNP','MDMK','IND','BJP'];
						
						
				container
					.append("tbody")
					 .selectAll("tr")
						.data(parsedCSV).enter()
						.append("tr")
                    .selectAll("td")
                        .data(function(d) { return d; }).enter()
                        .append("td")
						.attr("bgcolor",function(d) { return color_map[d] })
						.append("font")
						.attr("color",function(d) { return color_map[d] == undefined ? "#636363" : ((parseInt(color_map[d].replace('#', ''), 16) > 0xffffff / 2) ? '#000' : '#fff') })
						.attr("class",function(d,i) { return i!=0? ((party_list.indexOf(d) >= 0)? "rect_names "+d :"rect_names Others "+d):"rect_names head fillname"; })
						.text(function(d) { return d; })	

				
				length = _.groupBy(parsedCSV[0], function(d){ return d; });

				delete length[getParameterByName('cons')];
	
		var keys = []; 
		$.each(length, function(key, value) { 
			keys.push(key); 
		}); 
		
		keys.unshift('party')
		headers = d3.select(".detail_trend")
					  .append("table")
					   .attr("id","myTable")
					   .attr("class","table table-bordered")
					.append("tbody")
					 .selectAll("tr")
						.data(keys).enter()
						.append("tr");
						
					  headers
						.append("td")
						.attr("bgcolor",function(d) { return color_map[d] })
						.append("font")
						.attr("color",function(d) {  return color_map[d] == undefined ? "#636363" : ((parseInt(color_map[d].replace('#', ''), 16) > 0xffffff / 2) ? '#000' : '#fff') })
						.attr("id",function(d,i) { return i==0? "rect_names"+i.toString():"rect_names"+d; })
						.attr("class",function(d,i) { return i!=0? ((party_list.indexOf(d) >= 0)? "rect_names "+d :"rect_names Others "+d):"rect_names head ";  })
						.text(function(d) { return d; })
						
					  headers
						.append("td")
						.append("font")
						.attr("color","#636363")
						.attr("id",function(d,i) { return "headers"+i.toString(); })
						.text(function(d,i) { return i==0? 'times won':length[d].length; })
						
						 $(".DMK").html("&#2980;&#3007;&#2990;&#3009;&#2965;");
						 $(".ADMK").html("&#2949;&#2980;&#3007;&#2990;&#3009;&#2965;");
						 $(".INC").html("&#2965;&#3006;&#2969;&#3021;")
						 $(".CPM").html("&#2970;&#3007;&#2986;&#3007;&#2990;&#3021;");
						 $(".TMC").html("&#2980;&#2990;&#2965;");
						 $(".CPI").html("&#2970;&#3007;&#2986;&#3007;&#2960;");
						 $(".PMK").html("&#2986;&#3006;&#2990;&#2965;");						 
						 $(".DMDK").html("&#2980;&#3015;&#2990;&#3009;&#2980;&#3007;&#2965;");	 
						 $(".NCO").html("&#2958;&#2985;&#3021;&#2970;&#3007;&#2963;");
						 $(".JNP").html("&#2972; &#2985;&#3006;");
						 $(".MDMK").html("&#2990;&#2980;&#3007;&#2990;&#3009;&#2965;");
						 $(".IND").html("&#2970;&#3009;&#2991;");
						 $(".BJP").html("&#2986;&#3006;&#2972;&#2965;");
						 $(".Others").html("&#2986;&#3007;&#2993;");
						 $(".fillname").html(name_map[getParameterByName('cons')]);
						
						document.getElementById('fillname').innerHTML = ' --  '+name_map[getParameterByName('cons')];
						document.getElementById('con_names0').innerHTML = "&#2980;&#3018;&#2965;&#3009;&#2980;&#3007;"; 
						document.getElementById('headers0').innerHTML = "&#2997;&#3014;&#2993;&#3021;&#2993;&#3007;&#2965;&#2995;&#3021;"; 
						document.getElementById('rect_names0').innerHTML = "&#2965;&#2975;&#3021;&#2970;&#3007; "; 
						
	});					
});
</script>
</body>
</html>