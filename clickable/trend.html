<!DOCTYPE html>
<!-------------------------------------------------------------
 Name:        data-analytics.github.io
 Purpose:     Data visualisation and analytics examples 
 Author:      sushanth
 Created:     28-01-2016
 Modified:    28-03-2016
 Copyright:  (c) sushanth 2016
 Licence:     protected
--------------------------------------------------------------->
<html>
 <head>
  <meta http-equiv="X-UA-COMPATIBLE" content="IE=EmulateIE9">
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
  <meta name="author" content="Sushanth">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Undecided voters hold key in 2016 Tamil Nadu Assembly elections 'A visual guide to the check out the history of Tamil Nadu Assembly elections, from 1967 until 2011', Which of the Dravidian duos might get the stronghold in Tamil Nadu? What will be the pre-poll alliances? For the state January is a crucial month to predict next political face.">
  <meta name="news_keywords" content="tamil nadu polls, tamil nadu assembly polls, jayalalithaa, chennai floods, tamil nadu elections, tamil nadu assembly elections, chennai news, tamil nadu news, india news">
  <meta name="keywords" content="tamil nadu polls, tamil nadu assembly polls, jayalalithaa, chennai floods, tamil nadu elections, tamil nadu assembly elections, chennai news, tamil nadu news, india news">
  <link href="css/bootstrap.css" rel="stylesheet">    
  <link href="css/basic.css" rel="stylesheet">
  <link href="css/feature.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" media="screen" href="http://fortawesome.github.io/Font-Awesome/assets/font-awesome/css/font-awesome.css">
  <link rel="stylesheet" type="text/css" media="screen" href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css">
  <link href="css/custom-styles.css" rel="stylesheet">
  <link href="//cdn.datatables.net/1.10.9/css/jquery.dataTables.min.css" rel="stylesheet" />
  <script type="text/javascript" src="js/jquery.min.js"></script>  
  <script type="text/javascript" src="js/d3.js"></script>
  <script type="text/javascript" src="js/bootstrap.min.js"></script>    
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js"></script>  
  <meta property="og:title"  content="ASSEMBLY ELECTIONS 1967 - 2011 (TAMIL NADU)" /> 
  <meta property="og:url"   content="http://data-analytics.github.io/Election_Data/tamil_nadu.html" /> 
  <meta property="og:description" content="Undecided voters hold key in 2016 Tamil Nadu Assembly elections 'A visual guide to the check out the history of Tamil Nadu Assembly elections, from 1967 until 2011'" /> 
  <html itemscope itemtype="http://schema.org/Blog">
  <meta itemprop="description" content="Undecided voters hold key in 2016 Tamil Nadu Assembly elections 'A visual guide to the check out the history of Tamil Nadu Assembly elections, from 1967 until 2011'">
  <meta itemprop="name" content="ASSEMBLY ELECTIONS 1967 - 2011 (TAMIL NADU)">
  <meta itemprop="image" content="images/images.png">
	<title>&#2970;&#2975;&#3021;&#2975; &#2990;&#2985;&#3021;&#2993;&#2980;&#3021; &#2980;&#3015;&#2992;&#3021;&#2980;&#2994;&#3021; &#40;&#49;&#57;&#54;&#55; &#45;&#50;&#48;&#49;&#49;&#41;</title>			
</head>
<body >
  	<div class="container-fluid header-style">
		<div class="container">
			<div class="row">
				<div class="col-md-12 header-logo">
				</div>
			</div>
		</div>
	</div>
	
	
	
	<div class="Constituency_partyTrend">
		<div class="container-fluid">
	<div class="container">
  		
			<div class="row">
			<div class="col-md-12 panel panel-default">   
			<div class="row">
				<div class="col-md-12 panel-heading1">
					<h2>&#2970;&#2975;&#3021;&#2975; &#2990;&#2985;&#3021;&#2993;&#2980;&#3021; &#2980;&#3015;&#2992;&#3021;&#2980;&#2994;&#3021; &#40;&#49;&#57;&#54;&#55; &#45;&#50;&#48;&#49;&#49;&#41;</h2>
				</div>	
           </div>
           <div class="row">		   
				<div class=" col-md-12 panel-body">
						<div class="party_trend">
						 </div>

				</div>
		  </div>
			
			</div>
			</div>
			
	
	</div>
	</div>
	</div>
	
<a href="javascript:" id="return-to-top"><i class="icon-chevron-up"></i></a>
<script type="text/javascript">

    $(window).scroll(function() {
        if ($(this).scrollTop() >= 50) {        
            $('#return-to-top').fadeIn(200);    
        } else {
            $('#return-to-top').fadeOut(200);   
        }
    });
    $('#return-to-top').click(function() {     
        $('body,html').animate({
            scrollTop : 0             
        }, 500);
    });	

d3.csv("color_mapper.csv", function(error_color, color_data) {

color_map = {}

color_data.forEach(function (d) {
	
	color_map[d.party] = d.color;
	
});

	
function addThousandsSeparator(t){var a=t;if(parseFloat(t)){t=new String(t);var e=t.split(".");e[0]=e[0].split("").reverse().join("").replace(/(\d{3})(?!$)/g,"$1,").split("").reverse().join(""),a=e.join(".")}return a}
 
var margin = {top: 80, right: 20, bottom: 35, left: 20},
    width = 960 - margin.left - margin.right,
    height = 100 - margin.top - margin.bottom;

var svg = d3.select(".party_trend").append("svg")
            .style("width", "100%")
            .attr("data-height","0.54")
            .attr("viewBox","0 0 "+(width + margin.left + margin.right)+" "+(height + margin.top + margin.bottom))
			.append("g")
			.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

 var party_names = ['DMK','ADMK','INC','CPM','TMC','CPI','PMK','DMDK','NCO','JNP','MDMK','IND','BJP','Others'];
  
  svg.selectAll("rect")
      .data(party_names)
      .enter().append("rect")
      .attr("x",  function(d,i) { return i*(width/party_names.length) })
	  .attr("class",function(d,i) { return "party-legend "+d})
	  .attr("data-party",function(d) { return d }) 
	  .attr("data-highlight",function(d) { return "[data-party="+d+"]" }) 
	  .attr("data-toggle","highlight") 
      .attr("sub_title",function(d) { return '.'+d })
	  .attr("width", (width/party_names.length))
      .attr("y", -50)
      .attr("height",20)
      .style("fill", function(d) { return color_map[d] })
	  .attr("stroke-width",.5)
	  .style("stroke", function(d) { return d3.rgb(color_map[d.name]).darker(); })	
	  .on("click", function(){
			d3.selectAll('.rect_names').style("opacity", 0);
			d3.selectAll($(this).attr("sub_title")).style("opacity", 1);
			d3.selectAll($(this).attr("sub_title")+'s').style("opacity", 1);
		});
			
  svg.selectAll(".text")
      .data(party_names)
      .enter().append("text")
      .attr("x",  function(d,i) { return (i+.5)*(width/party_names.length) })
	  .attr("y", -40)
      .attr("dy",".35em")
	  .attr("class",function(d) { return d })
      .attr("sub_title",function(d) { return '.'+d })
	  .style("text-anchor","middle")
	  .style("fill", function(d) { return (parseInt(color_map[d].replace('#', ''), 16) > 0xffffff / 2) ? '#000' : '#fff';})
	  .on("click", function(){
		d3.selectAll('.rect_names').style("opacity", 0);
		d3.selectAll($(this).attr("sub_title")).style("opacity", 1);
		d3.selectAll($(this).attr("sub_title")+'s').style("opacity", 1);
		})
		.text(function(d) { return d });

// load the data (using the timelyportfolio csv method)
d3.text("tn_data.csv", function(error, data) {


color_map = {}

color_data.forEach(function (d) {
	
	color_map[d.party] = d.color;
	
});
   var parsedCSV = d3.csv.parseRows(data);
   
   var container = d3.select(".party_trend")
					  .append("table")
					   .attr("id","myTable")
					   .attr("class","table table-bordered");
					   
			container.selectAll("thead")
				.data([parsedCSV[0]]).enter()
				.append("thead")
			    .attr("class","data_head")
				.append("tr")
			.selectAll("th")
				.data(function(d) { return d; }).enter()
				.append("th")
				 .attr("class","dynatable-head")
				 .append("font")
					.attr("color","#636363")
				.text(function(d) { return d; })

			if (0 > -1) { parsedCSV.splice(0, 1);}
					
				container
					.append("tbody")
					 .selectAll("tr")
						.data(parsedCSV).enter()
						.append("tr")
                    .selectAll("td")
                        .data(function(d) { return d; }).enter()
                        .append("td")
						.attr("bgcolor",function(d) { return color_map[d] })
						.append("font")
						.attr("color",function(d) { return color_map[d] == undefined ? "#636363" : (parseInt(color_map[d].replace('#', ''), 16) > 0xffffff / 2) ? '#000' : '#fff';})
						.attr("id",function(d,i) { return "rect_names"+d; })
						.attr("class",function(d) { return  d })
						.text(function(d) { return d; })		

		 $(".DMK").html("&#2980;&#3007;&#2990;&#3009;&#2965;");
		 $(".ADMK").html("&#2949;&#2980;&#3007;&#2990;&#3009;&#2965;");
		 $(".INC").html("&#2965;&#3006;&#2969;&#3021;")
		 $(".CPM").html("&#2970;&#3007;&#2986;&#3007;&#2990;&#3021;");
		 $(".TMC").html("&#2980;&#2990;&#2965;");
		 $(".CPI").html("&#2970;&#3007;&#2986;&#3007;&#2960;");
		 $(".PMK").html("&#2986;&#3006;&#2990;&#2965;");						 
		 $(".DMDK").html("&#2980;&#3015;&#2990;&#3009;&#2980;&#3007;&#2965;");	 
		 $(".NCO").html("&#2958;&#2985;&#3021;&#2970;&#3007;&#2963;");
		 $(".JNP").html("&#2972; &#2985;&#3006;");
		 $(".MDMK").html("&#2990;&#2980;&#3007;&#2990;&#3009;&#2965;");
		 $(".IND").html("&#2970;&#3009;&#2991;");
		 $(".BJP").html("&#2986;&#3006;&#2972;&#2965;");
		 $(".Others").html("&#2986;&#3007;&#2993;");
		 
		 
		$('#myTable').DataTable({
        "sScrollX": "100%",
        "sScrollXInner": "150%"
  });	
		

		
	});					
	
});


</script>
</body>
</html>