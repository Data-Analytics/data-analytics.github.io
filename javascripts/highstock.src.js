(function(){function Ct(e,t){var n;if(!e){e={}}for(n in t){e[n]=t[n]}return e}function kt(){var e,t=arguments,n,r={},i=function(e,t){var n,r;if(typeof e!=="object"){e={}}for(r in t){if(t.hasOwnProperty(r)){n=t[r];if(n&&typeof n==="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&typeof n.nodeType!=="number"){e[r]=i(e[r]||{},n)}else{e[r]=t[r]}}}return e};if(t[0]===true){r=t[1];t=Array.prototype.slice.call(t,2)}n=t.length;for(e=0;e<n;e++){r=i(r,t[e])}return r}function Lt(){var e=0,t=arguments,n=t.length,r={};for(;e<n;e++){r[t[e++]]=t[e]}return r}function At(e,t){return parseInt(e,t||10)}function Ot(e){return typeof e==="string"}function Mt(e){return typeof e==="object"}function _t(e){return Object.prototype.toString.call(e)==="[object Array]"}function Dt(e){return typeof e==="number"}function Pt(e){return r.log(e)/r.LN10}function Ht(e){return r.pow(10,e)}function Bt(e,t){var n=e.length;while(n--){if(e[n]===t){e.splice(n,1);break}}}function jt(t){return t!==e&&t!==null}function Ft(e,t,n){var r,i="setAttribute",s;if(Ot(t)){if(jt(n)){e[i](t,n)}else if(e&&e.getAttribute){s=e.getAttribute(t)}}else if(jt(t)&&Mt(t)){for(r in t){e[i](r,t[r])}}return s}function It(e){return _t(e)?e:[e]}function qt(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++){n=e[t];if(typeof n!=="undefined"&&n!==null){return n}}}function Rt(t,n){if(m){if(n&&n.opacity!==e){n.filter="alpha(opacity="+n.opacity*100+")"}}Ct(t.style,n)}function Ut(e,n,r,i,s){var o=t.createElement(e);if(n){Ct(o,n)}if(s){Rt(o,{padding:0,border:V,margin:0})}if(r){Rt(o,r)}if(i){i.appendChild(o)}return o}function zt(e,t){var n=function(){};n.prototype=new e;Ct(n.prototype,t);return n}function Wt(e,t,n,r){var i=O.lang,s=+e||0,o=t===-1?(s.toString().split(".")[1]||"").length:isNaN(t=f(t))?2:t,u=n===undefined?i.decimalPoint:n,a=r===undefined?i.thousandsSep:r,l=s<0?"-":"",c=String(At(s=f(s).toFixed(o))),h=c.length>3?c.length%3:0;return l+(h?c.substr(0,h)+a:"")+c.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?u+f(s-c).toFixed(o).slice(2):"")}function Xt(e,t){return(new Array((t||2)+1-String(e).length)).join(0)+e}function Vt(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);e.unshift(r);return n.apply(this,e)}}function $t(e,t){var n=/f$/,r=/\.([0-9])/,i=O.lang,s;if(n.test(e)){s=e.match(r);s=s?s[1]:-1;t=Wt(t,s,i.decimalPoint,e.indexOf(",")>-1?i.thousandsSep:"")}else{t=M(e,t)}return t}function Jt(e,t){var n="{",r=false,i,s,o,u,a,f=[],l,c;while((c=e.indexOf(n))!==-1){i=e.slice(0,c);if(r){s=i.split(":");o=s.shift().split(".");a=o.length;l=t;for(u=0;u<a;u++){l=l[o[u]]}if(s.length){l=$t(s.join(":"),l)}f.push(l)}else{f.push(i)}e=e.slice(c+1);r=!r;n=r?"}":"{"}f.push(e);return f.join("")}function Kt(e){return r.pow(10,s(r.log(e)/r.LN10))}function Qt(e,t,n,r){var i,s;n=qt(n,1);i=e/n;if(!t){t=[1,2,2.5,5,10];if(r&&r.allowDecimals===false){if(n===1){t=[1,2,5,10]}else if(n<=.1){t=[1/n]}}}for(s=0;s<t.length;s++){e=t[s];if(i<=(t[s]+(t[s+1]||t[s]))/2){break}}e*=n;return e}function Gt(){this.color=0;this.symbol=0}function Yt(e,t){var n=e.length,r,i;for(i=0;i<n;i++){e[i].ss_i=i}e.sort(function(e,n){r=t(e,n);return r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++){delete e[i].ss_i}}function Zt(e){var t=e.length,n=e[0];while(t--){if(e[t]<n){n=e[t]}}return n}function en(e){var t=e.length,n=e[0];while(t--){if(e[t]>n){n=e[t]}}return n}function tn(e,t){var n;for(n in e){if(e[n]&&e[n]!==t&&e[n].destroy){e[n].destroy()}delete e[n]}}function nn(e){if(!A){A=Ut(I)}if(e){A.appendChild(e)}A.innerHTML=""}function rn(e,t){var r="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t){throw r}else if(n.console){console.log(r)}}function sn(e){return parseFloat(e.toPrecision(14))}function on(e,t){_=qt(e,t.animation)}function Nn(){var e=O.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";pt=(e&&O.global.timezoneOffset||0)*6e4;ht=e?Date.UTC:function(e,t,n,r,i,s){return(new Date(e,t,qt(n,1),qt(r,0),qt(i,0),qt(s,0))).getTime()};dt=t+"Minutes";vt=t+"Hours";mt=t+"Day";gt=t+"Date";yt=t+"Month";bt=t+"FullYear";wt=n+"Minutes";Et=n+"Hours";St=n+"Date";xt=n+"Month";Tt=n+"FullYear"}function Cn(e){O=kt(true,O,e);Nn();return O}function kn(){return O}function _n(){}function In(e,t,n,r){this.axis=e;this.pos=t;this.type=n||"";this.isNew=true;if(!n&&!r){this.addLabel()}}function qn(e,t,n,r,i,s){var o=e.chart.inverted;this.axis=e;this.isNegative=n;this.options=t;this.x=r;this.total=null;this.points={};this.stack=i;this.percent=s==="percent";this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:qt(t.y,o?4:n?14:-6),x:qt(t.x,o?n?-6:6:0)};this.textAlign=t.textAlign||(o?n?"right":"left":"center")}function Un(){this.init.apply(this,arguments)}function zn(){this.init.apply(this,arguments)}function Kn(){this.init.apply(this,arguments)}function Cr(e){var t=e.options,n=t.navigator,r=n.enabled,i=t.scrollbar,s=i.enabled,o=r?n.height:0,u=s?i.height:0;this.handles=[];this.scrollbarButtons=[];this.elementsToDestroy=[];this.chart=e;this.setBaseSeries();this.height=o;this.scrollbarHeight=u;this.scrollbarEnabled=s;this.navigatorEnabled=r;this.navigatorOptions=n;this.scrollbarOptions=i;this.outlineHeight=o+u;this.init()}function kr(e){this.init(e)}var e,t=document,n=window,r=Math,i=r.round,s=r.floor,o=r.ceil,u=r.max,a=r.min,f=r.abs,l=r.cos,c=r.sin,h=r.PI,p=h*2/360,d=navigator.userAgent,v=n.opera,m=/msie/i.test(d)&&!v,g=t.documentMode===8,y=/AppleWebKit/.test(d),b=/Firefox/.test(d),w=/(Mobile|Android|Windows Phone)/.test(d),E="http://www.w3.org/2000/svg",S=!!t.createElementNS&&!!t.createElementNS(E,"svg").createSVGRect,x=b&&parseInt(d.split("Firefox/")[1],10)<4,T=!S&&!m&&!!t.createElement("canvas").getContext,N,C=t.documentElement.ontouchstart!==e,k={},L=0,A,O,M,_,D,P,H=function(){},B=[],j="Highstock",F="1.3.9",I="div",q="absolute",R="relative",U="hidden",z="highcharts-",W="visible",X="px",V="none",$="M",J="L",K=/^[0-9]+$/,Q="rgba(192,192,192,"+(S?1e-4:.002)+")",G="",Y="hover",Z="select",et="millisecond",tt="second",nt="minute",rt="hour",it="day",st="week",ot="month",ut="year",at,ft="linearGradient",lt="stops",ct="stroke-width",ht,pt,dt,vt,mt,gt,yt,bt,wt,Et,St,xt,Tt,Nt={};n.Highcharts=n.Highcharts?rn(16,true):{};M=function(e,t,n){if(!jt(t)||isNaN(t)){return"Invalid date"}e=qt(e,"%Y-%m-%d %H:%M:%S");var r=new Date(t-pt),s,o=r[vt](),u=r[mt](),a=r[gt](),f=r[yt](),l=r[bt](),c=O.lang,h=c.weekdays,p=Ct({a:h[u].substr(0,3),A:h[u],d:Xt(a),e:a,b:c.shortMonths[f],B:c.months[f],m:Xt(f+1),y:l.toString().substr(2,2),Y:l,H:Xt(o),I:Xt(o%12||12),l:o%12||12,M:Xt(r[dt]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:Xt(r.getSeconds()),L:Xt(i(t%1e3),3)},Highcharts.dateFormats);for(s in p){while(e.indexOf("%"+s)!==-1){e=e.replace("%"+s,typeof p[s]==="function"?p[s](t):p[s])}}return n?e.substr(0,1).toUpperCase()+e.substr(1):e};Gt.prototype={wrapColor:function(e){if(this.color>=e){this.color=0}},wrapSymbol:function(e){if(this.symbol>=e){this.symbol=0}}};P=Lt(et,1,tt,1e3,nt,6e4,rt,36e5,it,24*36e5,st,7*24*36e5,ot,31*24*36e5,ut,31556952e3);D={init:function(e,t,n){t=t||"";var r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,u,a,f=t.split(" "),l=[].concat(n),c,h,p=function(e){a=e.length;while(a--){if(e[a]===$){e.splice(a+1,0,e[a+1],e[a+2],e[a+1],e[a+2])}}};if(i){p(f);p(l)}if(e.isArea){c=f.splice(f.length-6,6);h=l.splice(l.length-6,6)}if(r<=l.length/s&&f.length===l.length){while(r--){l=[].concat(l).splice(0,s).concat(l)}}e.shift=0;if(f.length){o=l.length;while(f.length<o){u=[].concat(f).splice(f.length-s,s);if(i){u[s-6]=u[s-2];u[s-5]=u[s-1]}f=f.concat(u)}}if(c){f=f.concat(c);l=l.concat(h)}return[f,l]},step:function(e,t,n,r){var i=[],s=e.length,o;if(n===1){i=r}else if(s===t.length&&n<1){while(s--){o=parseFloat(e[s]);i[s]=isNaN(o)?e[s]:n*parseFloat(t[s]-o)+o}}else{i=t}return i}};(function(r){n.HighchartsAdapter=n.HighchartsAdapter||r&&{init:function(t){var n=r.fx,i=n.step,s,o=r.Tween,u=o&&o.propHooks,a=r.cssHooks.opacity;r.extend(r.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}});r.each(["cur","_default","width","height","opacity"],function(t,r){var s=i,a;if(r==="cur"){s=n.prototype}else if(r==="_default"&&o){s=u[r];r="set"}a=s[r];if(a){s[r]=function(n){var i;n=t?n:this;if(n.prop==="align"){return}i=n.elem;return i.attr?i.attr(n.prop,r==="cur"?e:n.now):a.apply(this,arguments)}}});Vt(a,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)});s=function(e){var n=e.elem,r;if(!e.started){r=t.init(n,n.d,n.toD);e.start=r[0];e.end=r[1];e.started=true}n.attr("d",t.step(e.start,e.end,e.pos,n.toD))};if(o){u.d={set:s}}else{i.d=s}this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n=0,r=e.length;for(;n<r;n++){if(t.call(e[n],e[n],n,e)===false){return n}}};r.fn.highcharts=function(){var t="Chart",n=arguments,r,i,s;if(Ot(n[0])){t=n[0];n=Array.prototype.slice.call(n,1)}r=n[0];if(r!==e){r.chart=r.chart||{};r.chart.renderTo=this[0];s=new Highcharts[t](r,n[1]);i=this}if(r===e){i=B[Ft(this[0],"data-highcharts-chart")]}return i}},getScript:r.getScript,inArray:r.inArray,adapterRun:function(e,t){return r(e)[t]()},grep:r.grep,map:function(e,t){var n=[],r=0,i=e.length;for(;r<i;r++){n[r]=t.call(e[r],e[r],r,e)}return n},offset:function(e){return r(e).offset()},addEvent:function(e,t,n){r(e).bind(t,n)},removeEvent:function(e,n,i){var s=t.removeEventListener?"removeEventListener":"detachEvent";if(t[s]&&e&&!e[s]){e[s]=function(){}}r(e).unbind(n,i)},fireEvent:function(e,t,n,i){var s=r.Event(t),o="detached"+t,u;if(!m&&n){delete n.layerX;delete n.layerY}Ct(s,n);if(e[t]){e[o]=e[t];e[t]=null}r.each(["preventDefault","stopPropagation"],function(e,t){var n=s[t];s[t]=function(){try{n.call(s)}catch(e){if(t==="preventDefault"){u=true}}}});r(e).trigger(s);if(e[o]){e[t]=e[o];e[o]=null}if(i&&!s.isDefaultPrevented()&&!u){i(s)}},washMouseEvent:function(t){var n=t.originalEvent||t;if(n.pageX===e){n.pageX=t.pageX;n.pageY=t.pageY}return n},animate:function(t,n,i){var s=r(t);if(!t.style){t.style={}}if(n.d){t.toD=n.d;n.d=1}s.stop();if(n.opacity!==e&&t.attr){n.opacity+="px"}s.animate(n,i)},stop:function(e){r(e).stop()}}})(n.jQuery);var un=n.HighchartsAdapter,an=un||{};if(un){un.init.call(un,D)}var fn=an.adapterRun,ln=an.getScript,cn=an.inArray,hn=an.each,pn=an.grep,dn=an.offset,vn=an.map,mn=an.addEvent,gn=an.removeEvent,yn=an.fireEvent,bn=an.washMouseEvent,wn=an.animate,En=an.stop;var Sn={enabled:true,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px"}};O={colors:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:true,canvasToolsURL:"http://code.highcharts.com/stock/1.3.9/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/1.3.9/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:true,spacing:[10,10,15,10],style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:false,showCheckbox:false,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:true,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:true},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:kt(Sn,{align:"center",enabled:false,formatter:function(){return this.y===null?"":Wt(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:true,turboThreshold:1e3}},labels:{style:{position:q,color:"#3E576F"}},legend:{enabled:true,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:false,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:q,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:R,top:"1em"},style:{position:q,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:true,animation:S,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:true,snap:w?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:true,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var xn=O.plotOptions,Tn=xn.line;Nn();var Ln=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,An=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,On=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/;var Mn=function(e){function i(e){if(e&&e.stops){r=vn(e.stops,function(e){return Mn(e[1])})}else{n=Ln.exec(e);if(n){t=[At(n[1]),At(n[2]),At(n[3]),parseFloat(n[4],10)]}else{n=An.exec(e);if(n){t=[At(n[1],16),At(n[2],16),At(n[3],16),1]}else{n=On.exec(e);if(n){t=[At(n[1]),At(n[2]),At(n[3]),1]}}}}}function s(n){var i;if(r){i=kt(e);i.stops=[].concat(i.stops);hn(r,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})}else if(t&&!isNaN(t[0])){if(n==="rgb"){i="rgb("+t[0]+","+t[1]+","+t[2]+")"}else if(n==="a"){i=t[3]}else{i="rgba("+t.join(",")+")"}}else{i=e}return i}function o(e){if(r){hn(r,function(t){t.brighten(e)})}else if(Dt(e)&&e!==0){var n;for(n=0;n<3;n++){t[n]+=At(e*255);if(t[n]<0){t[n]=0}if(t[n]>255){t[n]=255}}}return this}function u(e){t[3]=e;return this}var t=[],n,r;i(e);return{get:s,brighten:o,rgba:t,setOpacity:u}};_n.prototype={init:function(e,n){var r=this;r.element=n==="span"?Ut(n):t.createElementNS(E,n);r.renderer=e;r.attrSetters={}},opacity:1,animate:function(e,t,n){var r=qt(t,_,true);En(this);if(r){r=kt(r);if(n){r.complete=n}wn(this,e,r)}else{this.attr(e);if(n){n()}}},attr:function(n,r){var i=this,s,o,a,f,l,c=i.element,h=c.nodeName.toLowerCase(),p=i.renderer,d,v,m=i.attrSetters,g=i.shadows,y,b,w=i;if(Ot(n)&&jt(r)){s=n;n={};n[s]=r}if(Ot(n)){s=n;if(h==="circle"){s={x:"cx",y:"cy"}[s]||s}else if(s==="strokeWidth"){s="stroke-width"}w=Ft(c,s)||i[s]||0;if(s!=="d"&&s!=="visibility"&&s!=="fill"){w=parseFloat(w)}}else{for(s in n){d=false;o=n[s];a=m[s]&&m[s].call(i,o,s);if(a!==false){if(a!==e){o=a}if(s==="d"){if(o&&o.join){o=o.join(" ")}if(/(NaN| {2}|^$)/.test(o)){o="M 0 0"}}else if(s==="x"&&h==="text"){for(f=0;f<c.childNodes.length;f++){l=c.childNodes[f];if(Ft(l,"x")===Ft(c,"x")){Ft(l,"x",o)}}}else if(i.rotation&&(s==="x"||s==="y")){b=true}else if(s==="fill"){o=p.color(o,c,s)}else if(h==="circle"&&(s==="x"||s==="y")){s={x:"cx",y:"cy"}[s]||s}else if(h==="rect"&&s==="r"){Ft(c,{rx:o,ry:o});d=true}else if(s==="translateX"||s==="translateY"||s==="rotation"||s==="verticalAlign"||s==="scaleX"||s==="scaleY"){b=true;d=true}else if(s==="stroke"){o=p.color(o,c,s)}else if(s==="dashstyle"){s="stroke-dasharray";o=o&&o.toLowerCase();if(o==="solid"){o=V}else if(o){o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");f=o.length;while(f--){o[f]=At(o[f])*qt(n["stroke-width"],i["stroke-width"])}o=o.join(",")}}else if(s==="width"){o=At(o)}else if(s==="align"){s="text-anchor";o={left:"start",center:"middle",right:"end"}[o]}else if(s==="title"){v=c.getElementsByTagName("title")[0];if(!v){v=t.createElementNS(E,"title");c.appendChild(v)}v.textContent=o}if(s==="strokeWidth"){s="stroke-width"}if(s==="stroke-width"||s==="stroke"){i[s]=o;if(i.stroke&&i["stroke-width"]){Ft(c,"stroke",i.stroke);Ft(c,"stroke-width",i["stroke-width"]);i.hasStroke=true}else if(s==="stroke-width"&&o===0&&i.hasStroke){c.removeAttribute("stroke");i.hasStroke=false}d=true}if(i.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(s)){if(!y){i.symbolAttr(n);y=true}d=true}if(g&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(s)){f=g.length;while(f--){Ft(g[f],s,s==="height"?u(o-(g[f].cutHeight||0),0):o)}}if((s==="width"||s==="height")&&h==="rect"&&o<0){o=0}i[s]=o;if(s==="text"){if(o!==i.textStr){delete i.bBox}i.textStr=o;if(i.added){p.buildText(i)}}else if(!d){Ft(c,s,o)}}}if(b){i.updateTransform()}}return w},addClass:function(e){var t=this.element,n=Ft(t,"class")||"";if(n.indexOf(e)===-1){Ft(t,"class",n+" "+e)}return this},symbolAttr:function(e){var t=this;hn(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){t[n]=qt(e[n],t[n])});t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":V)},crisp:function(e,t,n,r,o){var u=this,a,f={},l={},c;e=e||u.strokeWidth||u.attr&&u.attr("stroke-width")||0;c=i(e)%2/2;l.x=s(t||u.x||0)+c;l.y=s(n||u.y||0)+c;l.width=s((r||u.width||0)-2*c);l.height=s((o||u.height||0)-2*c);l.strokeWidth=e;for(a in l){if(u[a]!==l[a]){u[a]=f[a]=l[a]}}return f},css:function(e){var t=this,n=t.element,r=t.textWidth=e&&e.width&&n.nodeName.toLowerCase()==="text"&&At(e.width),i,s="",o=function(e,t){return"-"+t.toLowerCase()};if(e&&e.color){e.fill=e.color}e=Ct(t.styles,e);t.styles=e;if(r){delete e.width}if(m&&!S){Rt(t.element,e)}else{for(i in e){s+=i.replace(/([A-Z])/g,o)+":"+e[i]+";"}Ft(n,"style",s)}if(r&&t.added){t.renderer.buildText(t)}return t},on:function(e,t){var n=this,r=n.element;if(C&&e==="click"){r.ontouchstart=function(e){n.touchEventFired=Date.now();e.preventDefault();t.call(r,e)};r.onclick=function(e){if(d.indexOf("Android")===-1||Date.now()-(n.touchEventFired||0)>1100){t.call(r,e)}}}else{r["on"+e]=t}return this},setRadialReference:function(e){this.element.radialReference=e;return this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){var e=this;e.inverted=true;e.updateTransform();return e},updateTransform:function(){var e=this,t=e.translateX||0,n=e.translateY||0,r=e.scaleX,i=e.scaleY,s=e.inverted,o=e.rotation,u;if(s){t+=e.attr("width");n+=e.attr("height")}u=["translate("+t+","+n+")"];if(s){u.push("rotate(90) scale(-1,1)")}else if(o){u.push("rotate("+o+" "+(e.x||0)+" "+(e.y||0)+")")}if(jt(r)||jt(i)){u.push("scale("+qt(r,1)+" "+qt(i,1)+")")}if(u.length){Ft(e.element,"transform",u.join(" "))}},toFront:function(){var e=this.element;e.parentNode.appendChild(e);return this},align:function(e,t,n){var r,s,o,u,a={},f,l=this.renderer,c=l.alignedObjects;if(e){this.alignOptions=e;this.alignByTranslate=t;if(!n||Ot(n)){this.alignTo=f=n||"renderer";Bt(c,this);c.push(this);n=null}}else{e=this.alignOptions;t=this.alignByTranslate;f=this.alignTo}n=qt(n,l[f],l);r=e.align;s=e.verticalAlign;o=(n.x||0)+(e.x||0);u=(n.y||0)+(e.y||0);if(r==="right"||r==="center"){o+=(n.width-(e.width||0))/{right:1,center:2}[r]}a[t?"translateX":"x"]=i(o);if(s==="bottom"||s==="middle"){u+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1)}a[t?"translateY":"y"]=i(u);this[this.placed?"animate":"attr"](a);this.placed=true;this.alignAttr=a;return this},getBBox:function(){var e=this,t=e.bBox,n=e.renderer,r,i,s=e.rotation,o=e.element,u=e.styles,a=s*p,h=e.textStr,d;if(h===""||K.test(h)){d=h.length+"|"+u.fontSize+"|"+u.fontFamily;t=n.cache[d]}if(!t){if(o.namespaceURI===E||n.forExport){try{t=o.getBBox?Ct({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight}}catch(v){}if(!t||t.width<0){t={width:0,height:0}}}else{t=e.htmlGetBBox()}if(n.isSVG){r=t.width;i=t.height;if(m&&u&&u.fontSize==="11px"&&i.toPrecision(3)==="16.9"){t.height=i=14}if(s){t.width=f(i*c(a))+f(r*l(a));t.height=f(i*l(a))+f(r*c(a))}}e.bBox=t;if(d){n.cache[d]=t}}return t},show:function(){return this.attr({visibility:W})},hide:function(){return this.attr({visibility:U})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.hide()}})},add:function(e){var t=this.renderer,n=e||t,r=n.element||t.box,i=r.childNodes,s=this.element,o=Ft(s,"zIndex"),u,a,f,l;if(e){this.parentGroup=e}this.parentInverted=e&&e.inverted;if(this.textStr!==undefined){t.buildText(this)}if(o){n.handleZ=true;o=At(o)}if(n.handleZ){for(f=0;f<i.length;f++){u=i[f];a=Ft(u,"zIndex");if(u!==s&&(At(a)>o||!jt(o)&&jt(a))){r.insertBefore(s,u);l=true;break}}}if(!l){r.appendChild(s)}this.added=true;yn(this,"add");return this},safeRemoveChild:function(e){var t=e.parentNode;if(t){t.removeChild(e)}},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.renderer.isSVG&&t.nodeName==="SPAN"&&e.parentGroup,i,s,o;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null;En(e);if(e.clipPath){e.clipPath=e.clipPath.destroy()}if(e.stops){for(o=0;o<e.stops.length;o++){e.stops[o]=e.stops[o].destroy()}e.stops=null}e.safeRemoveChild(t);if(n){hn(n,function(t){e.safeRemoveChild(t)})}while(r&&r.div.childNodes.length===0){i=r.parentGroup;e.safeRemoveChild(r.div);delete r.div;r=i}if(e.alignTo){Bt(e.renderer.alignedObjects,e)}for(s in e){delete e[s]}return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,a,f,l,c;if(e){f=qt(e.width,3);l=(e.opacity||.15)/f;c=this.parentInverted?"(-1,-1)":"("+qt(e.offsetX,1)+", "+qt(e.offsetY,1)+")";for(i=1;i<=f;i++){s=o.cloneNode(0);a=f*2+1-2*i;Ft(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":l*i,"stroke-width":a,transform:"translate"+c,fill:V});if(n){Ft(s,"height",u(Ft(s,"height")-a,0));s.cutHeight=a}if(t){t.element.appendChild(s)}else{o.parentNode.insertBefore(s,o)}r.push(s)}this.shadows=r}return this}};var Dn=function(){this.init.apply(this,arguments)};Dn.prototype={Element:_n,init:function(e,r,i,s){var u=this,a=location,f,l,c;f=u.createElement("svg").attr({version:"1.1"});l=f.element;e.appendChild(l);if(e.innerHTML.indexOf("xmlns")===-1){Ft(l,"xmlns",E)}u.isSVG=true;u.box=l;u.boxWrapper=f;u.alignedObjects=[];u.url=(b||y)&&t.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";c=this.createElement("desc").add();c.element.appendChild(t.createTextNode("Created with "+j+" "+F));u.defs=this.createElement("defs").add();u.forExport=s;u.gradients={};u.cache={};u.setSize(r,i,false);var h,p;if(b&&e.getBoundingClientRect){u.subPixelFix=h=function(){Rt(e,{left:0,top:0});p=e.getBoundingClientRect();Rt(e,{left:o(p.left)-p.left+X,top:o(p.top)-p.top+X})};h();mn(n,"resize",h)}},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,t=e.defs;e.box=null;e.boxWrapper=e.boxWrapper.destroy();tn(e.gradients||{});e.gradients=null;if(t){e.defs=t.destroy()}if(e.subPixelFix){gn(n,"resize",e.subPixelFix)}e.alignedObjects=null;return null},createElement:function(e){var t=new this.Element;t.init(this,e);return t},draw:function(){},buildText:function(e){var n=e.element,r=this,i=r.forExport,s=qt(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),o=n.childNodes,u=/style="([^"]+)"/,a=/href="(http[^"]+)"/,f=Ft(n,"x"),l=e.styles,c=e.textWidth,h=l&&l.lineHeight,p=o.length,d=function(e){return h?At(h):r.fontMetrics(/px$/.test(e&&e.style.fontSize)?e.style.fontSize:l.fontSize||11).h};while(p--){n.removeChild(o[p])}if(c&&!e.added){this.box.appendChild(n)}if(s[s.length-1]===""){s.pop()}hn(s,function(s,o){var h,p=0;s=s.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");h=s.split("|||");hn(h,function(s){if(s!==""||h.length===1){var v={},m=t.createElementNS(E,"tspan"),g;if(u.test(s)){g=s.match(u)[1].replace(/(;| |^)color([ :])/,"$1fill$2");Ft(m,"style",g)}if(a.test(s)&&!i){Ft(m,"onclick",'location.href="'+s.match(a)[1]+'"');Rt(m,{cursor:"pointer"})}s=(s.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(s!==" "){m.appendChild(t.createTextNode(s));if(!p){v.x=f}else{v.dx=0}Ft(m,v);if(!p&&o){if(!S&&i){Rt(m,{display:"block"})}Ft(m,"dy",d(m),y&&m.offsetHeight)}n.appendChild(m);p++;if(c){var b=s.replace(/([^\^])-/g,"$1- ").split(" "),w=b.length>1&&l.whiteSpace!=="nowrap",x,T,N=e._clipHeight,C=[],k=d(),L=1,A;while(w&&(b.length||C.length)){delete e.bBox;A=e.getBBox();T=A.width;if(!S&&r.forExport){T=r.measureSpanWidth(m.firstChild.data,e.styles)}x=T>c;if(!x||b.length===1){b=C;C=[];if(b.length){L++;if(N&&L*k>N){b=["..."];e.attr("title",e.textStr)}else{m=t.createElementNS(E,"tspan");Ft(m,{dy:k,x:f});if(g){Ft(m,"style",g)}n.appendChild(m);if(T>c){c=T}}}}else{m.removeChild(m.firstChild);C.unshift(b.pop())}if(b.length){m.appendChild(t.createTextNode(b.join(" ").replace(/- /g,"-")))}}}}}})})},button:function(e,t,n,r,i,s,o,u,a){var f=this.label(e,t,n,a,null,null,null,null,"button"),l=0,c,h,p,d,v,g,y="style",b={x1:0,y1:0,x2:0,y2:1};i=kt({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:b,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},i);p=i[y];delete i[y];s=kt(i,{stroke:"#68A",fill:{linearGradient:b,stops:[[0,"#FFF"],[1,"#ACF"]]}},s);d=s[y];delete s[y];o=kt(i,{stroke:"#68A",fill:{linearGradient:b,stops:[[0,"#9BD"],[1,"#CDF"]]}},o);v=o[y];delete o[y];u=kt(i,{style:{color:"#CCC"}},u);g=u[y];delete u[y];mn(f.element,m?"mouseover":"mouseenter",function(){if(l!==3){f.attr(s).css(d)}});mn(f.element,m?"mouseout":"mouseleave",function(){if(l!==3){c=[i,s,o][l];h=[p,d,v][l];f.attr(c).css(h)}});f.setState=function(e){f.state=l=e;if(!e){f.attr(i).css(p)}else if(e===2){f.attr(o).css(v)}else if(e===3){f.attr(u).css(g)}};return f.on("click",function(){if(l!==3){r.call(f)}}).attr(i).css(Ct({cursor:"default"},p))},crispLine:function(e,t){if(e[1]===e[4]){e[1]=e[4]=i(e[1])-t%2/2}if(e[2]===e[5]){e[2]=e[5]=i(e[2])+t%2/2}return e},path:function(e){var t={fill:V};if(_t(e)){t.d=e}else if(Mt(e)){Ct(t,e)}return this.createElement("path").attr(t)},circle:function(e,t,n){var r=Mt(e)?e:{x:e,y:t,r:n};return this.createElement("circle").attr(r)},arc:function(e,t,n,r,i,s){var o;if(Mt(e)){t=e.y;n=e.r;r=e.innerR;i=e.start;s=e.end;e=e.x}o=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:i||0,end:s||0});o.r=n;return o},rect:function(e,t,n,r,i,s){i=Mt(e)?e.r:i;var o=this.createElement("rect").attr({rx:i,ry:i,fill:V});return o.attr(Mt(e)?e:o.crisp(s,e,t,u(n,0),u(r,0)))},setSize:function(e,t,n){var r=this,i=r.alignedObjects,s=i.length;r.width=e;r.height=t;r.boxWrapper[qt(n,true)?"animate":"attr"]({width:e,height:t});while(s--){i[s].align()}},g:function(e){var t=this.createElement("g");return jt(e)?t.attr({"class":z+e}):t},image:function(e,t,n,r,i){var s={preserveAspectRatio:V},o;if(arguments.length>1){Ct(s,{x:t,y:n,width:r,height:i})}o=this.createElement("image").attr(s);if(o.element.setAttributeNS){o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e)}else{o.element.setAttribute("hc-svg-href",e)}return o},symbol:function(e,t,n,r,s,o){var u,a=this.symbols[e],f=a&&a(i(t),i(n),r,s,o),l,c=/^url\((.*?)\)$/,h,p,d;if(f){u=this.path(f);Ct(u,{symbolName:e,x:t,y:n,width:r,height:s});if(o){Ct(u,o)}}else if(c.test(e)){d=function(e,t){if(e.element){e.attr({width:t[0],height:t[1]});if(!e.alignByTranslate){e.translate(i((r-t[0])/2),i((s-t[1])/2))}}};h=e.match(c)[1];p=k[h];u=this.image(h).attr({x:t,y:n});u.isImg=true;if(p){d(u,p)}else{u.attr({width:0,height:0});l=Ut("img",{onload:function(){d(u,k[h]=[this.width,this.height])},src:h})}}return u},symbols:{circle:function(e,t,n,r){var i=.166*n;return[$,e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return[$,e,t,J,e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return[$,e+n/2,t,J,e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return[$,e,t,J,e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return[$,e+n/2,t,J,e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,o=i.r||n||r,u=i.end-.001,a=i.innerR,f=i.open,p=l(s),d=c(s),v=l(u),m=c(u),g=i.end-s<h?0:1;return[$,e+o*p,t+o*d,"A",o,o,0,g,1,e+o*v,t+o*m,f?$:J,e+a*v,t+a*m,"A",a,a,0,g,0,e+a*p,t+a*d,f?"":"Z"]}},clipRect:function(e,t,n,r){var i,s=z+L++,o=this.createElement("clipPath").attr({id:s}).add(this.defs);i=this.rect(e,t,n,r,0).add(o);i.id=s;i.clipPath=o;return i},color:function(e,t,n){var r=this,i,s=/^rgba/,o,u,a,f,l,c,h,p,d,v,m=[];if(e&&e.linearGradient){o="linearGradient"}else if(e&&e.radialGradient){o="radialGradient"}if(o){u=e[o];a=r.gradients;l=e.stops;p=t.radialReference;if(_t(u)){e[o]=u={x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientUnits:"userSpaceOnUse"}}if(o==="radialGradient"&&p&&!jt(u.gradientUnits)){u=kt(u,{cx:p[0]-p[2]/2+u.cx*p[2],cy:p[1]-p[2]/2+u.cy*p[2],r:u.r*p[2],gradientUnits:"userSpaceOnUse"})}for(d in u){if(d!=="id"){m.push(d,u[d])}}for(d in l){m.push(l[d])}m=m.join(",");if(a[m]){v=a[m].id}else{u.id=v=z+L++;a[m]=f=r.createElement(o).attr(u).add(r.defs);f.stops=[];hn(l,function(e){var t;if(s.test(e[1])){i=Mn(e[1]);c=i.get("rgb");h=i.get("a")}else{c=e[1];h=1}t=r.createElement("stop").attr({offset:e[0],"stop-color":c,"stop-opacity":h}).add(f);f.stops.push(t)})}return"url("+r.url+"#"+v+")"}else if(s.test(e)){i=Mn(e);Ft(t,n+"-opacity",i.get("a"));return i.get("rgb")}else{t.removeAttribute(n+"-opacity");return e}},text:function(e,t,n,r){var s=this,o=O.chart.style,u=T||!S&&s.forExport,a;if(r&&!s.forExport){return s.html(e,t,n)}t=i(qt(t,0));n=i(qt(n,0));a=s.createElement("text").attr({x:t,y:n,text:e}).css({fontFamily:o.fontFamily,fontSize:o.fontSize});if(u){a.css({position:q})}a.x=t;a.y=n;return a},fontMetrics:function(e){e=At(e||11);var t=e<24?e+4:i(e*1.2),n=i(t*.8);return{h:t,b:n}},label:function(t,n,r,s,o,u,a,f,l){function L(){var e,t,n=p.element.style;v=(b===undefined||w===undefined||h.styles.textAlign)&&p.getBBox();h.width=(b||v.width||0)+2*g+y;h.height=(w||v.height||0)+2*g;N=g+c.fontMetrics(n&&n.fontSize).b;if(k){if(!d){e=i(-m*g);t=f?-N:0;h.box=d=s?c.symbol(s,e,t,h.width,h.height,T):c.rect(e,t,h.width,h.height,0,T[ct]);d.add(h)}if(!d.isImg){d.attr(kt({width:h.width,height:h.height},T))}T=null}}function A(){var e=h.styles,t=e&&e.textAlign,n=y+g*(1-m),r;r=f?0:N;if(jt(b)&&(t==="center"||t==="right")){n+={center:.5,right:1}[t]*(b-v.width)}if(n!==p.x||r!==p.y){p.attr({x:n,y:r})}p.x=n;p.y=r}function O(e,t){if(d){d.attr(e,t)}else{T[e]=t}}function M(){p.add(h);h.attr({text:t,x:n,y:r});if(d&&jt(o)){h.attr({anchorX:o,anchorY:u})}}var c=this,h=c.g(l),p=c.text("",0,0,a).attr({zIndex:1}),d,v,m=0,g=3,y=0,b,w,E,S,x=0,T={},N,C=h.attrSetters,k;mn(h,"add",M);C.width=function(e){b=e;return false};C.height=function(e){w=e;return false};C.padding=function(e){if(jt(e)&&e!==g){g=e;A()}return false};C.paddingLeft=function(e){if(jt(e)&&e!==y){y=e;A()}return false};C.align=function(e){m={left:0,center:.5,right:1}[e];return false};C.text=function(e,t){p.attr(t,e);L();A();return false};C[ct]=function(e,t){k=true;x=e%2/2;O(t,e);return false};C.stroke=C.fill=C.r=function(e,t){if(t==="fill"){k=true}O(t,e);return false};C.anchorX=function(e,t){o=e;O(t,e+x-E);return false};C.anchorY=function(e,t){u=e;O(t,e-S);return false};C.x=function(e){h.x=e;e-=m*((b||v.width)+g);E=i(e);h.attr("translateX",E);return false};C.y=function(e){S=h.y=i(e);h.attr("translateY",S);return false};var _=h.css;return Ct(h,{css:function(t){if(t){var n={};t=kt(t);hn(["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow"],function(r){if(t[r]!==e){n[r]=t[r];delete t[r]}});p.css(n)}return _.call(h,t)},getBBox:function(){return{width:v.width+2*g,height:v.height+2*g,x:v.x-g,y:v.y-g}},shadow:function(e){if(d){d.shadow(e)}return h},destroy:function(){gn(h,"add",M);gn(h.element,"mouseenter");gn(h.element,"mouseleave");if(p){p=p.destroy()}if(d){d=d.destroy()}_n.prototype.destroy.call(h);h=c=L=A=O=M=null}})}};N=Dn;Ct(_n.prototype,{htmlCss:function(e){var t=this,n=t.element,r=e&&n.tagName==="SPAN"&&e.width;if(r){delete e.width;t.textWidth=r;t.updateTransform()}t.styles=Ct(t.styles,e);Rt(t.element,e);return t},htmlGetBBox:function(){var e=this,t=e.element,n=e.bBox;if(!n){if(t.nodeName==="text"){t.style.position=q}n=e.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}return n},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=true;return}var e=this,t=e.renderer,n=e.element,r=e.translateX||0,i=e.translateY||0,s=e.x||0,o=e.y||0,u=e.textAlign||"left",a={left:0,center:.5,right:1}[u],f=e.shadows;Rt(n,{marginLeft:r,marginTop:i});if(f){hn(f,function(e){Rt(e,{marginLeft:r+1,marginTop:i+1})})}if(e.inverted){hn(n.childNodes,function(e){t.invertChild(e,n)})}if(n.tagName==="SPAN"){var l,c=e.rotation,h,p=At(e.textWidth),d=[c,u,n.innerHTML,e.textWidth].join(",");if(d!==e.cTT){h=t.fontMetrics(n.style.fontSize).b;if(jt(c)){e.setSpanRotation(c,a,h)}l=qt(e.elemWidth,n.offsetWidth);if(l>p&&/[ \-]/.test(n.textContent||n.innerText)){Rt(n,{width:p+X,display:"block",whiteSpace:"normal"});l=p}e.getSpanCorrection(l,h,a,c,u)}Rt(n,{left:s+(e.xCorr||0)+X,top:o+(e.yCorr||0)+X});if(y){h=n.offsetHeight}e.cTT=d}},setSpanRotation:function(e,t,n){var r={},i=m?"-ms-transform":y?"-webkit-transform":b?"MozTransform":v?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)";r[i+(b?"Origin":"-origin")]=t*100+"% "+n+"px";Rt(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n;this.yCorr=-t}});Ct(Dn.prototype,{html:function(e,t,n){var r=O.chart.style,s=this.createElement("span"),o=s.attrSetters,u=s.element,a=s.renderer;o.text=function(e){if(e!==u.innerHTML){delete this.bBox}u.innerHTML=e;return false};o.x=o.y=o.align=o.rotation=function(e,t){if(t==="align"){t="textAlign"}s[t]=e;s.htmlUpdateTransform();return false};s.attr({text:e,x:i(t),y:i(n)}).css({position:q,whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize});s.css=s.htmlCss;if(a.isSVG){s.add=function(e){var t,n=a.box.parentNode,r,i=[];this.parentGroup=e;if(e){t=e.div;if(!t){r=e;while(r){i.push(r);r=r.parentGroup}hn(i.reverse(),function(e){var r;t=e.div=e.div||Ut(I,{className:Ft(e.element,"class")},{position:q,left:(e.translateX||0)+X,top:(e.translateY||0)+X},t||n);r=t.style;Ct(e.attrSetters,{translateX:function(e){r.left=e+X},translateY:function(e){r.top=e+X},visibility:function(e,t){r[t]=e}})})}}else{t=n}t.appendChild(u);s.added=true;if(s.alignOnAdd){s.htmlUpdateTransform()}return s}}return s}});var Pn,Hn;if(!S&&!T){Highcharts.VMLElement=Hn={init:function(e,t){var n=this,r=["<",t,' filled="f" stroked="f"'],i=["position: ",q,";"],s=t===I;if(t==="shape"||s){i.push("left:0;top:0;width:1px;height:1px;")}i.push("visibility: ",s?U:W);r.push(' style="',i.join(""),'"/>');if(t){r=s||t==="span"||t==="img"?r.join(""):e.prepVML(r);n.element=Ut(r)}n.renderer=e;n.attrSetters={}},add:function(e){var t=this,n=t.renderer,r=t.element,i=n.box,s=e&&e.inverted,o=e?e.element||e:i;if(s){n.invertChild(r,o)}o.appendChild(r);t.added=true;if(t.alignOnAdd&&!t.deferUpdateTransform){t.updateTransform()}yn(t,"add");return t},updateTransform:_n.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=l(e*p),n=c(e*p);Rt(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):V})},getSpanCorrection:function(e,t,n,r,i){var s=r?l(r*p):1,o=r?c(r*p):0,u=qt(this.elemHeight,this.element.offsetHeight),a,f=i&&i!=="left";this.xCorr=s<0&&-e;this.yCorr=o<0&&-u;a=s*o<0;this.xCorr+=o*t*(a?1-n:n);this.yCorr-=s*t*(r?a?n:1-n:1);if(f){this.xCorr-=e*n*(s<0?-1:1);if(r){this.yCorr-=u*n*(o<0?-1:1)}Rt(this.element,{textAlign:i})}},pathToVML:function(e){var t=e.length,n=[];while(t--){if(Dt(e[t])){n[t]=i(e[t]*10)-5}else if(e[t]==="Z"){n[t]="x"}else{n[t]=e[t];if(e.isArc&&(e[t]==="wa"||e[t]==="at")){if(n[t+5]===n[t+7]){n[t+7]+=e[t+7]>e[t+5]?1:-1}if(n[t+6]===n[t+8]){n[t+8]+=e[t+8]>e[t+6]?1:-1}}}}return n.join(" ")||"x"},attr:function(t,n){var r=this,s,o,a,f,h=r.element||{},d=h.style,v=h.nodeName,m=r.renderer,y=r.symbolName,b,w=r.shadows,E,S=r.attrSetters,x=r;if(Ot(t)&&jt(n)){s=t;t={};t[s]=n}if(Ot(t)){s=t;if(s==="strokeWidth"||s==="stroke-width"){x=r.strokeweight}else{x=r[s]}}else{for(s in t){o=t[s];E=false;f=S[s]&&S[s].call(r,o,s);if(f!==false&&o!==null){if(f!==e){o=f}if(y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(s)){if(!b){r.symbolAttr(t);b=true}E=true}else if(s==="d"){o=o||[];r.d=o.join(" ");h.path=o=r.pathToVML(o);if(w){a=w.length;while(a--){w[a].path=w[a].cutOff?this.cutOffPath(o,w[a].cutOff):o}}E=true}else if(s==="visibility"){if(w){a=w.length;while(a--){w[a].style[s]=o}}if(v==="DIV"){o=o===U?"-999em":0;if(!g){d[s]=o?W:U}s="top"}d[s]=o;E=true}else if(s==="zIndex"){if(o){d[s]=o}E=true}else if(cn(s,["x","y","width","height"])!==-1){r[s]=o;if(s==="x"||s==="y"){s={x:"left",y:"top"}[s]}else{o=u(0,o)}if(r.updateClipping){r[s]=o;r.updateClipping()}else{d[s]=o}E=true}else if(s==="class"&&v==="DIV"){h.className=o}else if(s==="stroke"){o=m.color(o,h,s);s="strokecolor"}else if(s==="stroke-width"||s==="strokeWidth"){h.stroked=o?true:false;s="strokeweight";r[s]=o;if(Dt(o)){o+=X}}else if(s==="dashstyle"){var T=h.getElementsByTagName("stroke")[0]||Ut(m.prepVML(["<stroke/>"]),null,null,h);T[s]=o||"solid";r.dashstyle=o;E=true}else if(s==="fill"){if(v==="SPAN"){d.color=o}else if(v!=="IMG"){h.filled=o!==V?true:false;o=m.color(o,h,s,r);s="fillcolor"}}else if(s==="opacity"){E=true}else if(v==="shape"&&s==="rotation"){r[s]=h.style[s]=o;h.style.left=-i(c(o*p)+1)+X;h.style.top=i(l(o*p))+X}else if(s==="translateX"||s==="translateY"||s==="rotation"){r[s]=o;r.updateTransform();E=true}if(!E){if(g){h[s]=o}else{Ft(h,s,o)}}}}}return x},clip:function(e){var t=this,n,r;if(e){n=e.members;Bt(n,t);n.push(t);t.destroyClip=function(){Bt(n,t)};r=e.getCSS(t)}else{if(t.destroyClip){t.destroyClip()}r={clip:g?"inherit":"rect(auto)"}}return t.css(r)},css:_n.prototype.htmlCss,safeRemoveChild:function(e){if(e.parentNode){nn(e)}},destroy:function(){if(this.destroyClip){this.destroyClip()}return _n.prototype.destroy.apply(this)},on:function(e,t){this.element["on"+e]=function(){var e=n.event;e.target=e.srcElement;t(e)};return this},cutOffPath:function(e,t){var n;e=e.split(/[ ,]/);n=e.length;if(n===9||n===11){e[n-4]=e[n-2]=At(e[n-2])-10*t}return e.join(" ")},shadow:function(e,t,n){var r=[],i,s=this.element,o=this.renderer,u,a=s.style,f,l=s.path,c,h,p,d;if(l&&typeof l.value!=="string"){l="x"}h=l;if(e){p=qt(e.width,3);d=(e.opacity||.15)/p;for(i=1;i<=3;i++){c=p*2+1-2*i;if(n){h=this.cutOffPath(l.value,c+.5)}f=['<shape isShadow="true" strokeweight="',c,'" filled="false" path="',h,'" coordsize="10 10" style="',s.style.cssText,'" />'];u=Ut(o.prepVML(f),null,{left:At(a.left)+qt(e.offsetX,1),top:At(a.top)+qt(e.offsetY,1)});if(n){u.cutOff=c+1}f=['<stroke color="',e.color||"black",'" opacity="',d*i,'"/>'];Ut(o.prepVML(f),null,null,u);if(t){t.element.appendChild(u)}else{s.parentNode.insertBefore(u,s)}r.push(u)}this.shadows=r}return this}};Hn=zt(_n,Hn);var Bn={Element:Hn,isIE8:d.indexOf("MSIE 8.0")>-1,init:function(e,n,r){var i=this,s,o,u;i.alignedObjects=[];s=i.createElement(I);o=s.element;o.style.position=R;e.appendChild(s.element);i.isVML=true;i.box=o;i.boxWrapper=s;i.cache={};i.setSize(n,r,false);if(!t.namespaces.hcv){t.namespaces.add("hcv","urn:schemas-microsoft-com:vml");u="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke"+"{ behavior:url(#default#VML); display: inline-block; } ";try{t.createStyleSheet().cssText=u}catch(a){t.styleSheets[0].cssText+=u}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,r){var s=this.createElement(),o=Mt(e);return Ct(s,{members:[],left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:r)-1,getCSS:function(e){var t=e.element,n=t.nodeName,r=n==="shape",s=e.inverted,o=this,u=o.top-(r?t.offsetTop:0),a=o.left,f=a+o.width,l=u+o.height,c={clip:"rect("+i(s?a:u)+"px,"+i(s?l:f)+"px,"+i(s?f:l)+"px,"+i(s?u:a)+"px)"};if(!s&&g&&n==="DIV"){Ct(c,{width:f+X,height:l+X})}return c},updateClipping:function(){hn(s.members,function(e){e.css(s.getCSS(e))})}})},color:function(e,t,n,i){var s=this,o,u=/^rgba/,a,f,l=V;if(e&&e.linearGradient){f="gradient"}else if(e&&e.radialGradient){f="pattern"}if(f){var c,p,d=e.linearGradient||e.radialGradient,v,m,g,y,b,w,E,S,x="",T=e.stops,N,C,k=[],L=function(){a=['<fill colors="'+k.join(",")+'" opacity="',w,'" o:opacity2="',b,'" type="',f,'" ',x,'focus="100%" method="any" />'];Ut(s.prepVML(a),null,null,t)};N=T[0];C=T[T.length-1];if(N[0]>0){T.unshift([0,N[1]])}if(C[0]<1){T.push([1,C[1]])}hn(T,function(e,t){if(u.test(e[1])){o=Mn(e[1]);c=o.get("rgb");p=o.get("a")}else{c=e[1];p=1}k.push(e[0]*100+"% "+c);if(!t){b=p;S=c}else{w=p;E=c}});if(n==="fill"){if(f==="gradient"){v=d.x1||d[0]||0;m=d.y1||d[1]||0;g=d.x2||d[2]||0;y=d.y2||d[3]||0;x='angle="'+(90-r.atan((y-m)/(g-v))*180/h)+'"';L()}else{var A=d.r,M=A*2,_=A*2,D=d.cx,P=d.cy,H=t.radialReference,B,j=function(){if(H){B=i.getBBox();D+=(H[0]-B.x)/B.width-.5;P+=(H[1]-B.y)/B.height-.5;M*=H[2]/B.width;_*=H[2]/B.height}x='src="'+O.global.VMLRadialGradientURL+'" '+'size="'+M+","+_+'" '+'origin="0.5,0.5" '+'position="'+D+","+P+'" '+'color2="'+S+'" ';L()};if(i.added){j()}else{mn(i,"add",j)}l=E}}else{l=c}}else if(u.test(e)&&t.tagName!=="IMG"){o=Mn(e);a=["<",n,' opacity="',o.get("a"),'"/>'];Ut(this.prepVML(a),null,null,t);l=o.get("rgb")}else{var F=t.getElementsByTagName(n);if(F.length){F[0].opacity=1;F[0].type="solid"}l=e}return l},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;e=e.join("");if(n){e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />');if(e.indexOf('style="')===-1){e=e.replace("/>",' style="'+t+'" />')}else{e=e.replace('style="','style="'+t)}}else{e=e.replace("<","<hcv:")}return e},text:Dn.prototype.html,path:function(e){var t={coordsize:"10 10"};if(_t(e)){t.d=e}else if(Mt(e)){Ct(t,e)}return this.createElement("shape").attr(t)},circle:function(e,t,n){var r=this.symbol("circle");if(Mt(e)){n=e.r;t=e.y;e=e.x}r.isCircle=true;r.r=n;return r.attr({x:e,y:t})},g:function(e){var t,n;if(e){n={className:z+e,"class":z+e}}t=this.createElement(I).attr(n);return t},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});if(arguments.length>1){s.attr({x:t,y:n,width:r,height:i})}return s},rect:function(e,t,n,r,i,s){var o=this.symbol("rect");o.r=Mt(e)?e.r:i;return o.attr(Mt(e)?e:o.crisp(s,e,t,u(n,0),u(r,0)))},invertChild:function(e,t){var n=t.style;Rt(e,{flip:"x",left:At(n.width)-1,top:At(n.height)-1,rotation:-90})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,a=i.innerR,f=l(s),h=c(s),p=l(o),d=c(o),v;if(o-s===0){return["x"]}v=["wa",e-u,t-u,e+u,t+u,e+u*f,t+u*h,e+u*p,t+u*d];if(i.open&&!a){v.push("e",$,e,t)}v.push("at",e-a,t-a,e+a,t+a,e+a*p,t+a*d,e+a*f,t+a*h,"x","e");v.isArc=true;return v},circle:function(e,t,n,r,i){if(i){n=r=2*i.r}if(i&&i.isCircle){e-=n/2;t-=r/2}return["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){var s=e+n,o=t+r,u,f;if(!jt(i)||!i.r){u=Dn.prototype.symbols.square.apply(0,arguments)}else{f=a(i.r,n,r);u=[$,e+f,t,J,s-f,t,"wa",s-2*f,t,s,t+2*f,s-f,t,s,t+f,J,s,o-f,"wa",s-2*f,o-2*f,s,o,s,o-f,s-f,o,J,e+f,o,"wa",e,o-2*f,e+2*f,o,e+f,o,e,o-f,J,e,t+f,"wa",e,t,e+2*f,t+2*f,e,t+f,e+f,t,"x","e"]}return u}}};Highcharts.VMLRenderer=Pn=function(){this.init.apply(this,arguments)};Pn.prototype=kt(Dn.prototype,Bn);N=Pn}Dn.prototype.measureSpanWidth=function(e,n){var r=t.createElement("span"),i,s=t.createTextNode(e);r.appendChild(s);Rt(r,n);this.box.appendChild(r);i=r.offsetWidth;nn(r);return i};var jn,Fn;if(T){Highcharts.CanVGRenderer=jn=function(){E="http://www.w3.org/1999/xhtml"};jn.prototype.symbols={};Fn=function(){function t(){var t=e.length,n;for(n=0;n<t;n++){e[n]()}e=[]}var e=[];return{push:function(n,r){if(e.length===0){ln(r,t)}e.push(n)}}}();N=jn}In.prototype={addLabel:function(){var e=this,t=e.axis,n=t.options,r=t.chart,s=t.horiz,o=t.categories,a=t.names,f=e.pos,l=n.labels,c,h=t.tickPositions,p=s&&o&&!l.step&&!l.staggerLines&&!l.rotation&&r.plotWidth/h.length||!s&&(r.margin[3]||r.chartWidth*.33),d=f===h[0],v=f===h[h.length-1],m,g,y=o?qt(o[f],a[f],f):f,b=e.label,w=h.info,E;if(t.isDatetimeAxis&&w){E=n.dateTimeLabelFormats[w.higherRanks[f]||w.unitName]}e.isFirst=d;e.isLast=v;c=t.labelFormatter.call({axis:t,chart:r,isFirst:d,isLast:v,dateTimeLabelFormat:E,value:t.isLog?sn(Ht(y)):y});m=p&&{width:u(1,i(p-2*(l.padding||10)))+X};m=Ct(m,l.style);if(!jt(b)){g={align:t.labelAlign};if(Dt(l.rotation)){g.rotation=l.rotation}if(p&&l.ellipsis){g._clipHeight=t.len/h.length}e.label=jt(c)&&l.enabled?r.renderer.text(c,0,0,l.useHTML).attr(g).css(m).add(t.labelGroup):null}else if(b){b.attr({text:c}).css(m)}},getLabelSize:function(){var e=this.label,t=this.axis;return e?e.getBBox()[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.label.getBBox(),t=this.axis,n=t.horiz,r=t.options,i=r.labels,s=n?e.width:e.height,o=n?s*{left:0,center:.5,right:1}[t.labelAlign]-i.x:s;return[-o,s-o]},handleOverflow:function(t,n){var r=true,i=this.axis,s=this.isFirst,o=this.isLast,u=i.horiz,a=u?n.x:n.y,f=i.reversed,l=i.tickPositions,c=this.getLabelSides(),h=c[0],p=c[1],d=i.pos,v=d+i.len,m,g,y=this.label.line||0,b=i.labelEdge,w=i.justifyLabels&&(s||o);if(b[y]===e||a+h>b[y]){b[y]=a+p}else if(!w){r=false}if(w){m=i.ticks[l[t+(s?1:-1)]];g=m&&m.label.xy&&m.label.xy.x+m.getLabelSides()[s?0:1];if(s&&!f||o&&f){if(a+h<d){a=d-h;if(m&&a+p>g){r=false}}}else{if(a+p>v){a=v-p;if(m&&a+h<g){r=false}}}n.x=a}return r},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,c=a.reversed,h=a.staggerLines,d=a.chart.renderer.fontMetrics(i.style.fontSize).b,v=i.rotation;e=e+i.x-(s&&r?s*f*(c?-1:1):0);t=t+i.y-(s&&!r?s*f*(c?1:-1):0);if(v&&a.side===2){t-=d-d*l(v*p)}if(!jt(i.y)&&!v){t+=d-n.getBBox().height/2}if(h){n.line=o/(u||1)%h;t+=n.line*(a.labelOffset/h)}return{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine([$,e,t,J,e+(i?0:-n),t+(i?n:0)],r)},render:function(t,n,r){var i=this,s=i.axis,o=s.options,u=s.chart,a=u.renderer,f=s.horiz,l=i.type,c=i.label,h=i.pos,p=o.labels,d=i.gridLine,v=l?l+"Grid":"grid",m=l?l+"Tick":"tick",g=o[v+"LineWidth"],y=o[v+"LineColor"],b=o[v+"LineDashStyle"],w=o[m+"Length"],E=o[m+"Width"]||0,S=o[m+"Color"],x=o[m+"Position"],T,N=i.mark,C,k=p.step,L,A=true,O=s.tickmarkOffset,M=i.getPosition(f,h,O,n),_=M.x,D=M.y,P=f&&_===s.pos+s.len||!f&&D===s.pos?-1:1;this.isActive=true;if(g){T=s.getPlotLinePath(h+O,g*P,n,true);if(d===e){L={stroke:y,"stroke-width":g};if(b){L.dashstyle=b}if(!l){L.zIndex=1}if(n){L.opacity=0}i.gridLine=d=g?a.path(T).attr(L).add(s.gridGroup):null}if(!n&&d&&T){d[i.isNew?"attr":"animate"]({d:T,opacity:r})}}if(E&&w){if(x==="inside"){w=-w}if(s.opposite){w=-w}C=i.getMarkPath(_,D,w,E*P,f,a);if(N){N.animate({d:C,opacity:r})}else{i.mark=a.path(C).attr({stroke:S,"stroke-width":E,opacity:r}).add(s.axisGroup)}}if(c&&!isNaN(_)){c.xy=M=i.getLabelPosition(_,D,c,f,p,O,t,k);if(i.isFirst&&!i.isLast&&!qt(o.showFirstLabel,1)||i.isLast&&!i.isFirst&&!qt(o.showLastLabel,1)){A=false}else if(!s.isRadial&&!p.step&&!p.rotation&&!n&&r!==0){A=i.handleOverflow(t,M)}if(k&&t%k){A=false}if(A&&!isNaN(M.y)){M.opacity=r;c[i.isNew?"attr":"animate"](M);i.isNew=false}else{c.attr("y",-9999)}}},destroy:function(){tn(this,this.axis)}};qn.prototype={destroy:function(){tn(this,this.axis)},render:function(e){var t=this.options,n=t.format,r=n?Jt(n,this):t.formatter.call(this);if(this.label){this.label.attr({text:r,visibility:U})}else{this.label=this.axis.chart.renderer.text(r,0,0,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:U}).add(e)}},setOffset:function(e,t){var n=this,r=n.axis,i=r.chart,s=i.inverted,o=this.isNegative,u=r.translate(this.percent?100:this.total,0,0,0,1),a=r.translate(0),l=f(u-a),c=i.xAxis[0].translate(this.x)+e,h=i.plotHeight,p={x:s?o?u:u-l:c,y:s?h-c-t:o?h-u-l:h-u,width:s?l:t,height:s?t:l},d=this.label,v;if(d){d.align(this.alignOptions,null,p);v=d.alignAttr;d.attr({visibility:this.options.crop===false||i.isInsidePlot(v.x,v.y)?S?"inherit":W:U})}}};var Rn=function(e,t){this.axis=e;if(t){this.options=t;this.id=t.id}};Rn.prototype={render:function(){var e=this,t=e.axis,n=t.horiz,r=(t.pointRange||0)/2,i=e.options,s=i.label,o=e.label,f=i.width,l=i.to,c=i.from,h=jt(c)&&jt(l),p=i.value,d=i.dashStyle,v=e.svgElem,m=[],g,y,b,w,E,S,x=i.color,T=i.zIndex,N=i.events,C,k=t.chart.renderer;if(t.isLog){c=Pt(c);l=Pt(l);p=Pt(p)}if(f){m=t.getPlotLinePath(p,f);C={stroke:x,"stroke-width":f};if(d){C.dashstyle=d}}else if(h){c=u(c,t.min-r);l=a(l,t.max+r);m=t.getPlotBandPath(c,l,i);C={fill:x};if(i.borderWidth){C.stroke=i.borderColor;C["stroke-width"]=i.borderWidth}}else{return}if(jt(T)){C.zIndex=T}if(v){if(m){v.animate({d:m},null,v.onGetPath)}else{v.hide();v.onGetPath=function(){v.show()};if(o){e.label=o=o.destroy()}}}else if(m&&m.length){e.svgElem=v=k.path(m).attr(C).add();if(N){g=function(t){v.on(t,function(n){N[t].apply(e,[n])})};for(y in N){g(y)}}}if(s&&jt(s.text)&&m&&m.length&&t.width>0&&t.height>0){s=kt({align:n&&h&&"center",x:n?!h&&4:10,verticalAlign:!n&&h&&"middle",y:n?h?16:10:h?6:-4,rotation:n&&!h&&90},s);if(!o){e.label=o=k.text(s.text,0,0,s.useHTML).attr({align:s.textAlign||s.align,rotation:s.rotation,zIndex:T}).css(s.style).add()}b=[m[1],m[4],qt(m[6],m[1])];w=[m[2],m[5],qt(m[7],m[2])];E=Zt(b);S=Zt(w);o.align(s,false,{x:E,y:S,width:en(b)-E,height:en(w)-S});o.show()}else if(o){o.hide()}return e},destroy:function(){Bt(this.axis.plotLinesAndBands,this);delete this.axis;tn(this)}};at={getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);if(r&&n){r.push(n[4],n[5],n[1],n[2])}else{r=null}return r},addPlotBand:function(e){this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new Rn(this,e)).render(),r=this.userOptions;if(n){if(t){r[t]=r[t]||[];r[t].push(e)}this.plotLinesAndBands.push(n)}return n},removePlotBandOrLine:function(e){var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;while(i--){if(t[i].id===e){t[i].destroy()}}hn([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){i=t.length;while(i--){if(t[i].id===e){Bt(t,t[i])}}})}};Un.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:false,gridLineColor:"#C0C0C0",labels:Sn,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:false,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:true,gridLineWidth:1,tickPixelInterval:72,showLastLabel:true,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:true,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:false,formatter:function(){return Wt(this.total,-1)},style:Sn.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(t,n){var r=n.isX,i=this;i.horiz=t.inverted?!r:r;i.isXAxis=r;i.coll=r?"xAxis":"yAxis";i.opposite=n.opposite;i.side=n.side||(i.horiz?i.opposite?0:2:i.opposite?1:3);i.setOptions(n);var s=this.options,o=s.type,u=o==="datetime";i.labelFormatter=s.labels.formatter||i.defaultLabelFormatter;i.userOptions=n;i.minPixelPadding=0;i.chart=t;i.reversed=s.reversed;i.zoomEnabled=s.zoomEnabled!==false;i.categories=s.categories||o==="category";i.names=[];i.isLog=o==="logarithmic";i.isDatetimeAxis=u;i.isLinked=jt(s.linkedTo);i.tickmarkOffset=i.categories&&s.tickmarkPlacement==="between"?.5:0;i.ticks={};i.labelEdge=[];i.minorTicks={};i.plotLinesAndBands=[];i.alternateBands={};i.len=0;i.minRange=i.userMinRange=s.minRange||s.maxZoom;i.range=s.range;i.offset=s.offset||0;i.stacks={};i.oldStacks={};i.stackExtremes={};i.max=null;i.min=null;i.crosshair=qt(s.crosshair,It(t.options.tooltip.crosshairs)[r?0:1],false);var a,f=i.options.events;if(cn(i,t.axes)===-1){t.axes.push(i);t[i.coll].push(i)}i.series=i.series||[];if(t.inverted&&r&&i.reversed===e){i.reversed=true}i.removePlotBand=i.removePlotBandOrLine;i.removePlotLine=i.removePlotBandOrLine;for(a in f){mn(i,a,f[a])}if(i.isLog){i.val2lin=Pt;i.lin2val=Ht}},setOptions:function(e){this.options=kt(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],kt(O[this.coll],e))},defaultLabelFormatter:function(){var t=this.axis,n=this.value,r=t.categories,i=this.dateTimeLabelFormat,s=O.lang.numericSymbols,o=s&&s.length,u,a,f=t.options.labels.format,l=t.isLog?n:t.tickInterval;if(f){a=Jt(f,this)}else if(r){a=n}else if(i){a=M(i,n)}else if(o&&l>=1e3){while(o--&&a===e){u=Math.pow(1e3,o+1);if(l>=u&&s[o]!==null){a=Wt(n/u,-1)+s[o]}}}if(a===e){if(n>=1e4){a=Wt(n,0)}else{a=Wt(n,-1,e,"")}}return a},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=false;e.dataMin=e.dataMax=null;e.stackExtremes={};e.buildStacks();hn(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r=n.options,i,s=r.threshold,o,f;e.hasVisibleSeries=true;if(e.isLog&&s<=0){s=null}if(e.isXAxis){i=n.xData;if(i.length){e.dataMin=a(qt(e.dataMin,i[0]),Zt(i));e.dataMax=u(qt(e.dataMax,i[0]),en(i))}}else{n.getExtremes();f=n.dataMax;o=n.dataMin;if(jt(o)&&jt(f)){e.dataMin=a(qt(e.dataMin,o),o);e.dataMax=u(qt(e.dataMax,f),f)}if(jt(s)){if(e.dataMin>=s){e.dataMin=s;e.ignoreMinPadding=true}else if(e.dataMax<s){e.dataMax=s;e.ignoreMaxPadding=true}}}}})},translate:function(e,t,n,r,i,s){var o=this,u=o.len,a=1,f=0,l=r?o.oldTransA:o.transA,c=r?o.oldMin:o.min,h,p=o.minPixelPadding,d=(o.options.ordinal||o.isLog&&i)&&o.lin2val;if(!l){l=o.transA}if(n){a*=-1;f=u}if(o.reversed){a*=-1;f-=a*u}if(t){e=e*a+f;e-=p;h=e/l+c;if(d){h=o.lin2val(h)}}else{if(d){e=o.val2lin(e)}if(s==="between"){s=.5}h=a*(e-c)*l+f+a*p+(Dt(s)?l*s*o.pointRange:0)}return h},toPixels:function(e,t){return this.translate(e,false,!this.horiz,null,true)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),true,!this.horiz,null,true)},getPlotLinePath:function(e,t,n,r,s){var o=this,u=o.chart,a=o.left,f=o.top,l,c,h,p,d=n&&u.oldChartHeight||u.chartHeight,v=n&&u.oldChartWidth||u.chartWidth,m,g=o.transB;s=qt(s,o.translate(e,null,null,n));l=h=i(s+g);c=p=i(d-s-g);if(isNaN(s)){m=true}else if(o.horiz){c=f;p=d-o.bottom;if(l<a||l>a+o.width){m=true}}else{l=a;h=v-o.right;if(c<f||c>f+o.height){m=true}}return m&&!r?null:u.renderer.crispLine([$,l,c,J,h,p],t||1)},getLinearTickPositions:function(e,t,n){var r,i,u=sn(s(t/e)*e),a=sn(o(n/e)*e),f=[];r=u;while(r<=a){f.push(r);r=sn(r+e);if(r===i){break}i=r}return f},getMinorTickPositions:function(){var e=this,t=e.options,n=e.tickPositions,r=e.minorTickInterval,i=[],s,o,u;if(e.isLog){u=n.length;for(o=1;o<u;o++){i=i.concat(e.getLogTickPositions(r,n[o-1],n[o],true))}}else if(e.isDatetimeAxis&&t.minorTickInterval==="auto"){i=i.concat(e.getTimeTicks(e.normalizeTimeTickInterval(r),e.min,e.max,t.startOfWeek));if(i[0]<e.min){i.shift()}}else{for(s=e.min+(n[0]-e.min)%r;s<=e.max;s+=r){i.push(s)}}return i},adjustForMinRange:function(){var t=this,n=t.options,r=t.min,i=t.max,s,o=t.dataMax-t.dataMin>=t.minRange,u,f,l,c,h,p,d;if(t.isXAxis&&t.minRange===e&&!t.isLog){if(jt(n.min)||jt(n.max)){t.minRange=null}else{hn(t.series,function(t){c=t.xData;h=t.xIncrement?1:c.length-1;for(f=h;f>0;f--){l=c[f]-c[f-1];if(u===e||l<u){u=l}}});t.minRange=a(u*5,t.dataMax-t.dataMin)}}if(i-r<t.minRange){var v=t.minRange;s=(v-i+r)/2;p=[r-s,qt(n.min,r-s)];if(o){p[2]=t.dataMin}r=en(p);d=[r+v,qt(n.max,r+v)];if(o){d[2]=t.dataMax}i=Zt(d);if(i-r<v){p[0]=i-v;p[1]=qt(n.min,i-v);r=en(p)}}t.min=r;t.max=i},setAxisTranslation:function(e){var t=this,n=t.max-t.min,r=0,i,s=0,o=0,f=t.linkedParent,l,c=!!t.categories,h=t.transA;if(t.isXAxis||c){if(f){s=f.minPointOffset;o=f.pointRangePadding}else{hn(t.series,function(e){var t=u(e.pointRange,+c),f=e.options.pointPlacement,l=e.closestPointRange;if(t>n){t=0}r=u(r,t);s=u(s,Ot(f)?0:t/2);o=u(o,f==="on"?0:t);if(!e.noSharedTooltip&&jt(l)){i=jt(i)?a(i,l):l}})}l=t.ordinalSlope&&i?t.ordinalSlope/i:1;t.minPointOffset=s=s*l;t.pointRangePadding=o=o*l;t.pointRange=a(r,n);t.closestPointRange=i}if(e){t.oldTransA=h}t.translationSlope=t.transA=h=t.len/(n+o||1);t.transB=t.horiz?t.left:t.bottom;t.minPixelPadding=h*s},setTickPositions:function(e){var t=this,n=t.chart,r=t.options,i=t.isLog,s=t.isDatetimeAxis,o=t.isXAxis,f=t.isLinked,l=t.options.tickPositioner,c=r.maxPadding,h=r.minPadding,p,d,v=r.tickInterval,m=r.minTickInterval,g=r.tickPixelInterval,y,b,w=t.categories;if(f){t.linkedParent=n[t.coll][r.linkedTo];d=t.linkedParent.getExtremes();t.min=qt(d.min,d.dataMin);t.max=qt(d.max,d.dataMax);if(r.type!==t.linkedParent.options.type){rn(11,1)}}else{t.min=qt(t.userMin,r.min,t.dataMin);t.max=qt(t.userMax,r.max,t.dataMax)}if(i){if(!e&&a(t.min,qt(t.dataMin,t.min))<=0){rn(10,1)}t.min=sn(Pt(t.min));t.max=sn(Pt(t.max))}if(t.range&&jt(t.max)){t.userMin=t.min=u(t.min,t.max-t.range);t.userMax=t.max;t.range=null}if(t.beforePadding){t.beforePadding()}t.adjustForMinRange();if(!w&&!t.usePercentage&&!f&&jt(t.min)&&jt(t.max)){p=t.max-t.min;if(p){if(!jt(r.min)&&!jt(t.userMin)&&h&&(t.dataMin<0||!t.ignoreMinPadding)){t.min-=p*h}if(!jt(r.max)&&!jt(t.userMax)&&c&&(t.dataMax>0||!t.ignoreMaxPadding)){t.max+=p*c}}}if(t.min===t.max||t.min===undefined||t.max===undefined){t.tickInterval=1}else if(f&&!v&&g===t.linkedParent.options.tickPixelInterval){t.tickInterval=t.linkedParent.tickInterval}else{t.tickInterval=qt(v,w?1:(t.max-t.min)*g/u(t.len,g));if(!jt(v)&&t.len<g&&!this.isRadial&&!w&&r.startOnTick&&r.endOnTick){b=true;t.tickInterval/=4}}if(o&&!e){hn(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)})}t.setAxisTranslation(true);if(t.beforeSetTickPositions){t.beforeSetTickPositions()}if(t.postProcessTickInterval){t.tickInterval=t.postProcessTickInterval(t.tickInterval)}if(t.pointRange){t.tickInterval=u(t.pointRange,t.tickInterval)}if(!v&&t.tickInterval<m){t.tickInterval=m}if(!s&&!i){if(!v){t.tickInterval=Qt(t.tickInterval,null,Kt(t.tickInterval),r)}}t.minorTickInterval=r.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:r.minorTickInterval;t.tickPositions=y=r.tickPositions?[].concat(r.tickPositions):l&&l.apply(t,[t.min,t.max]);if(!y){if(!t.ordinalPositions&&(t.max-t.min)/t.tickInterval>u(2*t.len,200)){rn(19,true)}if(s){y=t.getTimeTicks(t.normalizeTimeTickInterval(t.tickInterval,r.units),t.min,t.max,r.startOfWeek,t.ordinalPositions,t.closestPointRange,true)}else if(i){y=t.getLogTickPositions(t.tickInterval,t.min,t.max)}else{y=t.getLinearTickPositions(t.tickInterval,t.min,t.max)}if(b){y.splice(1,y.length-2)}t.tickPositions=y}if(!f){var E=y[0],S=y[y.length-1],x=t.minPointOffset||0,T;if(r.startOnTick){t.min=E}else if(t.min-x>E){y.shift()}if(r.endOnTick){t.max=S}else if(t.max+x<S){y.pop()}if(y.length===1){T=.001;t.min-=T;t.max+=T}}},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},n=this.tickPositions,r=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(t[r]||0)&&this.options.alignTicks!==false){t[r]=n.length}e.maxTicks=t},adjustTickAmount:function(){var t=this,n=t.chart,r=t._maxTicksKey,i=t.tickPositions,s=n.maxTicks;if(s&&s[r]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&t.options.alignTicks!==false&&this.min!==e){var o=t.tickAmount,u=i.length,a;t.tickAmount=a=s[r];if(u<a){while(i.length<a){i.push(sn(i[i.length-1]+t.tickInterval))}t.transA*=(u-1)/(a-1);t.max=i[i.length-1]}if(jt(o)&&a!==o){t.isDirty=true}}},setScale:function(){var e=this,t=e.stacks,n,r,i,s;e.oldMin=e.min;e.oldMax=e.max;e.oldAxisLength=e.len;e.setAxisSize();s=e.len!==e.oldAxisLength;hn(e.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty){i=true}});if(s||i||e.isLinked||e.forceRedraw||e.userMin!==e.oldUserMin||e.userMax!==e.oldUserMax){if(!e.isXAxis){for(n in t){for(r in t[n]){t[n][r].total=null;t[n][r].cum=0}}}e.forceRedraw=false;e.getSeriesExtremes();e.setTickPositions();e.oldUserMin=e.userMin;e.oldUserMax=e.userMax;if(!e.isDirty){e.isDirty=s||e.min!==e.oldMin||e.max!==e.oldMax}}else if(!e.isXAxis){if(e.oldStacks){t=e.stacks=e.oldStacks}for(n in t){for(r in t[n]){t[n][r].cum=t[n][r].total}}}e.setMaxTicks()},setExtremes:function(e,t,n,r,i){var s=this,o=s.chart;n=qt(n,true);i=Ct(i,{min:e,max:t});yn(s,"setExtremes",i,function(){s.userMin=e;s.userMax=t;s.eventArgs=i;s.isDirtyExtremes=true;if(n){o.redraw(r)}})},zoom:function(t,n){if(!this.allowZoomOutside){if(jt(this.dataMin)&&t<=this.dataMin){t=e}if(jt(this.dataMax)&&n>=this.dataMax){n=e}}this.displayBtn=t!==e||n!==e;this.setExtremes(t,n,false,e,{trigger:"zoom"});return true},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=t.offsetRight||0,i=this.horiz,s,o,a,f;this.left=f=qt(t.left,e.plotLeft+n);this.top=a=qt(t.top,e.plotTop);this.width=s=qt(t.width,e.plotWidth-n+r);this.height=o=qt(t.height,e.plotHeight);this.bottom=e.chartHeight-o-a;this.right=e.chartWidth-s-f;this.len=u(i?s:o,0);this.pos=i?f:a},getExtremes:function(){var e=this,t=e.isLog;return{min:t?sn(Ht(e.min)):e.min,max:t?sn(Ht(e.max)):e.max,dataMin:e.dataMin,dataMax:e.dataMax,userMin:e.userMin,userMax:e.userMax}},getThreshold:function(e){var t=this,n=t.isLog;var r=n?Ht(t.min):t.min,i=n?Ht(t.max):t.max;if(r>e||e===null){e=r}else if(i<e){e=i}return t.translate(e,0,1,0,1)},autoLabelAlign:function(e){var t,n=(qt(e,0)-this.side*90+720)%360;if(n>15&&n<165){t="right"}else if(n>195&&n<345){t="left"}else{t="center"}return t},getOffset:function(){var t=this,n=t.chart,r=n.renderer,i=t.options,o=t.tickPositions,a=t.ticks,f=t.horiz,l=t.side,c=n.inverted?[1,0,3,2][l]:l,h,p,d=0,v,m=0,g=i.title,y=i.labels,b=0,w=n.axisOffset,E=n.clipOffset,S=[-1,1,1,-1][l],x,T,N=1,C=qt(y.maxStaggerLines,5),k,L,A,O,M,_,D,P;t.hasData=h=t.hasVisibleSeries||jt(t.min)&&jt(t.max)&&!!o;t.showAxis=p=h||qt(i.showEmpty,true);t.staggerLines=t.horiz&&y.staggerLines;if(!t.axisGroup){t.gridGroup=r.g("grid").attr({zIndex:i.gridZIndex||1}).add();t.axisGroup=r.g("axis").attr({zIndex:i.zIndex||2}).add();t.labelGroup=r.g("axis-labels").attr({zIndex:y.zIndex||7}).add()}if(h||t.isLinked){t.labelAlign=qt(y.align||t.autoLabelAlign(y.rotation));hn(o,function(e){if(!a[e]){a[e]=new In(t,e)}else{a[e].addLabel()}});if(t.horiz&&!t.staggerLines&&C&&!y.rotation){k=t.reversed?[].concat(o).reverse():o;while(N<C){L=[];A=false;for(T=0;T<k.length;T++){O=k[T];M=a[O].label&&a[O].label.getBBox();D=M?M.width:0;P=T%N;if(D){_=t.translate(O);if(L[P]!==e&&_<L[P]){A=true}L[P]=_+D}}if(A){N++}else{break}}if(N>1){t.staggerLines=N}}hn(o,function(e){if(l===0||l===2||{1:"left",3:"right"}[l]===t.labelAlign){b=u(a[e].getLabelSize(),b)}});if(t.staggerLines){b*=t.staggerLines;t.labelOffset=b}}else{for(x in a){a[x].destroy();delete a[x]}}if(g&&g.text&&g.enabled!==false){if(!t.axisTitle){t.axisTitle=r.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:g.textAlign||{low:"left",middle:"center",high:"right"}[g.align]}).css(g.style).add(t.axisGroup);t.axisTitle.isNew=true}if(p){d=t.axisTitle.getBBox()[f?"height":"width"];m=qt(g.margin,f?5:10);v=g.offset}t.axisTitle[p?"show":"hide"]()}t.offset=S*qt(i.offset,w[l]);t.axisTitleMargin=qt(v,b+m+(l!==2&&b&&S*i.labels[f?"y":"x"]));w[l]=u(w[l],t.axisTitleMargin+d+S*t.offset);E[c]=u(E[c],s(i.lineWidth/2)*2)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,o=t.chartHeight-this.bottom-(n?this.height:0)+r;if(n){e*=-1}return t.renderer.crispLine([$,i?this.left:s,i?o:this.top,J,i?t.chartWidth-this.right:s,i?o:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,i=this.options.title,s=e?t:n,o=this.opposite,u=this.offset,a=At(i.style.fontSize||12),f={low:s+(e?0:r),middle:s+r/2,high:s+(e?r:0)}[i.align],l=(e?n+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+(this.side===2?a:0);return{x:e?f:l+(o?this.width:0)+u+(i.x||0),y:e?l-(o?this.height:0)+u:f+(i.y||0)}},render:function(){var t=this,n=t.horiz,r=t.reversed,i=t.chart,s=i.renderer,o=t.options,u=t.isLog,a=t.isLinked,f=t.tickPositions,l,c=t.axisTitle,h=t.stacks,p=t.ticks,d=t.minorTicks,v=t.alternateBands,m=o.stackLabels,g=o.alternateGridColor,y=t.tickmarkOffset,b=o.lineWidth,w,E=i.hasRendered,S=E&&jt(t.oldMin)&&!isNaN(t.oldMin),x=t.hasData,T=t.showAxis,N,C=t.justifyLabels=!t.staggerLines&&n&&o.labels.overflow==="justify",k;t.labelEdge.length=0;hn([p,d,v],function(e){var t;for(t in e){e[t].isActive=false}});if(x||a){if(t.minorTickInterval&&!t.categories){hn(t.getMinorTickPositions(),function(e){if(!d[e]){d[e]=new In(t,e,"minor")}if(S&&d[e].isNew){d[e].render(null,true)}d[e].render(null,false,1)})}if(f.length){l=f.slice();if(n&&r||!n&&!r){l.reverse()}if(C){l=l.slice(1).concat([l[0]])}hn(l,function(e,n){if(C){n=n===l.length-1?0:n+1}if(!a||e>=t.min&&e<=t.max){if(!p[e]){p[e]=new In(t,e)}if(S&&p[e].isNew){p[e].render(n,true,.1)}p[e].render(n,false,1)}});if(y&&t.min===0){if(!p[-1]){p[-1]=new In(t,-1,null,true)}p[-1].render(-1)}}if(g){hn(f,function(n,r){if(r%2===0&&n<t.max){if(!v[n]){v[n]=new Rn(t)}N=n+y;k=f[r+1]!==e?f[r+1]+y:t.max;v[n].options={from:u?Ht(N):N,to:u?Ht(k):k,color:g};v[n].render();v[n].isActive=true}})}if(!t._addedPlotLB){hn((o.plotLines||[]).concat(o.plotBands||[]),function(e){t.addPlotBandOrLine(e)});t._addedPlotLB=true}}hn([p,d,v],function(e){var t,n,r=[],s=_?_.duration||500:0,o=function(){n=r.length;while(n--){if(e[r[n]]&&!e[r[n]].isActive){e[r[n]].destroy();delete e[r[n]]}}};for(t in e){if(!e[t].isActive){e[t].render(t,false,0);e[t].isActive=false;r.push(t)}}if(e===v||!i.hasRendered||!s){o()}else if(s){setTimeout(o,s)}});if(b){w=t.getLinePath(b);if(!t.axisLine){t.axisLine=s.path(w).attr({stroke:o.lineColor,"stroke-width":b,zIndex:7}).add(t.axisGroup)}else{t.axisLine.animate({d:w})}t.axisLine[T?"show":"hide"]()}if(c&&T){c[c.isNew?"attr":"animate"](t.getTitlePosition());c.isNew=false}if(m&&m.enabled){var L,A,O,M=t.stackTotalGroup;if(!M){t.stackTotalGroup=M=s.g("stack-labels").attr({visibility:W,zIndex:6}).add()}M.translate(i.plotLeft,i.plotTop);for(L in h){A=h[L];for(O in A){A[O].render(M)}}}t.isDirty=false},redraw:function(){var e=this,t=e.chart,n=t.pointer;if(n.reset){n.reset(true)}e.render();hn(e.plotLinesAndBands,function(e){e.render()});hn(e.series,function(e){e.isDirty=true})},buildStacks:function(){var e=this.series,t=e.length;if(!this.isXAxis){while(t--){e[t].setStackedPoints()}if(this.usePercentage){for(t=0;t<e.length;t++){e[t].setPercentStacks()}}}},destroy:function(e){var t=this,n=t.stacks,r,i=t.plotLinesAndBands,s;if(!e){gn(t)}for(r in n){tn(n[r]);n[r]=null}hn([t.ticks,t.minorTicks,t.alternateBands],function(e){tn(e)});s=i.length;while(s--){i[s].destroy()}hn(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(e){if(t[e]){t[e]=t[e].destroy()}});if(this.cross){this.cross.destroy()}},drawCrosshair:function(e,t){if(!this.crosshair){return}if((jt(t)||!qt(this.crosshair.snap,true))===false){this.hideCrosshair();return}var n,r=this.crosshair,i=r.animation,s;if(!qt(r.snap,true)){s=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos}else if(jt(t)){s=this.chart.inverted!=this.horiz?t.plotX:this.len-t.plotY}if(this.isRadial){n=this.getPlotLinePath(this.isXAxis?t.x:qt(t.stackY,t.y))}else{n=this.getPlotLinePath(null,null,null,null,s)}if(n===null){this.hideCrosshair();return}if(this.cross){this.cross.attr({visibility:W})[i?"animate":"attr"]({d:n},i)}else{var o={"stroke-width":r.width||1,stroke:r.color||"#C0C0C0",zIndex:r.zIndex||2};if(r.dashStyle){o.dashstyle=r.dashStyle}this.cross=this.chart.renderer.path(n).attr(o).add()}},hideCrosshair:function(){if(this.cross){this.cross.hide()}}};Ct(Un.prototype,at);Un.prototype.getTimeTicks=function(e,t,n,r){var i=[],o,u={},a=O.global.useUTC,f,l=new Date(t-pt),c=e.unitRange,h=e.count;if(jt(t)){if(c>=P[tt]){l.setMilliseconds(0);l.setSeconds(c>=P[nt]?0:h*s(l.getSeconds()/h))}if(c>=P[nt]){l[wt](c>=P[rt]?0:h*s(l[dt]()/h))}if(c>=P[rt]){l[Et](c>=P[it]?0:h*s(l[vt]()/h))}if(c>=P[it]){l[St](c>=P[ot]?1:h*s(l[gt]()/h))}if(c>=P[ot]){l[xt](c>=P[ut]?0:h*s(l[yt]()/h));f=l[bt]()}if(c>=P[ut]){f-=f%h;l[Tt](f)}if(c===P[st]){l[St](l[gt]()-l[mt]()+qt(r,1))}o=1;if(pt){l=new Date(l.getTime()+pt)}f=l[bt]();var p=l.getTime(),d=l[yt](),v=l[gt](),m=a?pt:(24*3600*1e3+l.getTimezoneOffset()*60*1e3)%(24*3600*1e3);while(p<n){i.push(p);if(c===P[ut]){p=ht(f+o*h,0)}else if(c===P[ot]){p=ht(f,d+o*h)}else if(!a&&(c===P[it]||c===P[st])){p=ht(f,d,v+o*h*(c===P[it]?1:7))}else{p+=c*h}o++}i.push(p);hn(pn(i,function(e){return c<=P[rt]&&e%P[it]===m}),function(e){u[e]=it})}i.info=Ct(e,{higherRanks:u,totalRange:c*h});return i};Un.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[[et,[1,2,5,10,20,25,50,100,200,500]],[tt,[1,2,5,10,15,30]],[nt,[1,2,5,10,15,30]],[rt,[1,2,3,4,6,8,12]],[it,[1,2]],[st,[1,2]],[ot,[1,2,3,4,6]],[ut,null]],r=n[n.length-1],i=P[r[0]],s=r[1],o,a;for(a=0;a<n.length;a++){r=n[a];i=P[r[0]];s=r[1];if(n[a+1]){var f=(i*s[s.length-1]+P[n[a+1][0]])/2;if(e<=f){break}}}if(i===P[ut]&&e<5*i){s=[1,2,5]}o=Qt(e/i,s,r[0]===ut?u(Kt(e/i),1):1);return{unitRange:i,count:o,unitName:r[0]}};Un.prototype.getLogTickPositions=function(e,t,n,r){var o=this,u=o.options,a=o.len,f=[];if(!r){o._minorAutoInterval=null}if(e>=.5){e=i(e);f=o.getLinearTickPositions(e,t,n)}else if(e>=.08){var l=s(t),c,h,p,d,v,m,g;if(e>.3){c=[1,2,4]}else if(e>.15){c=[1,2,4,6,8]}else{c=[1,2,3,4,5,6,7,8,9]}for(h=l;h<n+1&&!g;h++){d=c.length;for(p=0;p<d&&!g;p++){v=Pt(Ht(h)*c[p]);if(v>t&&(!r||m<=n)){f.push(m)}if(m>n){g=true}m=v}}}else{var y=Ht(t),b=Ht(n),w=u[r?"minorTickInterval":"tickInterval"],E=w==="auto"?null:w,S=u.tickPixelInterval/(r?5:1),x=r?a/o.tickPositions.length:a;e=qt(E,o._minorAutoInterval,(b-y)*S/(x||1));e=Qt(e,null,Kt(e));f=vn(o.getLinearTickPositions(e,y,b),Pt);if(!r){o._minorAutoInterval=e/5}}if(!r){o.tickInterval=e}return f};zn.prototype={init:function(e,t){var n=t.borderWidth,r=t.style,i=At(r.padding);this.chart=e;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=true;this.label=e.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:i,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-999});if(!T){this.label.shadow(t.shadow)}this.shared=t.shared},destroy:function(){if(this.label){this.label=this.label.destroy()}clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(e,t,n,r){var i=this,s=i.now,o=i.options.animation!==false&&!i.isHidden;Ct(s,{x:o?(2*s.x+e)/3:e,y:o?(s.y+t)/2:t,anchorX:o?(2*s.anchorX+n)/3:n,anchorY:o?(s.anchorY+r)/2:r});i.label.attr(s);if(o&&(f(e-s.x)>1||f(t-s.y)>1)){clearTimeout(this.tooltipTimeout);this.tooltipTimeout=setTimeout(function(){if(i){i.move(e,t,n,r)}},32)}},hide:function(){var e=this,t;clearTimeout(this.hideTimer);if(!this.isHidden){t=this.chart.hoverPoints;this.hideTimer=setTimeout(function(){e.label.fadeOut();e.isHidden=true},qt(this.options.hideDelay,500));if(t){hn(t,function(e){e.setState()})}this.chart.hoverPoints=null}},getAnchor:function(t,n){var r,s=this.chart,o=s.inverted,u=s.plotTop,a=0,f=0,l;t=It(t);r=t[0].tooltipPos;if(this.followPointer&&n){if(n.chartX===e){n=s.pointer.normalize(n)}r=[n.chartX-s.plotLeft,n.chartY-u]}if(!r){hn(t,function(e){l=e.series.yAxis;a+=e.plotX;f+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!o&&l?l.top-u:0)});a/=t.length;f/=t.length;r=[o?s.plotWidth-f:a,this.shared&&!o&&t.length>1&&n?n.chartY-u:o?s.plotHeight-a:f]}return vn(r,i)},getPosition:function(e,t,n){var r=this.chart,i=r.plotLeft,s=r.plotTop,o=r.plotWidth,a=r.plotHeight,f=qt(this.options.distance,12),l=n.plotX,c=n.plotY,h=l+i+(r.inverted?f:-e-f),p=c-t+s+15,d;if(h<7){h=i+u(l,0)+f}if(h+e>i+o){h-=h+e-(i+o);p=c-t+s-f;d=true}if(p<s+5){p=s+5;if(d&&c>=p&&c<=p+t){p=c+s+f}}if(p+t>s+a){p=u(s,s+a-t-f)}return{x:h,y:p}},defaultFormatter:function(e){var t=this.points||It(this),n=t[0].series,r;r=[n.tooltipHeaderFormatter(t[0])];hn(t,function(e){n=e.series;r.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))});r.push(e.options.footerFormat||"");return r.join("")},refresh:function(e,t){var n=this,r=n.chart,i=n.label,s=n.options,o,u,a,f={},l,c=[],h=s.formatter||n.defaultFormatter,p=r.hoverPoints,d,v=n.shared,m;clearTimeout(this.hideTimer);n.followPointer=It(e)[0].series.tooltipOptions.followPointer;a=n.getAnchor(e,t);o=a[0];u=a[1];if(v&&!(e.series&&e.series.noSharedTooltip)){r.hoverPoints=e;if(p){hn(p,function(e){e.setState()})}hn(e,function(e){e.setState(Y);c.push(e.getLabelConfig())});f={x:e[0].category,y:e[0].y};f.points=c;e=e[0]}else{f=e.getLabelConfig()}l=h.call(f,n);m=e.series;if(l===false){this.hide()}else{if(n.isHidden){En(i);i.attr("opacity",1).show()}i.attr({text:l});d=s.borderColor||e.color||m.color||"#606060";i.attr({stroke:d});n.updatePosition({plotX:o,plotY:u});this.isHidden=false}yn(r,"tooltipRefresh",{text:l,x:o+r.plotLeft,y:u+r.plotTop,borderColor:d})},updatePosition:function(e){var t=this.chart,n=this.label,r=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(i(r.x),i(r.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)}};var Wn=Highcharts.Pointer=function(e,t){this.init(e,t)};Wn.prototype={init:function(e,t){var n=t.chart,r=n.events,i=T?"":n.zoomType,s=e.inverted,o,u;this.options=t;this.chart=e;this.zoomX=o=/x/.test(i);this.zoomY=u=/y/.test(i);this.zoomHor=o&&!s||u&&s;this.zoomVert=u&&!s||o&&s;this.runChartClick=r&&!!r.click;this.pinchDown=[];this.lastValidTouch={};if(t.tooltip.enabled){e.tooltip=new zn(e,t.tooltip)}this.setDOMEvents()},normalize:function(t,r){var s,o,a;t=t||n.event;if(!t.target){t.target=t.srcElement}t=bn(t);a=t.touches?t.touches.item(0):t;if(!r){this.chartPosition=r=dn(this.chart.container)}if(a.pageX===e){s=u(t.x,t.clientX-r.left);o=t.y}else{s=a.pageX-r.left;o=a.pageY-r.top}return Ct(t,{chartX:i(s),chartY:i(o)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};hn(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})});return t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var n=this,r=n.chart,i=r.series,s=r.tooltip,o,u,l=r.hoverPoint,c=r.hoverSeries,h,p,d=r.chartWidth,v=n.getIndex(e),m;if(s&&n.options.tooltip.shared&&!(c&&c.noSharedTooltip)){u=[];h=i.length;for(p=0;p<h;p++){if(i[p].visible&&i[p].options.enableMouseTracking!==false&&!i[p].noSharedTooltip&&i[p].tooltipPoints.length){o=i[p].tooltipPoints[v];if(o&&o.series){o._dist=f(v-o.clientX);d=a(d,o._dist);u.push(o)}}}h=u.length;while(h--){if(u[h]._dist>d){u.splice(h,1)}}if(u.length&&u[0].clientX!==n.hoverX){s.refresh(u,e);n.hoverX=u[0].clientX}}if(c&&c.tracker){o=c.tooltipPoints[v];if(o&&o!==l){o.onMouseOver(e)}}else if(s&&s.followPointer&&!s.isHidden){m=s.getAnchor([{}],e);s.updatePosition({plotX:m[0],plotY:m[1]})}if(s&&!n._onDocumentMouseMove){n._onDocumentMouseMove=function(e){n.onDocumentMouseMove(e)};mn(t,"mousemove",n._onDocumentMouseMove)}hn(r.axes,function(t){t.drawCrosshair(e,qt(o,l))})},reset:function(n){var r=this,i=r.chart,s=i.hoverSeries,o=i.hoverPoint,u=i.tooltip,a=u&&u.shared?i.hoverPoints:o;n=n&&u&&a;if(n&&It(a)[0].plotX===e){n=false}if(n){u.refresh(a);if(o){o.setState(o.state,true)}}else{if(o){o.onMouseOut()}if(s){s.onMouseOut()}if(u){u.hide()}if(r._onDocumentMouseMove){gn(t,"mousemove",r._onDocumentMouseMove);r._onDocumentMouseMove=null}hn(i.axes,function(e){e.hideCrosshair()});r.hoverX=null}},scaleGroups:function(e,t){var n=this.chart,r;hn(n.series,function(i){r=e||i.getPlotBox();if(i.xAxis&&i.xAxis.zoomEnabled){i.group.attr(r);if(i.markerGroup){i.markerGroup.attr(r);i.markerGroup.clip(t?n.clipRect:null)}if(i.dataLabelsGroup){i.dataLabelsGroup.attr(r)}}});n.clipRect.attr(t||n.clipBox)},pinchTranslate:function(e,t,n,r,i,s,o,u){if(e){this.pinchTranslateDirection(true,n,r,i,s,o,u)}if(t){this.pinchTranslateDirection(false,n,r,i,s,o,u)}},pinchTranslateDirection:function(e,t,n,r,i,s,o,u){var a=this.chart,l=e?"x":"y",c=e?"X":"Y",h="chart"+c,p=e?"width":"height",d=a["plot"+(e?"Left":"Top")],v,m,g,y=u||1,b=a.inverted,w=a.bounds[e?"h":"v"],E=t.length===1,S=t[0][h],x=n[0][h],T=!E&&t[1][h],N=!E&&n[1][h],C,k,L,A=function(){if(!E&&f(S-T)>20){y=u||f(x-N)/f(S-T)}g=(d-x)/y+S;v=a["plot"+(e?"Width":"Height")]/y};A();m=g;if(m<w.min){m=w.min;C=true}else if(m+v>w.max){m=w.max-v;C=true}if(C){x-=.8*(x-o[l][0]);if(!E){N-=.8*(N-o[l][1])}A()}else{o[l]=[x,N]}if(!b){s[l]=g-d;s[p]=v}L=b?e?"scaleY":"scaleX":"scale"+c;k=b?1/y:y;i[p]=v;i[l]=m;r[L]=y;r["translate"+c]=k*d+(x-k*S)},pinch:function(e){var t=this,n=t.chart,r=t.pinchDown,i=n.tooltip&&n.tooltip.options.followTouchMove,s=e.touches,o=s.length,f=t.lastValidTouch,l=t.zoomHor||t.pinchHor,c=t.zoomVert||t.pinchVert,h=l||c,p=t.selectionMarker,d={},v=o===1&&(t.inClass(e.target,z+"tracker")&&n.runTrackerClick||n.runChartClick),m={};if((h||i)&&!v){e.preventDefault()}vn(s,function(e){return t.normalize(e)});if(e.type==="touchstart"){hn(s,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}});f.x=[r[0].chartX,r[1]&&r[1].chartX];f.y=[r[0].chartY,r[1]&&r[1].chartY];hn(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(e.dataMin),s=e.toPixels(e.dataMax),o=a(i,s),f=u(i,s);t.min=a(e.pos,o-r);t.max=u(e.pos+e.len,f+r)}})}else if(r.length){if(!p){t.selectionMarker=p=Ct({destroy:H},n.plotBox)}t.pinchTranslate(l,c,r,s,d,p,m,f);t.hasPinched=h;t.scaleGroups(d,m);if(!h&&i&&o===1){this.runPointActions(t.normalize(e))}}},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type;t.cancelClick=false;t.mouseDownX=this.mouseDownX=e.chartX;t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,l=t.plotWidth,c=t.plotHeight,h,p,d=this.mouseDownX,v=this.mouseDownY;if(r<u){r=u}else if(r>u+l){r=u+l}if(i<a){i=a}else if(i>a+c){i=a+c}this.hasDragged=Math.sqrt(Math.pow(d-r,2)+Math.pow(v-i,2));if(this.hasDragged>10){h=t.isInsidePlot(d-u,v-a);if(t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&h){if(!this.selectionMarker){this.selectionMarker=t.renderer.rect(u,a,s?1:l,o?1:c,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}}if(this.selectionMarker&&s){p=r-d;this.selectionMarker.attr({width:f(p),x:(p>0?0:p)+d})}if(this.selectionMarker&&o){p=i-v;this.selectionMarker.attr({height:f(p),y:(p>0?0:p)+v})}if(h&&!this.selectionMarker&&n.panning){t.pan(e,n.panning)}}},drop:function(e){var t=this.chart,n=this.hasPinched;if(this.selectionMarker){var r={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},i=this.selectionMarker,s=i.x,o=i.y,f;if(this.hasDragged||n){hn(t.axes,function(e){if(e.zoomEnabled){var t=e.horiz,n=e.toValue(t?s:o),l=e.toValue(t?s+i.width:o+i.height);if(!isNaN(n)&&!isNaN(l)){r[e.coll].push({axis:e,min:a(n,l),max:u(n,l)});f=true}}});if(f){yn(t,"selection",r,function(e){t.zoom(Ct(e,n?{animation:false}:null))})}}this.selectionMarker=this.selectionMarker.destroy();if(n){this.scaleGroups()}}if(t){Rt(t.container,{cursor:t._cursor});t.cancelClick=this.hasDragged>10;t.mouseIsDown=this.hasDragged=this.hasPinched=false;this.pinchDown=[]}},onContainerMouseDown:function(e){e=this.normalize(e);if(e.preventDefault){e.preventDefault()}this.dragStart(e)},onDocumentMouseUp:function(e){this.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,r=t.hoverSeries;e=this.normalize(e,n);if(n&&r&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)){this.reset()}},onContainerMouseLeave:function(){this.reset();this.chartPosition=null},onContainerMouseMove:function(e){var t=this.chart;e=this.normalize(e);if(t.mouseIsDown==="mousedown"){this.drag(e)}if((this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu){this.runPointActions(e)}},inClass:function(e,t){var n;while(e){n=Ft(e,"class");if(n){if(n.indexOf(t)!==-1){return true}else if(n.indexOf(z+"container")!==-1){return false}}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=e.relatedTarget||e.toElement,r=n&&n.point&&n.point.series;if(t&&!t.options.stickyTracking&&!this.inClass(n,z+"tooltip")&&r!==t){t.onMouseOut()}},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,i=t.plotTop,s=t.inverted,o,u,a;e=this.normalize(e);e.cancelBubble=true;if(!t.cancelClick){if(n&&this.inClass(e.target,z+"tracker")){o=this.chartPosition;u=n.plotX;a=n.plotY;Ct(n,{pageX:o.left+r+(s?t.plotWidth-a:u),pageY:o.top+i+(s?t.plotHeight-u:a)});yn(n.series,"click",Ct(e,{point:n}));if(t.hoverPoint){n.firePointEvent("click",e)}}else{Ct(e,this.getCoordinates(e));if(t.isInsidePlot(e.chartX-r,e.chartY-i)){yn(t,"click",e)}}}},onContainerTouchStart:function(e){var t=this.chart;if(e.touches.length===1){e=this.normalize(e);if(t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)){this.runPointActions(e);this.pinch(e)}else{this.reset()}}else if(e.touches.length===2){this.pinch(e)}},onContainerTouchMove:function(e){if(e.touches.length===1||e.touches.length===2){this.pinch(e)}},onDocumentTouchEnd:function(e){this.drop(e)},setDOMEvents:function(){var e=this,n=e.chart.container,r;this._events=r=[[n,"onmousedown","onContainerMouseDown"],[n,"onmousemove","onContainerMouseMove"],[n,"onclick","onContainerClick"],[n,"mouseleave","onContainerMouseLeave"],[t,"mouseup","onDocumentMouseUp"]];if(C){r.push([n,"ontouchstart","onContainerTouchStart"],[n,"ontouchmove","onContainerTouchMove"],[t,"touchend","onDocumentTouchEnd"])}hn(r,function(t){e["_"+t[2]]=function(n){e[t[2]](n)};if(t[1].indexOf("on")===0){t[0][t[1]]=e["_"+t[2]]}else{mn(t[0],t[1],e["_"+t[2]])}})},destroy:function(){var e=this;hn(e._events,function(t){if(t[1].indexOf("on")===0){t[0][t[1]]=null}else{gn(t[0],t[1],e["_"+t[2]])}});delete e._events;clearInterval(e.tooltipTimeout)}};var Xn=Highcharts.TrackerMixin={drawTrackerPoint:function(){var t=this,n=t.chart,r=n.pointer,i=t.options.cursor,s=i&&{cursor:i},o=function(r){var i=r.target,s;if(n.hoverSeries!==t){t.onMouseOver()}while(i&&!s){s=i.point;i=i.parentNode}if(s!==e&&s!==n.hoverPoint){s.onMouseOver(r)}};hn(t.points,function(e){if(e.graphic){e.graphic.element.point=e}if(e.dataLabel){e.dataLabel.element.point=e}});if(!t._hasTracking){hn(t.trackerGroups,function(e){if(t[e]){t[e].addClass(z+"tracker").on("mouseover",o).on("mouseout",function(e){r.onTrackerMouseOut(e)}).css(s);if(C){t[e].on("touchstart",o)}}});t._hasTracking=true}},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},h=e.singlePoints,p,d,v=function(){if(s.hoverSeries!==e){e.onMouseOver()}};if(i&&!n){d=i+1;while(d--){if(r[d]===$){r.splice(d+1,0,r[d+1]-a,r[d+2],J)}if(d&&r[d]===$||d===i){r.splice(d,0,J,r[d-2]+a,r[d-1])}}}for(d=0;d<h.length;d++){p=h[d];r.push($,p.plotX-a,p.plotY,J,p.plotX+a,p.plotY)}if(f){f.attr({d:r})}else{e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?W:U,stroke:Q,fill:n?Q:V,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).add(e.group);hn([e.tracker,e.markerGroup],function(e){e.addClass(z+"tracker").on("mouseover",v).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c);if(C){e.on("touchstart",v)}})}}};if(n.PointerEvent||n.MSPointerEvent){var Vn={};Wn.prototype.getWebkitTouches=function(){var e,t=[];t.item=function(e){return this[e]};for(e in Vn){if(Vn.hasOwnProperty(e)){t.push({pageX:Vn[e].pageX,pageY:Vn[e].pageY,target:Vn[e].target})}}return t};Vt(Wn.prototype,"init",function(e,t,n){t.container.style["-ms-touch-action"]=t.container.style["touch-action"]="none";e.call(this,t,n)});Vt(Wn.prototype,"setDOMEvents",function(e){var t=this,n;e.apply(this,Array.prototype.slice.call(arguments,1));n=[[this.chart.container,"PointerDown","touchstart","onContainerTouchStart",function(e){Vn[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}}],[this.chart.container,"PointerMove","touchmove","onContainerTouchMove",function(e){Vn[e.pointerId]={pageX:e.pageX,pageY:e.pageY};if(!Vn[e.pointerId].target){Vn[e.pointerId].target=e.currentTarget}}],[document,"PointerUp","touchend","onDocumentTouchEnd",function(e){delete Vn[e.pointerId]}]];hn(n,function(e){mn(e[0],window.PointerEvent?e[1].toLowerCase():"MS"+e[1],function(n){n=n.originalEvent;if(n.pointerType==="touch"||n.pointerType===n.MSPOINTER_TYPE_TOUCH){e[4](n);t[e[3]]({type:e[2],target:n.currentTarget,preventDefault:H,touches:t.getWebkitTouches()})}})})})}var $n=Highcharts.Legend=function(e,t){this.init(e,t)};$n.prototype={init:function(e,t){var n=this,r=t.itemStyle,i=qt(t.padding,8),s=t.itemMarginTop||0;this.options=t;if(!t.enabled){return}n.baseline=At(r.fontSize)+3+s;n.itemStyle=r;n.itemHiddenStyle=kt(r,t.itemHiddenStyle);n.itemMarginTop=s;n.padding=i;n.initialItemX=i;n.initialItemY=i-5;n.maxItemWidth=0;n.chart=e;n.itemHeight=0;n.lastLineHeight=0;n.symbolWidth=qt(t.symbolWidth,16);n.pages=[];n.render();mn(n.chart,"endResize",function(){n.positionCheckboxes()})},colorizeItem:function(t,n){var r=this,i=r.options,s=t.legendItem,o=t.legendLine,u=t.legendSymbol,a=r.itemHiddenStyle.color,f=n?i.itemStyle.color:a,l=n?t.legendColor||t.color:a,c=t.options&&t.options.marker,h={stroke:l,fill:l},p,d;if(s){s.css({fill:f,color:f})}if(o){o.attr({stroke:l})}if(u){if(c&&u.isMarker){c=t.convertAttribs(c);for(p in c){d=c[p];if(d!==e){h[p]=d}}}u.attr(h)}},positionItem:function(e){var t=this,n=t.options,r=n.symbolPadding,i=!n.rtl,s=e._legendItemPos,o=s[0],u=s[1],a=e.checkbox;if(e.legendGroup){e.legendGroup.translate(i?o:t.legendWidth-o-2*r-4,u)}if(a){a.x=o;a.y=u}},destroyItem:function(e){var t=e.checkbox;hn(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){if(e[t]){e[t]=e[t].destroy()}});if(t){nn(e.checkbox)}},destroy:function(){var e=this,t=e.group,n=e.box;if(n){e.box=n.destroy()}if(t){e.group=t.destroy()}},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;if(t){n=t.translateY;hn(this.allItems,function(i){var s=i.checkbox,o;if(s){o=n+s.y+(e||0)+3;Rt(s,{left:t.translateX+i.legendItemWidth+s.x-20+X,top:o+X,display:o>n-6&&o<n+r-6?"":V})}})}},renderTitle:function(){var e=this.options,t=this.padding,n=e.title,r=0,i;if(n.text){if(!this.title){this.title=this.chart.renderer.label(n.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)}i=this.title.getBBox();r=i.height;this.offsetWidth=i.width;this.contentGroup.attr({translateY:r})}this.titleHeight=r},renderItem:function(e){var t=this,n=t.chart,r=n.renderer,s=t.options,o=s.layout==="horizontal",a=t.symbolWidth,f=s.symbolPadding,l=t.itemStyle,c=t.itemHiddenStyle,h=t.padding,p=o?qt(s.itemDistance,8):0,d=!s.rtl,v,m=s.width,g=s.itemMarginBottom||0,y=t.itemMarginTop,b=t.initialItemX,w,E,S=e.legendItem,x=e.series&&e.series.drawLegendSymbol?e.series:e,T=x.options,N=T&&T.showCheckbox,C=s.useHTML;if(!S){e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(t.scrollGroup);x.drawLegendSymbol(t,e);e.legendItem=S=r.text(s.labelFormat?Jt(s.labelFormat,e):s.labelFormatter.call(e),d?a+f:-f,t.baseline,C).css(kt(e.visible?l:c)).attr({align:d?"left":"right",zIndex:2}).add(e.legendGroup);(C?S:e.legendGroup).on("mouseover",function(){e.setState(Y);S.css(t.options.itemHoverStyle)}).on("mouseout",function(){S.css(e.visible?l:c);e.setState()}).on("click",function(t){var n="legendItemClick",r=function(){e.setVisible()};t={browserEvent:t};if(e.firePointEvent){e.firePointEvent(n,t,r)}else{yn(e,n,t,r)}});t.colorizeItem(e,e.visible);if(N){e.checkbox=Ut("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},s.itemCheckboxStyle,n.container);mn(e.checkbox,"click",function(t){var n=t.target;yn(e,"checkboxClick",{checked:n.checked},function(){e.select()})})}}w=S.getBBox();E=e.legendItemWidth=s.itemWidth||e.legendItemWidth||a+f+w.width+p+(N?20:0);t.itemHeight=v=i(e.legendItemHeight||w.height);if(o&&t.itemX-b+E>(m||n.chartWidth-2*h-b)){t.itemX=b;t.itemY+=y+t.lastLineHeight+g;t.lastLineHeight=0}t.maxItemWidth=u(t.maxItemWidth,E);t.lastItemY=y+t.itemY+g;t.lastLineHeight=u(v,t.lastLineHeight);e._legendItemPos=[t.itemX,t.itemY];if(o){t.itemX+=E}else{t.itemY+=y+v+g;t.lastLineHeight=v}t.offsetWidth=m||u((o?t.itemX-b-p:E)+h,t.offsetWidth)},getAllItems:function(){var t=[];hn(this.chart.series,function(n){var r=n.options;if(!qt(r.showInLegend,!jt(r.linkedTo)?e:false,true)){return}t=t.concat(n.legendItems||(r.legendType==="point"?n.data:n))});return t},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.group,i,s,o,u,a=e.box,f=e.options,l=e.padding,c=f.borderWidth,h=f.backgroundColor;e.itemX=e.initialItemX;e.itemY=e.initialItemY;e.offsetWidth=0;e.lastItemY=0;if(!r){e.group=r=n.g("legend").attr({zIndex:7}).add();e.contentGroup=n.g().attr({zIndex:1}).add(r);e.scrollGroup=n.g().add(e.contentGroup)}e.renderTitle();i=e.getAllItems();Yt(i,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)});if(f.reversed){i.reverse()}e.allItems=i;e.display=s=!!i.length;hn(i,function(t){e.renderItem(t)});o=f.width||e.offsetWidth;u=e.lastItemY+e.lastLineHeight+e.titleHeight;u=e.handleOverflow(u);if(c||h){o+=l;u+=l;if(!a){e.box=a=n.rect(0,0,o,u,f.borderRadius,c||0).attr({stroke:f.borderColor,"stroke-width":c||0,fill:h||V}).add(r).shadow(f.shadow);a.isNew=true}else if(o>0&&u>0){a[a.isNew?"attr":"animate"](a.crisp(null,null,null,o,u));a.isNew=false}a[s?"show":"hide"]()}e.legendWidth=o;e.legendHeight=u;hn(i,function(t){e.positionItem(t)});if(s){r.align(Ct({width:o,height:u},f),true,"spacingBox")}if(!t.isResizing){this.positionCheckboxes()}},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,s=this.options,o=s.y,u=s.verticalAlign==="top",f=n.spacingBox.height+(u?-o:o)-this.padding,l=s.maxHeight,c,h=this.clipRect,p=s.navigation,d=qt(p.animation,true),v=p.arrowSize||12,m=this.nav,g=this.pages,y,b=this.allItems;if(s.layout==="horizontal"){f/=2}if(l){f=a(f,l)}g.length=0;if(e>f&&!s.useHTML){this.clipHeight=c=f-20-this.titleHeight-this.padding;this.currentPage=qt(this.currentPage,1);this.fullHeight=e;hn(b,function(e,t){var n=e._legendItemPos[1],r=i(e.legendItem.bBox.height),s=g.length;if(!s||n-g[s-1]>c){g.push(y||n)}if(t===b.length-1&&n+r-g[s-1]>c){g.push(n)}if(n!==y){y=n}});if(!h){h=t.clipRect=r.clipRect(0,this.padding,9999,0);t.contentGroup.clip(h)}h.attr({height:c});if(!m){this.nav=m=r.g().attr({zIndex:1}).add(this.group);this.up=r.symbol("triangle",0,0,v,v).on("click",function(){t.scroll(-1,d)}).add(m);this.pager=r.text("",15,10).css(p.style).add(m);this.down=r.symbol("triangle-down",0,0,v,v).on("click",function(){t.scroll(1,d)}).add(m)}t.scroll(0);e=f}else if(m){h.attr({height:n.chartHeight});m.hide();this.scrollGroup.attr({translateY:1});this.clipHeight=0}return e},scroll:function(t,n){var r=this.pages,i=r.length,s=this.currentPage+t,o=this.clipHeight,u=this.options.navigation,a=u.activeColor,f=u.inactiveColor,l=this.pager,c=this.padding,h;if(s>i){s=i}if(s>0){if(n!==e){on(n,this.chart)}this.nav.attr({translateX:c,translateY:o+this.padding+7+this.titleHeight,visibility:W});this.up.attr({fill:s===1?f:a}).css({cursor:s===1?"default":"pointer"});l.attr({text:s+"/"+i});this.down.attr({x:18+this.pager.getBBox().width,fill:s===i?f:a}).css({cursor:s===i?"default":"pointer"});h=-r[s-1]+this.initialItemY;this.scrollGroup.animate({translateY:h});this.currentPage=s;this.positionCheckboxes(h)}}};var Jn=Highcharts.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||12;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-5-n/2,e.symbolWidth,n,qt(e.options.symbolRadius,2)).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,n=t.marker,r,s=e.options,o,u=e.symbolWidth,a=this.chart.renderer,f=this.legendGroup,l=e.baseline-i(a.fontMetrics(s.itemStyle.fontSize).b*.3),c;if(t.lineWidth){c={"stroke-width":t.lineWidth};if(t.dashStyle){c.dashstyle=t.dashStyle}this.legendLine=a.path([$,0,l,J,u,l]).attr(c).add(f)}if(n&&n.enabled){r=n.radius;this.legendSymbol=o=a.symbol(this.symbol,u/2-r,l-r,2*r,2*r).add(f);o.isMarker=true}}};if(/Trident\/7\.0/.test(d)){Vt($n.prototype,"positionItem",function(e,t){var n=this,r=function(){if(t._legendItemPos){e.call(n,t)}};if(n.chart.renderer.forExport){r()}else{setTimeout(r)}})}Kn.prototype={init:function(e,t){var n,r=e.series;e.series=null;n=kt(O,e);n.series=e.series=r;this.userOptions=e;var i=n.chart;this.margin=this.splashArray("margin",i);this.spacing=this.splashArray("spacing",i);var s=i.events;this.bounds={h:{},v:{}};this.callback=t;this.isResizing=0;this.options=n;this.axes=[];this.series=[];this.hasCartesianSeries=i.showAxes;var o=this,u;o.index=B.length;B.push(o);if(i.reflow!==false){mn(o,"load",function(){o.initReflow()})}if(s){for(u in s){mn(o,u,s[u])}}o.xAxis=[];o.yAxis=[];o.animation=T?false:qt(i.animation,true);o.pointCount=0;o.counters=new Gt;o.firstRender()},initSeries:function(e){var t=this,n=t.options.chart,r=e.type||n.type||n.defaultSeriesType,i,s=Nt[r];if(!s){rn(17,true)}i=new s;i.init(this,e);return i},isInsidePlot:function(e,t,n){var r=n?t:e,i=n?e:t;return r>=0&&r<=this.plotWidth&&i>=0&&i<=this.plotHeight},adjustTickAmounts:function(){if(this.options.chart.alignTicks!==false){hn(this.axes,function(e){e.adjustTickAmount()})}this.maxTicks=null},redraw:function(e){var t=this,n=t.axes,r=t.series,i=t.pointer,s=t.legend,o=t.isDirtyLegend,u,a,f=t.isDirtyBox,l=r.length,c=l,h,p=t.renderer,d=p.isHidden(),v=[];on(e,t);if(d){t.cloneRenderTo()}t.layOutTitles();while(c--){h=r[c];if(h.options.stacking){u=true;if(h.isDirty){a=true;break}}}if(a){c=l;while(c--){h=r[c];if(h.options.stacking){h.isDirty=true}}}hn(r,function(e){if(e.isDirty){if(e.options.legendType==="point"){o=true}}});if(o&&s.options.enabled){s.render();t.isDirtyLegend=false}if(u){t.getStacks()}if(t.hasCartesianSeries){if(!t.isResizing){t.maxTicks=null;hn(n,function(e){e.setScale()})}t.adjustTickAmounts();t.getMargins();hn(n,function(e){if(e.isDirty){f=true}});hn(n,function(e){if(e.isDirtyExtremes){e.isDirtyExtremes=false;v.push(function(){yn(e,"afterSetExtremes",Ct(e.eventArgs,e.getExtremes()));delete e.eventArgs})}if(f||u){e.redraw()}})}if(f){t.drawChartBox()}hn(r,function(e){if(e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)){e.redraw()}});if(i&&i.reset){i.reset(true)}p.draw();yn(t,"redraw");if(d){t.cloneRenderTo(true)}hn(v,function(e){e.call()})},get:function(e){var t=this,n=t.axes,r=t.series;var i,s,o;for(i=0;i<n.length;i++){if(n[i].options.id===e){return n[i]}}for(i=0;i<r.length;i++){if(r[i].options.id===e){return r[i]}}for(i=0;i<r.length;i++){o=r[i].points||[];for(s=0;s<o.length;s++){if(o[s].id===e){return o[s]}}}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=It(t.xAxis||{}),r=t.yAxis=It(t.yAxis||{}),i,s;hn(n,function(e,t){e.index=t;e.isX=true});hn(r,function(e,t){e.index=t});i=n.concat(r);hn(i,function(t){s=new Un(e,t)});e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];hn(this.series,function(t){e=e.concat(pn(t.points||[],function(e){return e.selected}))});return e},getSelectedSeries:function(){return pn(this.series,function(e){return e.selected})},getStacks:function(){var e=this;hn(e.yAxis,function(e){if(e.stacks&&e.hasVisibleSeries){e.oldStacks=e.stacks}});hn(e.series,function(t){if(t.options.stacking&&(t.visible===true||e.options.chart.ignoreHiddenSeries===false)){t.stackKey=t.type+qt(t.options.stack,"")}})},showResetZoom:function(){var e=this,t=O.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,false,s)},zoomOut:function(){var e=this;yn(e,"selection",{resetSelection:true},function(){e.zoom()})},zoom:function(e){var t=this,n,r=t.pointer,i=false,s;if(!e||e.resetSelection){hn(t.axes,function(e){n=e.zoom()})}else{hn(e.xAxis.concat(e.yAxis),function(e){var t=e.axis,s=t.isXAxis;if(r[s?"zoomX":"zoomY"]||r[s?"pinchX":"pinchY"]){n=t.zoom(e.min,e.max);if(t.displayBtn){i=true}}})}s=t.resetZoomButton;if(i&&!s){t.showResetZoom()}else if(!i&&Mt(s)){t.resetZoomButton=s.destroy()}if(n){t.redraw(qt(t.options.chart.animation,e&&e.animation,t.pointCount<100))}},pan:function(e,t){var n=this,r=n.hoverPoints,i;if(r){hn(r,function(e){e.setState()})}hn(t==="xy"?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],s=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],f=(s.pointRange||0)/2,l=s.getExtremes(),c=s.toValue(o-r,true)+f,h=s.toValue(o+n[t?"plotWidth":"plotHeight"]-r,true)-f;if(s.series.length&&c>a(l.dataMin,l.min)&&h<u(l.dataMax,l.max)){s.setExtremes(c,h,false,false,{trigger:"pan"});i=true}n[t?"mouseDownX":"mouseDownY"]=r});if(i){n.redraw(false)}Rt(n.container,{cursor:"move"})},setTitle:function(e,t){var n=this,r=n.options,i,s;i=r.title=kt(r.title,e);s=r.subtitle=kt(r.subtitle,t);hn([["title",e,i],["subtitle",t,s]],function(e){var t=e[0],r=n[t],i=e[1],s=e[2];if(r&&i){n[t]=r=r.destroy()}if(s&&s.text&&!r){n[t]=n.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,"class":z+t,zIndex:s.zIndex||4}).css(s.style).add()}});n.layOutTitles()},layOutTitles:function(){var e=0,t=this.title,n=this.subtitle,r=this.options,i=r.title,s=r.subtitle,u=this.spacingBox.width-44;if(t){t.css({width:(i.width||u)+X}).align(Ct({y:15},i),false,"spacingBox");if(!i.floating&&!i.verticalAlign){e=t.getBBox().height;if(e>=18&&e<=25){e=15}}}if(n){n.css({width:(s.width||u)+X}).align(Ct({y:e+i.margin},s),false,"spacingBox");if(!s.floating&&!s.verticalAlign){e=o(e+n.getBBox().height)}}this.titleOffset=e},getChartSize:function(){var e=this,t=e.options.chart,n=e.renderToClone||e.renderTo;e.containerWidth=fn(n,"width");e.containerHeight=fn(n,"height");e.chartWidth=u(0,t.width||e.containerWidth||600);e.chartHeight=u(0,qt(t.height,e.containerHeight>19?e.containerHeight:400))},cloneRenderTo:function(e){var n=this.renderToClone,r=this.container;if(e){if(n){this.renderTo.appendChild(r);nn(n);delete this.renderToClone}}else{if(r&&r.parentNode===this.renderTo){this.renderTo.removeChild(r)}this.renderToClone=n=this.renderTo.cloneNode(0);Rt(n,{position:q,top:"-9999px",display:"block"});t.body.appendChild(n);if(r){n.appendChild(r)}}},getContainer:function(){var e=this,n,r=e.options.chart,i,s,o,u="data-highcharts-chart",a,f;e.renderTo=o=r.renderTo;f=z+L++;if(Ot(o)){e.renderTo=o=t.getElementById(o)}if(!o){rn(13,true)}a=At(Ft(o,u));if(!isNaN(a)&&B[a]){B[a].destroy()}Ft(o,u,e.index);o.innerHTML="";if(!o.offsetWidth){e.cloneRenderTo()}e.getChartSize();i=e.chartWidth;s=e.chartHeight;e.container=n=Ut(I,{className:z+"container"+(r.className?" "+r.className:""),id:f},Ct({position:R,overflow:U,width:i+X,height:s+X,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},r.style),e.renderToClone||o);e._cursor=n.style.cursor;e.renderer=r.forExport?new Dn(n,i,s,true):new N(n,i,s);if(T){e.renderer.create(e,n,i,s)}},getMargins:function(){var e=this,t=e.spacing,n,r=e.legend,i=e.margin,s=e.options.legend,o=qt(s.margin,10),a=s.x,f=s.y,l=s.align,c=s.verticalAlign,h=e.titleOffset;e.resetMargins();n=e.axisOffset;if(h&&!jt(i[0])){e.plotTop=u(e.plotTop,h+e.options.title.margin+t[0])}if(r.display&&!s.floating){if(l==="right"){if(!jt(i[1])){e.marginRight=u(e.marginRight,r.legendWidth-a+o+t[1])}}else if(l==="left"){if(!jt(i[3])){e.plotLeft=u(e.plotLeft,r.legendWidth+a+o+t[3])}}else if(c==="top"){if(!jt(i[0])){e.plotTop=u(e.plotTop,r.legendHeight+f+o+t[0])}}else if(c==="bottom"){if(!jt(i[2])){e.marginBottom=u(e.marginBottom,r.legendHeight-f+o+t[2])}}}if(e.extraBottomMargin){e.marginBottom+=e.extraBottomMargin}if(e.extraTopMargin){e.plotTop+=e.extraTopMargin}if(e.hasCartesianSeries){hn(e.axes,function(e){e.getOffset()})}if(!jt(i[3])){e.plotLeft+=n[3]}if(!jt(i[0])){e.plotTop+=n[0]}if(!jt(i[2])){e.marginBottom+=n[2]}if(!jt(i[1])){e.marginRight+=n[1]}e.setChartSize()},reflow:function(e){var r=this,i=r.options.chart,s=r.renderTo,o=i.width||fn(s,"width"),u=i.height||fn(s,"height"),a=e?e.target:n,f=function(){if(r.container){r.setSize(o,u,false);r.hasUserSize=null}};if(!r.hasUserSize&&o&&u&&(a===n||a===t)){if(o!==r.containerWidth||u!==r.containerHeight){clearTimeout(r.reflowTimeout);if(e){r.reflowTimeout=setTimeout(f,100)}else{f()}}r.containerWidth=o;r.containerHeight=u}},initReflow:function(){var e=this,t=function(t){e.reflow(t)};mn(n,"resize",t);mn(e,"destroy",function(){gn(n,"resize",t)})},setSize:function(e,t,n){var r=this,s,o,a;r.isResizing+=1;a=function(){if(r){yn(r,"endResize",null,function(){r.isResizing-=1})}};on(n,r);r.oldChartHeight=r.chartHeight;r.oldChartWidth=r.chartWidth;if(jt(e)){r.chartWidth=s=u(0,i(e));r.hasUserSize=!!s}if(jt(t)){r.chartHeight=o=u(0,i(t))}(_?wn:Rt)(r.container,{width:s+X,height:o+X},_);r.setChartSize(true);r.renderer.setSize(s,o,n);r.maxTicks=null;hn(r.axes,function(e){e.isDirty=true;e.setScale()});hn(r.series,function(e){e.isDirty=true});r.isDirtyLegend=true;r.isDirtyBox=true;r.getMargins();r.redraw(n);r.oldChartHeight=null;yn(r,"resize");if(_===false){a()}else{setTimeout(a,_&&_.duration||500)}},setChartSize:function(e){var t=this,n=t.inverted,r=t.renderer,a=t.chartWidth,f=t.chartHeight,l=t.options.chart,c=t.spacing,h=t.clipOffset,p,d,v,m,g,y,b;t.plotLeft=v=i(t.plotLeft);t.plotTop=m=i(t.plotTop);t.plotWidth=g=u(0,i(a-v-t.marginRight));t.plotHeight=y=u(0,i(f-m-t.marginBottom));t.plotSizeX=n?y:g;t.plotSizeY=n?g:y;t.plotBorderWidth=l.plotBorderWidth||0;t.spacingBox=r.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:f-c[0]-c[2]};t.plotBox=r.plotBox={x:v,y:m,width:g,height:y};b=2*s(t.plotBorderWidth/2);p=o(u(b,h[3])/2);d=o(u(b,h[0])/2);t.clipBox={x:p,y:d,width:s(t.plotSizeX-u(b,h[1])/2-p),height:s(t.plotSizeY-u(b,h[2])/2-d)};if(!e){hn(t.axes,function(e){e.setAxisSize();e.setAxisTranslation()})}},resetMargins:function(){var e=this,t=e.spacing,n=e.margin;e.plotTop=qt(n[0],t[0]);e.marginRight=qt(n[1],t[1]);e.marginBottom=qt(n[2],t[2]);e.plotLeft=qt(n[3],t[3]);e.axisOffset=[0,0,0,0];e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this,t=e.options.chart,n=e.renderer,r=e.chartWidth,i=e.chartHeight,s=e.chartBackground,o=e.plotBackground,u=e.plotBorder,a=e.plotBGImage,f=t.borderWidth||0,l=t.backgroundColor,c=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,d,v,m=e.plotLeft,g=e.plotTop,y=e.plotWidth,b=e.plotHeight,w=e.plotBox,E=e.clipRect,S=e.clipBox;d=f+(t.shadow?8:0);if(f||l){if(!s){v={fill:l||V};if(f){v.stroke=t.borderColor;v["stroke-width"]=f}e.chartBackground=n.rect(d/2,d/2,r-d,i-d,t.borderRadius,f).attr(v).add().shadow(t.shadow)}else{s.animate(s.crisp(null,null,null,r-d,i-d))}}if(c){if(!o){e.plotBackground=n.rect(m,g,y,b,0).attr({fill:c}).add().shadow(t.plotShadow)}else{o.animate(w)}}if(h){if(!a){e.plotBGImage=n.image(h,m,g,y,b).add()}else{a.animate(w)}}if(!E){e.clipRect=n.clipRect(S)}else{E.animate({width:S.width,height:S.height})}if(p){if(!u){e.plotBorder=n.rect(m,g,y,b,0,-p).attr({stroke:t.plotBorderColor,"stroke-width":p,zIndex:1}).add()}else{u.animate(u.crisp(null,m,g,y,b))}}e.isDirtyBox=false},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;hn(["inverted","angular","polar"],function(o){n=Nt[t.type||t.defaultSeriesType];s=e[o]||t[o]||n&&n.prototype[o];i=r&&r.length;while(!s&&i--){n=Nt[r[i].type];if(n&&n.prototype[o]){s=true}}e[o]=s})},linkSeries:function(){var e=this,t=e.series;hn(t,function(e){e.linkedSeries.length=0});hn(t,function(t){var n=t.options.linkedTo;if(Ot(n)){if(n===":previous"){n=e.series[t.index-1]}else{n=e.get(n)}if(n){n.linkedSeries.push(t);t.linkedParent=n}}})},render:function(){var e=this,t=e.axes,n=e.renderer,r=e.options;var i=r.labels,s=r.credits,o;e.setTitle();e.legend=new $n(e,r.legend);e.getStacks();hn(t,function(e){e.setScale()});e.getMargins();e.maxTicks=null;hn(t,function(e){e.setTickPositions(true);e.setMaxTicks()});e.adjustTickAmounts();e.getMargins();e.drawChartBox();if(e.hasCartesianSeries){hn(t,function(e){e.render()})}if(!e.seriesGroup){e.seriesGroup=n.g("series-group").attr({zIndex:3}).add()}hn(e.series,function(e){e.translate();e.setTooltipPoints();e.render()});if(i.items){hn(i.items,function(t){var r=Ct(i.style,t.style),s=At(r.left)+e.plotLeft,o=At(r.top)+e.plotTop+12;delete r.left;delete r.top;n.text(t.html,s,o).attr({zIndex:2}).css(r).add()})}if(s.enabled&&!e.credits){o=s.href;e.credits=n.text(s.text,0,0).on("click",function(){if(o){location.href=o}}).attr({align:s.position.align,zIndex:8}).css(s.style).add().align(s.position)}e.hasRendered=true},destroy:function(){var t=this,n=t.axes,r=t.series,i=t.container,s,o=i&&i.parentNode;yn(t,"destroy");B[t.index]=e;t.renderTo.removeAttribute("data-highcharts-chart");gn(t);s=n.length;while(s--){n[s]=n[s].destroy()}s=r.length;while(s--){r[s]=r[s].destroy()}hn(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(e){var n=t[e];if(n&&n.destroy){t[e]=n.destroy()}});if(i){i.innerHTML="";gn(i);if(o){nn(i)}}for(s in t){delete t[s]}},isReadyToRender:function(){var e=this;if(!S&&n==n.top&&t.readyState!=="complete"||T&&!n.canvg){if(T){Fn.push(function(){e.firstRender()},e.options.global.canvasToolsURL)}else{t.attachEvent("onreadystatechange",function(){t.detachEvent("onreadystatechange",e.firstRender);if(t.readyState==="complete"){e.firstRender()}})}return false}return true},firstRender:function(){var e=this,t=e.options,n=e.callback;if(!e.isReadyToRender()){return}e.getContainer();yn(e,"init");e.resetMargins();e.setChartSize();e.propFromSeries();e.getAxes();hn(t.series||[],function(t){e.initSeries(t)});e.linkSeries();yn(e,"beforeRender");e.pointer=new Wn(e,t);e.render();e.renderer.draw();if(n){n.apply(e,[e])}hn(e.callbacks,function(t){t.apply(e,[e])});e.cloneRenderTo(true);yn(e,"load")},splashArray:function(e,t){var n=t[e],r=Mt(n)?n:[n,n,n,n];return[qt(t[e+"Top"],r[0]),qt(t[e+"Right"],r[1]),qt(t[e+"Bottom"],r[2]),qt(t[e+"Left"],r[3])]}};Kn.prototype.callbacks=[];var Qn=Highcharts.CenteredSeriesMixin={getCenter:function(){var e=this.options,t=this.chart,n=2*(e.slicedOffset||0),r,i=t.plotWidth-2*n,s=t.plotHeight-2*n,o=e.center,u=[qt(o[0],"50%"),qt(o[1],"50%"),e.size||"100%",e.innerSize||0],f=a(i,s),l;return vn(u,function(e,t){l=/%$/.test(e);r=t<2||t===2&&l;return(l?[i,s,f,f][t]*At(e)/100:e)+(r?n:0)})}};var Gn=function(){};Gn.prototype={init:function(e,t,n){var r=this,i;r.series=e;r.applyOptions(t,n);r.pointAttr={};if(e.options.colorByPoint){i=e.options.colors||e.chart.options.colors;r.color=r.color||i[e.colorCounter++];if(e.colorCounter===i.length){e.colorCounter=0}}e.chart.pointCount++;return r},applyOptions:function(t,n){var r=this,i=r.series,s=i.pointValKey;t=Gn.prototype.optionsToObject.call(this,t);Ct(r,t);r.options=r.options?Ct(r.options,t):t;if(s){r.y=r[s]}if(r.x===e&&i){r.x=n===e?i.autoIncrement():n}return r},optionsToObject:function(e){var t={},n=this.series,r=n.pointArrayMap||["y"],i=r.length,s,o=0,u=0;if(typeof e==="number"||e===null){t[r[0]]=e}else if(_t(e)){if(e.length>i){s=typeof e[0];if(s==="string"){t.name=e[0]}else if(s==="number"){t.x=e[0]}o++}while(u<i){t[r[u++]]=e[o++]}}else if(typeof e==="object"){t=e;if(e.dataLabels){n._hasPointLabels=true}if(e.marker){n._hasPointMarkers=true}}return t},destroy:function(){var e=this,t=e.series,n=t.chart,r=n.hoverPoints,i;n.pointCount--;if(r){e.setState();Bt(r,e);if(!r.length){n.hoverPoints=null}}if(e===n.hoverPoint){e.onMouseOut()}if(e.graphic||e.dataLabel){gn(e);e.destroyElements()}if(e.legendItem){n.legend.destroyItem(e)}for(i in e){e[i]=null}},destroyElements:function(){var e=this,t=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n,r=6;while(r--){n=t[r];if(e[n]){e[n]=e[n].destroy()}}},getLabelConfig:function(){var e=this;return{x:e.category,y:e.y,key:e.name||e.category,series:e.series,point:e,percentage:e.percentage,total:e.total||e.stackTotal}},select:function(e,t){var n=this,r=n.series,i=r.chart;e=qt(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e;r.options.data[cn(n,r.data)]=n.options;n.setState(e&&Z);if(!t){hn(i.getSelectedPoints(),function(e){if(e.selected&&e!==n){e.selected=e.options.selected=false;r.options.data[cn(e,r.data)]=e.options;e.setState(G);e.firePointEvent("unselect")}})}})},onMouseOver:function(e){var t=this,n=t.series,r=n.chart,i=r.tooltip,s=r.hoverPoint;if(s&&s!==t){s.onMouseOut()}t.firePointEvent("mouseOver");if(i&&(!i.shared||n.noSharedTooltip)){i.refresh(t,e)}t.setState(Y);r.hoverPoint=t},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;if(!t||cn(this,t)===-1){this.firePointEvent("mouseOut");this.setState();e.hoverPoint=null}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=qt(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";hn(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s){e=e.replace(t+"}",i+t+"}"+s)}e=e.replace(t+"}",t+":,."+r+"f}")});return Jt(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series,s=i.options;if(s.point.events[e]||r.options&&r.options.events&&r.options.events[e]){this.importEvents()}if(e==="click"&&s.allowPointSelect){n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}}yn(this,e,t,n)},importEvents:function(){if(!this.hasImportedEvents){var e=this,t=kt(e.series.options.point,e.options),n=t.events,r;e.events=n;for(r in n){mn(e,r,n[r])}this.hasImportedEvents=true}},setState:function(e,t){var n=this,r=n.plotX,i=n.plotY,s=n.series,o=s.options.states,u=xn[s.type].marker&&s.options.marker,a=u&&!u.enabled,f=u&&u.states[e],l=f&&f.enabled===false,c=s.stateMarkerGraphic,h=n.marker||{},p=s.chart,d,v,m=n.pointAttr;e=e||G;t=t&&c;if(e===n.state&&!t||n.selected&&e!==Z||o[e]&&o[e].enabled===false||e&&(l||a&&!f.enabled)||e&&h.states&&h.states[e]&&h.states[e].enabled===false){return}if(n.graphic){d=u&&n.graphic.symbolName&&m[e].r;n.graphic.attr(kt(m[e],d?{x:r-d,y:i-d,width:2*d,height:2*d}:{}))}else{if(e&&f){d=f.radius;v=h.symbol||s.symbol;if(c&&c.currentSymbol!==v){c=c.destroy()}if(!c){s.stateMarkerGraphic=c=p.renderer.symbol(v,r-d,i-d,2*d,2*d).attr(m[e]).add(s.markerGroup);c.currentSymbol=v}else{c[t?"animate":"attr"]({x:r-d,y:i-d})}}if(c){c[e&&p.isInsidePlot(r,i,p.inverted)?"show":"hide"]()}}n.state=e}};var Yn=function(){};Yn.prototype={isCartesian:true,type:"line",pointClass:Gn,sorted:true,requireSorting:true,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var n=this,r,i,s=e.series,o=function(e,t){return qt(e.options.index,e._i)-qt(t.options.index,t._i)};n.chart=e;n.options=t=n.setOptions(t);n.linkedSeries=[];n.bindAxes();Ct(n,{name:t.name,state:G,pointAttr:{},visible:t.visible!==false,selected:t.selected===true});if(T){t.animation=false}i=t.events;for(r in i){mn(n,r,i[r])}if(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect){e.runTrackerClick=true}n.getColor();n.getSymbol();hn(n.parallelArrays,function(e){n[e+"Data"]=[]});n.setData(t.data,false);if(n.isCartesian){e.hasCartesianSeries=true}s.push(n);n._i=s.length-1;Yt(s,o);if(this.yAxis){Yt(this.yAxis.series,o)}hn(s,function(e,t){e.index=t;e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var t=this,n=t.options,r=t.chart,i;hn(t.axisTypes||[],function(s){hn(r[s],function(r){i=r.options;if(n[s]===i.index||n[s]!==e&&n[s]===i.id||n[s]===e&&i.index===0){r.series.push(t);t[s]=r;r.isDirty=true}});if(!t[s]&&t.optionalAxis!==s){rn(18,true)}})},updateParallelArrays:function(e,t){var n=e.series,r=arguments,i=typeof t==="number"?function(r){var i=r==="y"&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))};hn(n.parallelArrays,i)},autoIncrement:function(){var e=this,t=e.options,n=e.xIncrement;n=qt(n,t.pointStart,0);e.pointInterval=qt(e.pointInterval,t.pointInterval,1);e.xIncrement=n+e.pointInterval;return n},getSegments:function(){var e=this,t=-1,n=[],r,i=e.points,s=i.length;if(s){if(e.options.connectNulls){r=s;while(r--){if(i[r].y===null){i.splice(r,1)}}if(i.length){n=[i]}}else{hn(i,function(e,r){if(e.y===null){if(r>t+1){n.push(i.slice(t+1,r))}t=r}else if(r===s-1){n.push(i.slice(t+1,r+1))}})}}e.segments=n},setOptions:function(e){var t=this.chart,n=t.options,r=n.plotOptions,i=t.userOptions||{},s=i.plotOptions||{},o=r[this.type],u;this.userOptions=e;u=kt(o,r.series,e);this.tooltipOptions=kt(O.tooltip,O.plotOptions[this.type].tooltip,i.tooltip,s.series&&s.series.tooltip,s[this.type]&&s[this.type].tooltip,e.tooltip);if(o.marker===null){delete u.marker}return u},getColor:function(){var e=this.options,t=this.userOptions,n=this.chart.options.colors,r=this.chart.counters,i,s;i=e.color||xn[this.type].color;if(!i&&!e.colorByPoint){if(jt(t._colorIndex)){s=t._colorIndex}else{t._colorIndex=r.color;s=r.color++}i=n[s]}this.color=i;r.wrapColor(n.length)},getSymbol:function(){var e=this,t=e.userOptions,n=e.options.marker,r=e.chart,i=r.options.symbols,s=r.counters,o;e.symbol=n.symbol;if(!e.symbol){if(jt(t._symbolIndex)){o=t._symbolIndex}else{t._symbolIndex=s.symbol;o=s.symbol++}e.symbol=i[o]}if(/^url/.test(e.symbol)){n.radius=0}s.wrapSymbol(i.length)},drawLegendSymbol:Jn.drawLineMarker,setData:function(t,n){var r=this,i=r.points,s=r.options,o=r.chart,u=null,a=r.xAxis,f=a&&!!a.categories,l;r.xIncrement=null;r.pointRange=f?1:s.pointRange;r.colorCounter=0;t=t||[];var c=t.length,h=s.turboThreshold,p,d=this.xData,v=this.yData,m=r.pointArrayMap,g=m&&m.length;hn(this.parallelArrays,function(e){r[e+"Data"].length=0});if(h&&c>h){l=0;while(u===null&&l<c){u=t[l];l++}if(Dt(u)){var y=qt(s.pointStart,0),b=qt(s.pointInterval,1);for(l=0;l<c;l++){d[l]=y;v[l]=t[l];y+=b}r.xIncrement=y}else if(_t(u)){if(g){for(l=0;l<c;l++){p=t[l];d[l]=p[0];v[l]=p.slice(1,g+1)}}else{for(l=0;l<c;l++){p=t[l];d[l]=p[0];v[l]=p[1]}}}else{rn(12)}}else{for(l=0;l<c;l++){if(t[l]!==e){p={series:r};r.pointClass.prototype.applyOptions.apply(p,[t[l]]);r.updateParallelArrays(p,l);if(f&&p.name){a.names[p.x]=p.name}}}}if(Ot(v[0])){rn(14,true)}r.data=[];r.options.data=t;l=i&&i.length||0;while(l--){if(i[l]&&i[l].destroy){i[l].destroy()}}if(a){a.minRange=a.userMinRange}r.isDirty=r.isDirtyData=o.isDirtyBox=true;if(qt(n,true)){o.redraw(false)}},processData:function(t){var n=this,r=n.xData,i=n.yData,s=r.length,o,u=0,a,f,l,c=n.xAxis,h,p=n.options,d=p.cropThreshold,v=n.isCartesian;if(v&&!n.isDirty&&!c.isDirty&&!n.yAxis.isDirty&&!t){return false}if(v&&n.sorted&&(!d||s>d||n.forceCrop)){var m=c.min,g=c.max;if(r[s-1]<m||r[0]>g){r=[];i=[]}else if(r[0]<m||r[s-1]>g){o=this.cropData(n.xData,n.yData,m,g);r=o.xData;i=o.yData;u=o.start;a=true}}for(h=r.length-1;h>=0;h--){f=r[h]-r[h-1];if(f>0&&(l===e||f<l)){l=f}else if(f<0&&n.requireSorting){rn(15)}}n.cropped=a;n.cropStart=u;n.processedXData=r;n.processedYData=i;if(p.pointRange===null){n.pointRange=l||1}n.closestPointRange=l},cropData:function(e,t,n,r){var i=e.length,s=0,o=i,a=qt(this.cropShoulder,1),f;for(f=0;f<i;f++){if(e[f]>=n){s=u(0,f-a);break}}for(;f<i;f++){if(e[f]>r){o=f+a;break}}return{xData:e.slice(s,o),yData:t.slice(s,o),start:s,end:o}},generatePoints:function(){var t=this,n=t.options,r=n.data,i=t.data,s,o=t.processedXData,u=t.processedYData,a=t.pointClass,f=o.length,l=t.cropStart||0,c,h=t.hasGroupedData,p,d=[],v;if(!i&&!h){var m=[];m.length=r.length;i=t.data=m}for(v=0;v<f;v++){c=l+v;if(!h){if(i[c]){p=i[c]}else if(r[c]!==e){i[c]=p=(new a).init(t,r[c],o[v])}d[v]=p}else{d[v]=(new a).init(t,[o[v]].concat(It(u[v])))}}if(i&&(f!==(s=i.length)||h)){for(v=0;v<s;v++){if(v===l&&!h){v+=f}if(i[v]){i[v].destroyElements();i[v].plotX=e}}}t.data=i;t.points=d},setStackedPoints:function(){if(!this.options.stacking||this.visible!==true&&this.chart.options.chart.ignoreHiddenSeries!==false){return}var e=this,t=e.processedXData,n=e.processedYData,r=[],i=n.length,s=e.options,o=s.threshold,a=s.stack,l=s.stacking,c=e.stackKey,h="-"+c,p=e.negStacks,d=e.yAxis,v=d.stacks,m=d.oldStacks,g,y,b,w,E,S,x;for(E=0;E<i;E++){S=t[E];x=n[E];g=p&&x<o;w=g?h:c;if(!v[w]){v[w]={}}if(!v[w][S]){if(m[w]&&m[w][S]){v[w][S]=m[w][S];v[w][S].total=null}else{v[w][S]=new qn(d,d.options.stackLabels,g,S,a,l)}}y=v[w][S];y.points[e.index]=[y.cum||0];if(l==="percent"){b=g?c:h;if(p&&v[b]&&v[b][S]){b=v[b][S];y.total=b.total=u(b.total,y.total)+f(x)||0}else{y.total=sn(y.total+(f(x)||0))}}else{y.total=sn(y.total+(x||0))}y.cum=(y.cum||0)+(x||0);y.points[e.index].push(y.cum);r[E]=y.cum}if(l==="percent"){d.usePercentage=true}this.stackedYData=r;d.oldStacks={}},setPercentStacks:function(){var e=this,t=e.stackKey,n=e.yAxis.stacks;hn([t,"-"+t],function(t){var r=e.xData.length,i,s,o,u;while(r--){i=e.xData[r];s=n[t]&&n[t][i];o=s&&s.points[e.index];if(o){u=s.total?100/s.total:0;o[0]=sn(o[0]*u);o[1]=sn(o[1]*u);e.stackedYData[r]=o[1]}}})},getExtremes:function(t){var n=this.xAxis,r=this.yAxis,i=this.processedXData,s,o=[],u=0,a=n.getExtremes(),f=a.min,l=a.max,c,h,p,d,v,m,g,y;t=t||this.stackedYData||this.processedYData;s=t.length;for(g=0;g<s;g++){v=i[g];m=t[g];c=m!==null&&m!==e&&(!r.isLog||m.length||m>0);h=this.getExtremesFromAll||this.cropped||(i[g+1]||v)>=f&&(i[g-1]||v)<=l;if(c&&h){y=m.length;if(y){while(y--){if(m[y]!==null){o[u++]=m[y]}}}else{o[u++]=m}}}this.dataMin=qt(p,Zt(o));this.dataMax=qt(d,en(o))},translate:function(){if(!this.processedXData){this.processData()}this.generatePoints();var t=this,n=t.options,r=n.stacking,i=t.xAxis,s=i.categories,o=t.yAxis,u=t.points,a=u.length,f=!!t.modifyValue,l,c=n.pointPlacement,h=c==="between"||Dt(c),p=n.threshold;for(l=0;l<a;l++){var d=u[l],v=d.x,m=d.y,g=d.low,y=r&&o.stacks[(t.negStacks&&m<p?"-":"")+t.stackKey],b,w;if(o.isLog&&m<=0){d.y=m=null}d.plotX=i.translate(v,0,0,0,1,c,this.type==="flags");if(r&&t.visible&&y&&y[v]){b=y[v];w=b.points[t.index];g=w[0];m=w[1];if(g===0){g=qt(p,o.min)}if(o.isLog&&g<=0){g=null}d.total=d.stackTotal=b.total;d.percentage=r==="percent"&&d.y/b.total*100;d.stackY=m;b.setOffset(t.pointXOffset||0,t.barW||0)}d.yBottom=jt(g)?o.translate(g,0,1,0,1):null;if(f){m=t.modifyValue(m,d)}d.plotY=typeof m==="number"&&m!==Infinity?o.translate(m,0,1,0,1):e;d.clientX=h?i.translate(v,0,0,0,1):d.plotX;d.negative=d.y<(p||0);d.category=s&&s[d.x]!==e?s[d.x]:d.x}t.getSegments()},setTooltipPoints:function(t){var n=this,r=[],i,o,f,l=n.xAxis,c=l&&l.getExtremes(),h=l?l.tooltipLen||l.len:n.chart.plotSizeX,p,d,v,m,g=[];if(n.options.enableMouseTracking===false){return}if(t){n.tooltipPoints=null}hn(n.segments||n.points,function(e){r=r.concat(e)});if(l&&l.reversed){r=r.reverse()}if(n.orderTooltipPoints){n.orderTooltipPoints(r)}i=r.length;for(m=0;m<i;m++){p=r[m];d=p.x;if(d>=c.min&&d<=c.max){v=r[m+1];o=f===e?0:f+1;f=r[m+1]?a(u(0,s((p.clientX+(v?v.wrappedClientX||v.clientX:h))/2)),h):h;while(o>=0&&o<=f){g[o++]=p}}}n.tooltipPoints=g},tooltipHeaderFormatter:function(e){var t=this,n=t.tooltipOptions,r=n.dateTimeLabelFormats,i=n.xDateFormat,s=t.xAxis,o=s&&s.options.type==="datetime",u=n.headerFormat,a=s&&s.closestPointRange,f;if(o&&!i){if(a){for(f in P){if(P[f]>=a){i=r[f];break}}}else{i=r.day}i=i||r.year}if(o&&i&&Dt(e.key)){u=u.replace("{point.key}","{point.key:"+i+"}")}return Jt(u,{point:e,series:t})},onMouseOver:function(){var e=this,t=e.chart,n=t.hoverSeries;if(n&&n!==e){n.onMouseOut()}if(e.options.events.mouseOver){yn(e,"mouseOver")}e.setState(Y);t.hoverSeries=e},onMouseOut:function(){var e=this,t=e.options,n=e.chart,r=n.tooltip,i=n.hoverPoint;if(i){i.onMouseOut()}if(e&&t.events.mouseOut){yn(e,"mouseOut")}if(r&&!t.stickyTracking&&(!r.shared||e.noSharedTooltip)){r.hide()}e.setState();n.hoverSeries=null},animate:function(e){var t=this,n=t.chart,r=n.renderer,i,s,o=t.options.animation,u=n.clipBox,a=n.inverted,f;if(o&&!Mt(o)){o=xn[t.type].animation}f="_sharedClip"+o.duration+o.easing;if(e){i=n[f];s=n[f+"m"];if(!i){n[f]=i=r.clipRect(Ct(u,{width:0}));n[f+"m"]=s=r.clipRect(-99,a?-n.plotLeft:-n.plotTop,99,a?n.chartWidth:n.chartHeight)}t.group.clip(i);t.markerGroup.clip(s);t.sharedClipKey=f}else{i=n[f];if(i){i.animate({width:n.plotSizeX},o);n[f+"m"].animate({width:n.plotSizeX+99},o)}t.animate=null;t.animationTimeout=setTimeout(function(){t.afterAnimate()},o.duration)}},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group;if(n&&this.options.clip!==false){n.clip(e.clipRect);this.markerGroup.clip()}setTimeout(function(){if(t&&e[t]){e[t]=e[t].destroy();e[t+"m"]=e[t+"m"].destroy()}},100)},drawPoints:function(){var t=this,n,r=t.points,o=t.chart,u,a,f,l,c,h,p,d,v=t.options,m=v.marker,g,y,b,w=t.markerGroup;if(m.enabled||t._hasPointMarkers){f=r.length;while(f--){l=r[f];u=s(l.plotX);a=l.plotY;d=l.graphic;g=l.marker||{};y=m.enabled&&g.enabled===e||g.enabled;b=o.isInsidePlot(i(u),a,o.inverted);if(y&&a!==e&&!isNaN(a)&&l.y!==null){n=l.pointAttr[l.selected?Z:G];c=n.r;h=qt(g.symbol,t.symbol);p=h.indexOf("url")===0;if(d){d.attr({visibility:b?S?"inherit":W:U}).animate(Ct({x:u-c,y:a-c},d.symbolName?{width:2*c,height:2*c}:{}))}else if(b&&(c>0||p)){l.graphic=d=o.renderer.symbol(h,u-c,a-c,2*c,2*c).attr(n).add(w)}}else if(d){l.graphic=d.destroy()}}}},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={};e=e||{};t=t||{};n=n||{};r=r||{};for(s in i){o=i[s];u[s]=qt(e[o],t[s],n[s],r[s])}return u},getAttribs:function(){var e=this,t=e.options,n=xn[e.type].marker?t.marker:t,r=n.states,i=r[Y],s,o=e.color,u={stroke:o,fill:o},a=e.points||[],f,l,c=[],h,p=e.pointAttrToOptions,d,v=t.negativeColor,m=n.lineColor,g=n.fillColor,y,b;if(t.marker){i.radius=i.radius||n.radius+2;i.lineWidth=i.lineWidth||n.lineWidth+1}else{i.color=i.color||Mn(i.color||o).brighten(i.brightness).get()}c[G]=e.convertAttribs(n,u);hn([Y,Z],function(t){c[t]=e.convertAttribs(r[t],c[G])});e.pointAttr=c;f=a.length;while(f--){l=a[f];n=l.options&&l.options.marker||l.options;if(n&&n.enabled===false){n.radius=0}if(l.negative&&v){l.color=l.fillColor=v}d=t.colorByPoint||l.color;if(l.options){for(b in p){if(jt(n[p[b]])){d=true}}}if(d){n=n||{};h=[];r=n.states||{};s=r[Y]=r[Y]||{};if(!t.marker){s.color=Mn(s.color||l.color).brighten(s.brightness||i.brightness).get()}y={color:l.color};if(!g){y.fillColor=l.color}if(!m){y.lineColor=l.color}h[G]=e.convertAttribs(Ct(y,n),c[G]);h[Y]=e.convertAttribs(r[Y],c[Y],h[G]);h[Z]=e.convertAttribs(r[Z],c[Z],h[G])}else{h=c}l.pointAttr=h}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(d),r,i,s=e.data||[],o,u,a;yn(e,"destroy");gn(e);hn(e.axisTypes||[],function(t){a=e[t];if(a){Bt(a.series,e);a.isDirty=a.forceRedraw=true}});if(e.legendItem){e.chart.legend.destroyItem(e)}i=s.length;while(i--){o=s[i];if(o&&o.destroy){o.destroy()}}e.points=null;clearTimeout(e.animationTimeout);hn(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(t){if(e[t]){r=n&&t==="group"?"hide":"destroy";e[t][r]()}});if(t.hoverSeries===e){t.hoverSeries=null}Bt(t.series,e);for(u in e){delete e[u]}},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;hn(e,function(i,s){var o=i.plotX,u=i.plotY,a;if(t.getPointSpline){n.push.apply(n,t.getPointSpline(e,i,s))}else{n.push(s?J:$);if(r&&s){a=e[s-1];if(r==="right"){n.push(a.plotX,u)}else if(r==="center"){n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u)}else{n.push(o,a.plotY)}}n.push(i.plotX,i.plotY)}});return n},getGraphPath:function(){var e=this,t=[],n,r=[];hn(e.segments,function(i){n=e.getSegmentPath(i);if(i.length>1){t=t.concat(n)}else{r.push(i[0])}});e.singlePoints=r;e.graphPath=t;return t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color]],r=t.lineWidth,i=t.dashStyle,s=t.linecap!=="square",o=this.getGraphPath(),u=t.negativeColor;if(u){n.push(["graphNeg",u])}hn(n,function(n,u){var a=n[0],f=e[a],l;if(f){En(f);f.animate({d:o})}else if(r&&o.length){l={stroke:n[1],"stroke-width":r,zIndex:1};if(i){l.dashstyle=i}else if(s){l["stroke-linecap"]=l["stroke-linejoin"]="round"}e[a]=e.chart.renderer.path(o).attr(l).add(e.group).shadow(!u&&t.shadow)}})},clipNeg:function(){var e=this.options,t=this.chart,n=t.renderer,r=e.negativeColor||e.negativeFillColor,s,o,a,f=this.graph,l=this.area,c=this.posClip,h=this.negClip,p=t.chartWidth,d=t.chartHeight,v=u(p,d),m=this.yAxis,g,y;if(r&&(f||l)){s=i(m.toPixels(e.threshold||0,true));if(s<0){v-=s}g={x:0,y:0,width:v,height:s};y={x:0,y:s,width:v,height:v};if(t.inverted){g.height=y.y=t.plotWidth-s;if(n.isVML){g={x:t.plotWidth-s-t.plotLeft,y:0,width:p,height:d};y={x:s+t.plotLeft-p,y:0,width:t.plotLeft+s,height:p}}}if(m.reversed){o=y;a=g}else{o=g;a=y}if(c){c.animate(o);h.animate(a)}else{this.posClip=c=n.clipRect(o);this.negClip=h=n.clipRect(a);if(f&&this.graphNeg){f.clip(c);this.graphNeg.clip(h)}if(l){l.clip(c);this.areaNeg.clip(h)}}}},invertGroups:function(){function n(){var t={width:e.yAxis.len,height:e.xAxis.len};hn(["group","markerGroup"],function(n){if(e[n]){e[n].attr(t).invert()}})}var e=this,t=e.chart;if(!e.xAxis){return}mn(t,"resize",n);mn(e,"destroy",function(){gn(t,"resize",n)});n();e.invertGroups=n},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s;if(o){this[e]=s=this.chart.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i)}s[o?"attr":"animate"](this.getPlotBox());return s},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var e=this,t=e.chart,n,r=e.options,i=r.animation,s=i&&!!e.animate&&t.renderer.isSVG,o=e.visible?W:U,u=r.zIndex,a=e.hasRendered,f=t.seriesGroup;n=e.plotGroup("group","series",o,u,f);e.markerGroup=e.plotGroup("markerGroup","markers",o,u,f);if(s){e.animate(true)}e.getAttribs();n.inverted=e.isCartesian?t.inverted:false;if(e.drawGraph){e.drawGraph();e.clipNeg()}if(e.drawDataLabels){e.drawDataLabels()}if(e.visible){e.drawPoints()}if(e.options.enableMouseTracking!==false){e.drawTracker()}if(t.inverted){e.invertGroups()}if(r.clip!==false&&!e.sharedClipKey&&!a){n.clip(t.clipRect)}if(s){e.animate()}else if(!a){e.afterAnimate()}e.isDirty=e.isDirtyData=false;e.hasRendered=true},redraw:function(){var e=this,t=e.chart,n=e.isDirtyData,r=e.group,i=e.xAxis,s=e.yAxis;if(r){if(t.inverted){r.attr({width:t.plotWidth,height:t.plotHeight})}r.animate({translateX:qt(i&&i.left,t.plotLeft),translateY:qt(s&&s.top,t.plotTop)})}e.translate();e.setTooltipPoints(true);e.render();if(n){yn(e,"updatedData")}},setState:function(e){var t=this,n=t.options,r=t.graph,i=t.graphNeg,s=n.states,o=n.lineWidth,u;e=e||G;if(t.state!==e){t.state=e;if(s[e]&&s[e].enabled===false){return}if(e){o=s[e].lineWidth||o+1}if(r&&!r.dashstyle){u={"stroke-width":o};r.attr(u);if(i){i.attr(u)}}}},setVisible:function(t,n){var r=this,i=r.chart,s=r.legendItem,o,u=i.options.chart.ignoreHiddenSeries,a=r.visible;r.visible=t=r.userOptions.visible=t===e?!a:t;o=t?"show":"hide";hn(["group","dataLabelsGroup","markerGroup","tracker"],function(e){if(r[e]){r[e][o]()}});if(i.hoverSeries===r){r.onMouseOut()}if(s){i.legend.colorizeItem(r,t)}r.isDirty=true;if(r.options.stacking){hn(i.series,function(e){if(e.options.stacking&&e.visible){e.isDirty=true}})}hn(r.linkedSeries,function(e){e.setVisible(t,false)});if(u){i.isDirtyBox=true}if(n!==false){i.redraw()}yn(r,o)},show:function(){this.setVisible(true)},hide:function(){this.setVisible(false)},select:function(t){var n=this;n.selected=t=t===e?!n.selected:t;if(n.checkbox){n.checkbox.checked=t}yn(n,t?"select":"unselect")},drawTracker:Xn.drawTrackerGraph};Ct(Kn.prototype,{addSeries:function(e,t,n){var r,i=this;if(e){t=qt(t,true);yn(i,"addSeries",{options:e},function(){r=i.initSeries(e);i.isDirtyLegend=true;i.linkSeries();if(t){i.redraw(n)}})}return r},addAxis:function(e,t,n,r){var i=t?"xAxis":"yAxis",s=this.options,o;o=new Un(this,kt(e,{index:this[i].length,isX:t}));s[i]=It(s[i]||{});s[i].push(e);if(qt(n,true)){this.redraw(r)}},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv;var i=n.loading;if(!r){t.loadingDiv=r=Ut(I,{className:z+"loading"},Ct(i.style,{zIndex:10,display:V}),t.container);t.loadingSpan=Ut("span",null,i.labelStyle,r)}t.loadingSpan.innerHTML=e||n.lang.loading;if(!t.loadingShown){Rt(r,{opacity:0,display:"",left:t.plotLeft+X,top:t.plotTop+X,width:t.plotWidth+X,height:t.plotHeight+X});wn(r,{opacity:i.style.opacity},{duration:i.showDuration||0});t.loadingShown=true}},hideLoading:function(){var e=this.options,t=this.loadingDiv;if(t){wn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){Rt(t,{display:V})}})}this.loadingShown=false}});Ct(Gn.prototype,{update:function(e,t,n){var r=this,i=r.series,s=r.graphic,o,u=i.data,a=i.chart,f=i.options;t=qt(t,true);r.firePointEvent("update",{options:e},function(){r.applyOptions(e);if(Mt(e)){i.getAttribs();if(s){if(e&&e.marker&&e.marker.symbol){r.graphic=s.destroy()}else{s.attr(r.pointAttr[r.state||""])}}if(e&&e.dataLabels&&r.dataLabel){r.dataLabel=r.dataLabel.destroy()}}o=cn(r,u);i.updateParallelArrays(r,o);f.data[o]=r.options;i.isDirty=i.isDirtyData=true;if(!i.fixedBox&&i.hasCartesianSeries){a.isDirtyBox=true}if(f.legendType==="point"){a.legend.destroyItem(r)}if(t){a.redraw(n)}})},remove:function(e,t){var n=this,r=n.series,i=r.points,s=r.chart,o,u=r.data;on(t,s);e=qt(e,true);n.firePointEvent("remove",null,function(){o=cn(n,u);if(u.length===i.length){i.splice(o,1)}u.splice(o,1);r.options.data.splice(o,1);r.updateParallelArrays(n,"splice",o,1);n.destroy();r.isDirty=true;r.isDirtyData=true;if(e){s.redraw()}})}});Ct(Yn.prototype,{addPoint:function(e,t,n,r){var i=this,s=i.options,o=i.data,u=i.graph,a=i.area,f=i.chart,l=i.xAxis&&i.xAxis.names,c=u&&u.shift||0,h=s.data,p,d,v=i.xData,m,g;on(r,f);if(n){hn([u,a,i.graphNeg,i.areaNeg],function(e){if(e){e.shift=c+1}})}if(a){a.isArea=true}t=qt(t,true);p={series:i};i.pointClass.prototype.applyOptions.apply(p,[e]);m=p.x;g=v.length;if(i.requireSorting&&m<v[g-1]){d=true;while(g&&v[g-1]>m){g--}}i.updateParallelArrays(p,"splice",g,0,0);i.updateParallelArrays(p,g);if(l){l[m]=p.name}h.splice(g,0,e);if(d){i.data.splice(g,0,null);i.processData()}if(s.legendType==="point"){i.generatePoints()}if(n){if(o[0]&&o[0].remove){o[0].remove(false)}else{o.shift();i.updateParallelArrays(p,"shift");h.shift()}}i.isDirty=true;i.isDirtyData=true;if(t){i.getAttribs();f.redraw()}},remove:function(e,t){var n=this,r=n.chart;e=qt(e,true);if(!n.isRemoving){n.isRemoving=true;yn(n,"remove",null,function(){n.destroy();r.isDirtyLegend=r.isDirtyBox=true;r.linkSeries();if(e){r.redraw(t)}})}n.isRemoving=false},update:function(t,n){var r=this.chart,i=this.userOptions,s=this.type,o=Nt[s].prototype,u;t=kt(i,{animation:false,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t);this.remove(false);for(u in o){if(o.hasOwnProperty(u)){this[u]=e}}Ct(this,Nt[t.type||s].prototype);this.init(r,t);if(qt(n,true)){r.redraw(false)}}});Ct(Un.prototype,{update:function(t,n){var r=this.chart;t=r.options[this.coll][this.options.index]=kt(this.userOptions,t);this.destroy(true);this._addedPlotLB=this.userMin=this.userMax=e;this.init(r,Ct(t,{events:e}));r.isDirtyBox=true;if(qt(n,true)){r.redraw()}},remove:function(e){var t=this.chart,n=this.coll;hn(this.series,function(e){e.remove(false)});Bt(t.axes,this);Bt(t[n],this);t.options[n].splice(this.options.index,1);hn(t[n],function(e,t){e.options.index=t});this.destroy();t.isDirtyBox=true;if(qt(e,true)){t.redraw()}},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var Zn=zt(Yn);Nt.line=Zn;xn.area=kt(Tn,{threshold:0});var er=zt(Yn,{type:"area",getSegments:function(){var e=[],t=[],n=[],r=this.xAxis,i=this.yAxis,s=i.stacks[this.stackKey],o={},u,a,f=this.points,l=this.options.connectNulls,c,h,p;if(this.options.stacking&&!this.cropped){for(h=0;h<f.length;h++){o[f[h].x]=f[h]}for(p in s){if(s[p].total!==null){n.push(+p)}}n.sort(function(e,t){return e-t});hn(n,function(e){if(l&&(!o[e]||o[e].y===null)){return}else if(o[e]){t.push(o[e])}else{u=r.translate(e);c=s[e].percent?s[e].total?s[e].cum*100/s[e].total:0:s[e].cum;a=i.toPixels(c,true);t.push({y:null,plotX:u,clientX:u,plotY:a,yBottom:a,onMouseOver:H})}});if(t.length){e.push(t)}}else{Yn.prototype.getSegments.call(this);e=this.segments}this.segments=e},getSegmentPath:function(e){var t=Yn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options,s=t.length,o=this.yAxis.getThreshold(i.threshold),u;if(s===3){n.push(J,t[1],t[2])}if(i.stacking&&!this.closedStacks){for(r=e.length-1;r>=0;r--){u=qt(e[r].yBottom,o);if(r<e.length-1&&i.step){n.push(e[r+1].plotX,u)}n.push(e[r].plotX,u)}}else{this.closeSegment(n,e,o)}this.areaPath=this.areaPath.concat(n);return t},closeSegment:function(e,t,n){e.push(J,t[t.length-1].plotX,n,J,t[0].plotX,n)},drawGraph:function(){this.areaPath=[];Yn.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=n.negativeColor,i=n.negativeFillColor,s=[["area",this.color,n.fillColor]];if(r||i){s.push(["areaNeg",r,i])}hn(s,function(r){var i=r[0],s=e[i];if(s){s.animate({d:t})}else{e[i]=e.chart.renderer.path(t).attr({fill:qt(r[2],Mn(r[1]).setOpacity(qt(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)}})},drawLegendSymbol:Jn.drawRectangle});Nt.area=er;xn.spline=kt(Tn);var tr=zt(Yn,{type:"spline",getPointSpline:function(e,t,n){var r=1.5,i=r+1,s=t.plotX,o=t.plotY,f=e[n-1],l=e[n+1],c,h,p,d,v;if(f&&l){var m=f.plotX,g=f.plotY,y=l.plotX,b=l.plotY,w;c=(r*s+m)/i;h=(r*o+g)/i;p=(r*s+y)/i;d=(r*o+b)/i;w=(d-h)*(p-s)/(p-c)+o-d;h+=w;d+=w;if(h>g&&h>o){h=u(g,o);d=2*o-h}else if(h<g&&h<o){h=a(g,o);d=2*o-h}if(d>b&&d>o){d=u(b,o);h=2*o-d}else if(d<b&&d<o){d=a(b,o);h=2*o-d}t.rightContX=p;t.rightContY=d}if(!n){v=[$,s,o]}else{v=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,c||s,h||o,s,o];f.rightContX=f.rightContY=null}return v}});Nt.spline=tr;xn.areaspline=kt(xn.area);var nr=er.prototype,rr=zt(tr,{type:"areaspline",closedStacks:true,getSegmentPath:nr.getSegmentPath,closeSegment:nr.closeSegment,drawGraph:nr.drawGraph,drawLegendSymbol:Jn.drawRectangle});Nt.areaspline=rr;xn.column=kt(Tn,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:false},select:{color:"#C0C0C0",borderColor:"#000000",shadow:false}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:false,threshold:0});var ir=zt(Yn,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:true,init:function(){Yn.prototype.init.apply(this,arguments);var e=this,t=e.chart;if(t.hasRendered){hn(t.series,function(t){if(t.type===e.type){t.isDirty=true}})}},getColumnMetrics:function(){var t=this,n=t.options,r=t.xAxis,i=t.yAxis,s=r.reversed,o,u={},l,c=0;if(n.grouping===false){c=1}else{hn(t.chart.series,function(n){var r=n.options,s=n.yAxis;if(n.type===t.type&&n.visible&&i.len===s.len&&i.pos===s.pos){if(r.stacking){o=n.stackKey;if(u[o]===e){u[o]=c++}l=u[o]}else if(r.grouping!==false){l=c++}n.columnIndex=l}})}var h=a(f(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||1),r.len),p=h*n.groupPadding,d=h-2*p,v=d/c,m=n.pointWidth,g=jt(m)?(v-m)/2:v*n.pointPadding,y=qt(m,v-2*g),b=(s?c-(t.columnIndex||0):t.columnIndex)||0,w=g+(p+b*v-h/2)*(s?-1:1);return t.columnMetrics={width:y,offset:w}},translate:function(){var e=this,t=e.chart,n=e.options,r=n.borderWidth,s=e.yAxis,l=n.threshold,c=e.translatedThreshold=s.getThreshold(l),h=qt(n.minPointLength,5),p=e.getColumnMetrics(),d=p.width,v=e.barW=o(u(d,1+2*r)),m=e.pointXOffset=p.offset,g=-(r%2?.5:0),y=r%2?.5:1;if(t.renderer.isVML&&t.inverted){y+=1}Yn.prototype.translate.apply(e);hn(e.points,function(e){var t=qt(e.yBottom,c),n=a(u(-999-t,e.plotY),s.len+999+t),r=e.plotX+m,o=v,l=a(n,t),p,b,w,E,S=u(n,t)-l;if(f(S)<h){if(h){S=h;l=i(f(l-c)>h?t-h:c-(s.translate(e.y,0,1,0,1)<=c?h:0))}}e.barX=r;e.pointWidth=d;E=f(r)<.5;p=i(r+o)+g;r=i(r)+g;o=p-r;w=f(l)<.5;b=i(l+S)+y;l=i(l)+y;S=b-l;if(E){r+=1;o-=1}if(w){l-=1;S+=1}e.shapeType="rect";e.shapeArgs={x:r,y:l,width:o,height:S}})},getSymbol:H,drawLegendSymbol:Jn.drawRectangle,drawGraph:H,drawPoints:function(){var t=this,n=this.chart,r=t.options,i=n.renderer,s=n.options.animationLimit||250,o;hn(t.points,function(u){var a=u.plotY,f=u.graphic;if(a!==e&&!isNaN(a)&&u.y!==null){o=u.shapeArgs;if(f){En(f);f[n.pointCount<s?"animate":"attr"](kt(o))}else{u.graphic=f=i[u.shapeType](o).attr(u.pointAttr[u.selected?Z:G]).add(t.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius)}}else if(f){u.graphic=f.destroy()}})},drawTracker:Xn.drawTrackerPoint,animate:function(e){var t=this,n=this.yAxis,r=t.options,i=this.chart.inverted,s={},o;if(S){if(e){s.scaleY=.001;o=a(n.pos+n.len,u(n.pos,n.toPixels(r.threshold)));if(i){s.translateX=o-n.len}else{s.translateY=o}t.group.attr(s)}else{s.scaleY=1;s[i?"translateX":"translateY"]=n.pos;t.group.animate(s,t.options.animation);t.animate=null}}},remove:function(){var e=this,t=e.chart;if(t.hasRendered){hn(t.series,function(t){if(t.type===e.type){t.isDirty=true}})}Yn.prototype.remove.apply(e,arguments)}});Nt.column=ir;xn.bar=kt(xn.column);var sr=zt(ir,{type:"bar",inverted:true});Nt.bar=sr;xn.scatter=kt(Tn,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:true},stickyTracking:false});var or=zt(Yn,{type:"scatter",sorted:false,requireSorting:false,noSharedTooltip:true,trackerGroups:["markerGroup"],takeOrdinalPosition:false,drawTracker:Xn.drawTrackerPoint,drawGraph:function(){if(this.options.lineWidth){Yn.prototype.drawGraph.call(this)}},setTooltipPoints:H});Nt.scatter=or;xn.pie=kt(Tn,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:false,colorByPoint:true,dataLabels:{distance:30,enabled:true,formatter:function(){return this.point.name}},ignoreHiddenPoint:true,legendType:"point",marker:null,size:null,showInLegend:false,slicedOffset:10,states:{hover:{brightness:.1,shadow:false}},stickyTracking:false,tooltip:{followPointer:true}});var ur=zt(Gn,{init:function(){Gn.prototype.init.apply(this,arguments);var e=this,t;if(e.y<0){e.y=null}Ct(e,{visible:e.visible!==false,name:qt(e.name,"Slice")});t=function(t){e.slice(t.type==="select")};mn(e,"select",t);mn(e,"unselect",t);return e},setVisible:function(t){var n=this,r=n.series,i=r.chart,s;n.visible=n.options.visible=t=t===e?!n.visible:t;r.options.data[cn(n,r.data)]=n.options;s=t?"show":"hide";hn(["graphic","dataLabel","connector","shadowGroup"],function(e){if(n[e]){n[e][s]()}});if(n.legendItem){i.legend.colorizeItem(n,t)}if(!r.isDirty&&r.options.ignoreHiddenPoint){r.isDirty=true;i.redraw()}},slice:function(e,t,n){var r=this,i=r.series,s=i.chart,o;on(n,s);t=qt(t,true);r.sliced=r.options.sliced=e=jt(e)?e:!r.sliced;i.options.data[cn(r,i.data)]=r.options;o=e?r.slicedTranslation:{translateX:0,translateY:0};r.graphic.animate(o);if(r.shadowGroup){r.shadowGroup.animate(o)}}});var ar={type:"pie",isCartesian:false,pointClass:ur,requireSorting:false,noSharedTooltip:true,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:H,animate:function(e){var t=this,n=t.points,r=t.startAngleRad;if(!e){hn(n,function(e){var n=e.graphic,i=e.shapeArgs;if(n){n.attr({r:t.center[3]/2,start:r,end:r});n.animate({r:i.r,start:i.start,end:i.end},t.options.animation)}});t.animate=null}},setData:function(e,t){Yn.prototype.setData.call(this,e,false);this.processData();this.generatePoints();if(qt(t,true)){this.chart.redraw()}},generatePoints:function(){var e,t=0,n,r,i,s=this.options.ignoreHiddenPoint;Yn.prototype.generatePoints.call(this);n=this.points;r=n.length;for(e=0;e<r;e++){i=n[e];t+=s&&!i.visible?0:i.y}this.total=t;for(e=0;e<r;e++){i=n[e];i.percentage=t>0?i.y/t*100:0;i.total=t}},translate:function(e){this.generatePoints();var t=this,n=0,s=1e3,o=t.options,u=o.slicedOffset,f=u+o.borderWidth,p,d,v,m=o.startAngle||0,g=t.startAngleRad=h/180*(m-90),y=t.endAngleRad=h/180*((o.endAngle||m+360)-90),b=y-g,w=t.points,E,S,x=o.dataLabels.distance,T=o.ignoreHiddenPoint,N,C=w.length,k;if(!e){t.center=e=t.getCenter()}t.getX=function(t,n){v=r.asin((t-e[1])/(e[2]/2+x));return e[0]+(n?-1:1)*l(v)*(e[2]/2+x)};for(N=0;N<C;N++){k=w[N];p=g+n*b;if(!T||k.visible){n+=k.percentage/100}d=g+n*b;k.shapeType="arc";k.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:i(p*s)/s,end:i(d*s)/s};v=(d+p)/2;if(v>.75*b){v-=2*h}k.slicedTranslation={translateX:i(l(v)*u),translateY:i(c(v)*u)};E=l(v)*e[2]/2;S=c(v)*e[2]/2;k.tooltipPos=[e[0]+E*.7,e[1]+S*.7];k.half=v<-h/2||v>h/2?1:0;k.angle=v;f=a(f,x/2);k.labelPos=[e[0]+E+l(v)*x,e[1]+S+c(v)*x,e[0]+E+l(v)*f,e[1]+S+c(v)*f,e[0]+E,e[1]+S,x<0?"center":k.half?"right":"left",v]}},setTooltipPoints:H,drawGraph:null,drawPoints:function(){var e=this,t=e.chart,n=t.renderer,r,i,s=e.options.shadow,o,u;if(s&&!e.shadowGroup){e.shadowGroup=n.g("shadow").add(e.group)}hn(e.points,function(t){i=t.graphic;u=t.shapeArgs;o=t.shadowGroup;if(s&&!o){o=t.shadowGroup=n.g("shadow").add(e.shadowGroup)}r=t.sliced?t.slicedTranslation:{translateX:0,translateY:0};if(o){o.attr(r)}if(i){i.animate(Ct(u,r))}else{t.graphic=i=n.arc(u).setRadialReference(e.center).attr(t.pointAttr[t.selected?Z:G]).attr({"stroke-linejoin":"round"}).attr(r).add(e.group).shadow(s,o)}if(t.visible!==undefined){t.setVisible(t.visible)}})},sortByAngle:function(e,t){e.sort(function(e,n){return e.angle!==undefined&&(n.angle-e.angle)*t})},drawTracker:Xn.drawTrackerPoint,drawLegendSymbol:Jn.drawRectangle,getCenter:Qn.getCenter,getSymbol:H};ar=zt(Yn,ar);Nt.pie=ar;Yn.prototype.drawDataLabels=function(){var t=this,n=t.options,r=n.cursor,i=n.dataLabels,s=t.points,o,u,a,f;if(i.enabled||t._hasPointLabels){if(t.dlProcessOptions){t.dlProcessOptions(i)}f=t.plotGroup("dataLabelsGroup","data-labels",t.visible?W:U,i.zIndex||6);u=i;hn(s,function(n){var s,l=n.dataLabel,c,h,p,d,v=n.connector,m=true;o=n.options&&n.options.dataLabels;s=qt(o&&o.enabled,u.enabled);if(l&&!s){n.dataLabel=l.destroy()}else if(s){i=kt(u,o);d=i.rotation;c=n.getLabelConfig();a=i.format?Jt(i.format,c):i.formatter.call(c,i);i.style.color=qt(i.color,i.style.color,t.color,"black");if(l){if(jt(a)){l.attr({text:a});m=false}else{n.dataLabel=l=l.destroy();if(v){n.connector=v.destroy()}}}else if(jt(a)){h={fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth,r:i.borderRadius||0,rotation:d,padding:i.padding,zIndex:1};for(p in h){if(h[p]===e){delete h[p]}}l=n.dataLabel=t.chart.renderer[d?"text":"label"](a,0,-999,null,null,null,i.useHTML).attr(h).css(Ct(i.style,r&&{cursor:r})).add(f).shadow(i.shadow)}if(l){t.alignDataLabel(n,l,i,null,m)}}})}};Yn.prototype.alignDataLabel=function(e,t,n,r,s){var o=this.chart,u=o.inverted,a=qt(e.plotX,-999),f=qt(e.plotY,-999),l=t.getBBox(),c=this.visible&&(e.series.forceDL||o.isInsidePlot(e.plotX,e.plotY,u)),h;if(c){r=Ct({x:u?o.plotWidth-f:a,y:i(u?o.plotHeight-a:f),width:0,height:0},r);Ct(n,{width:l.width,height:l.height});if(n.rotation){h={align:n.align,x:r.x+n.x+r.width/2,y:r.y+n.y+r.height/2};t[s?"attr":"animate"](h)}else{t.align(n,null,r);h=t.alignAttr;if(qt(n.overflow,"justify")==="justify"){this.justifyDataLabel(t,n,h,l,r,s)}else if(qt(n.crop,true)){c=o.isInsidePlot(h.x,h.y)&&o.isInsidePlot(h.x+l.width,h.y+l.height)}}}if(!c){t.attr({y:-999});t.placed=false}};Yn.prototype.justifyDataLabel=function(e,t,n,r,i,s){var o=this.chart,u=t.align,a=t.verticalAlign,f,l;f=n.x;if(f<0){if(u==="right"){t.align="left"}else{t.x=-f}l=true}f=n.x+r.width;if(f>o.plotWidth){if(u==="left"){t.align="right"}else{t.x=o.plotWidth-f}l=true}f=n.y;if(f<0){if(a==="bottom"){t.verticalAlign="top"}else{t.y=-f}l=true}f=n.y+r.height;if(f>o.plotHeight){if(a==="top"){t.verticalAlign="bottom"}else{t.y=o.plotHeight-f}l=true}if(l){e.placed=!s;e.align(t,null,i)}};if(Nt.pie){Nt.pie.prototype.drawDataLabels=function(){var e=this,t=e.data,n,r=e.chart,s=e.options.dataLabels,o=qt(s.connectorPadding,10),a=qt(s.connectorWidth,1),l=r.plotWidth,c=r.plotHeight,h,p,d=qt(s.softConnector,true),v=s.distance,m=e.center,g=m[2]/2,y=m[1],b=v>0,w,E,S,x,T=[[],[]],N,C,k,L,A,O,M=[0,0,0,0],_=function(e,t){return t.y-e.y};if(!e.visible||!s.enabled&&!e._hasPointLabels){return}Yn.prototype.drawDataLabels.apply(e);hn(t,function(e){if(e.dataLabel&&e.visible){T[e.half].push(e)}});A=0;while(!x&&t[A]){x=t[A]&&t[A].dataLabel&&(t[A].dataLabel.getBBox().height||21);A++}A=2;while(A--){var D=[],P,H=[],B=T[A],j,F=B.length,I;e.sortByAngle(B,A-.5);if(v>0){for(j=y-g-v;j<=y+g+v;j+=x){D.push(j)}P=D.length;if(F>P){L=[].concat(B);L.sort(_);O=F;while(O--){L[O].rank=O}O=F;while(O--){if(B[O].rank>=P){B.splice(O,1)}}F=B.length}for(O=0;O<F;O++){n=B[O];S=n.labelPos;var q=9999,R,z;for(z=0;z<P;z++){R=f(D[z]-S[1]);if(R<q){q=R;I=z}}if(I<O&&D[O]!==null){I=O}else if(P<F-O+I&&D[O]!==null){I=P-F+O;while(D[I]===null){I++}}else{while(D[I]===null){I++}}H.push({i:I,y:D[I]});D[I]=null}H.sort(_)}for(O=0;O<F;O++){var X,V;n=B[O];S=n.labelPos;w=n.dataLabel;k=n.visible===false?U:W;V=S[1];if(v>0){X=H.pop();I=X.i;C=X.y;if(V>C&&D[I+1]!==null||V<C&&D[I-1]!==null){C=V}}else{C=V}N=s.justify?m[0]+(A?-1:1)*(g+v):e.getX(I===0||I===D.length-1?V:C,A);w._attr={visibility:k,align:S[6]};w._pos={x:N+s.x+({left:o,right:-o}[S[6]]||0),y:C+s.y-10};w.connX=N;w.connY=C;if(this.options.size===null){E=w.width;if(N-E<o){M[3]=u(i(E-N+o),M[3])}else if(N+E>l-o){M[1]=u(i(N+E-l+o),M[1])}if(C-x/2<0){M[0]=u(i(-C+x/2),M[0])}else if(C+x/2>c){M[2]=u(i(C+x/2-c),M[2])}}}}if(en(M)===0||this.verifyDataLabelOverflow(M)){this.placeDataLabels();if(b&&a){hn(this.points,function(t){h=t.connector;S=t.labelPos;w=t.dataLabel;if(w&&w._pos){k=w._attr.visibility;N=w.connX;C=w.connY;p=d?[$,N+(S[6]==="left"?5:-5),C,"C",N,C,2*S[2]-S[4],2*S[3]-S[5],S[2],S[3],J,S[4],S[5]]:[$,N+(S[6]==="left"?5:-5),C,J,S[2],S[3],J,S[4],S[5]];if(h){h.animate({d:p});h.attr("visibility",k)}else{t.connector=h=e.chart.renderer.path(p).attr({"stroke-width":a,stroke:s.connectorColor||t.color||"#606060",visibility:k}).add(e.group)}}else if(h){t.connector=h.destroy()}})}}};Nt.pie.prototype.placeDataLabels=function(){hn(this.points,function(e){var t=e.dataLabel,n;if(t){n=t._pos;if(n){t.attr(t._attr);t[t.moved?"animate":"attr"](n);t.moved=true}else if(t){t.attr({y:-999})}}})};Nt.pie.prototype.alignDataLabel=H;Nt.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,n=this.options,r=n.center,i=n.minSize||80,s=i,o;if(r[0]!==null){s=u(t[2]-u(e[1],e[3]),i)}else{s=u(t[2]-e[1]-e[3],i);t[0]+=(e[3]-e[1])/2}if(r[1]!==null){s=u(a(s,t[2]-u(e[0],e[2])),i)}else{s=u(a(s,t[2]-e[0]-e[2]),i);t[1]+=(e[0]-e[2])/2}if(s<t[2]){t[2]=s;this.translate(t);hn(this.points,function(e){if(e.dataLabel){e.dataLabel._pos=null}});if(this.drawDataLabels){this.drawDataLabels()}}else{o=true}return o}}if(Nt.column){Nt.column.prototype.alignDataLabel=function(e,t,n,r,i){var s=this.chart,o=s.inverted,u=e.dlBox||e.shapeArgs,a=e.below||e.plotY>qt(this.translatedThreshold,s.plotSizeY),f=qt(n.inside,!!this.options.stacking);if(u){r=kt(u);if(o){r={x:s.plotWidth-r.y-r.height,y:s.plotHeight-r.x-r.width,width:r.height,height:r.width}}if(!f){if(o){r.x+=a?0:r.width;r.width=0}else{r.y+=a?r.height:0;r.height=0}}}n.align=qt(n.align,!o||f?"center":a?"right":"left");n.verticalAlign=qt(n.verticalAlign,o||f?"middle":a?"top":"bottom");Yn.prototype.alignDataLabel.call(this,e,t,n,r,i)}}Vt(Yn.prototype,"init",function(e){var t=this,n;e.apply(this,Array.prototype.slice.call(arguments,1));n=t.xAxis;if(n&&n.options.ordinal){mn(t,"updatedData",function(){delete n.ordinalIndex})}});Vt(Un.prototype,"getTimeTicks",function(t,n,r,i,o,u,a,f){var l=0,c=0,h,p={},d,v,m,g,y=[],b=-Number.MAX_VALUE,w=this.options.tickPixelInterval;if(!this.options.ordinal||!u||u.length<3||r===e){return t.call(this,n,r,i,o)}m=u.length;for(;c<m;c++){g=c&&u[c-1]>i;if(u[c]<r){l=c}if(c===m-1||u[c+1]-u[c]>a*5||g){if(u[c]>b){h=t.call(this,n,u[l],u[c],o);while(h.length&&h[0]<=b){h.shift()}if(h.length){b=h[h.length-1]}y=y.concat(h)}l=c+1}if(g){break}}v=h.info;if(f&&v.unitRange<=P[rt]){c=y.length-1;for(l=1;l<c;l++){if((new Date(y[l]-pt))[gt]()!==(new Date(y[l-1]-pt))[gt]()){p[y[l]]=it;d=true}}if(d){p[y[0]]=it}v.higherRanks=p}y.info=v;if(f&&jt(w)){var E=y.length,S=E,x,T,N=[],C,k,L,A=[];while(S--){T=this.translate(y[S]);if(C){A[S]=C-T}N[S]=C=T}A.sort();k=A[s(A.length/2)];if(k<w*.6){k=null}S=y[E-1]>i?E-1:E;C=undefined;while(S--){T=N[S];L=C-T;if(C&&L<w*.8&&(k===null||L<k*.8)){if(p[y[S]]&&!p[y[S+1]]){x=S+1;C=T}else{x=S}y.splice(x,1)}else{C=T}}}return y});Ct(Un.prototype,{beforeSetTickPositions:function(){var t=this,n,r=[],i=false,s,o=t.getExtremes(),f=o.min,l=o.max,c,h,p,d;if(t.options.ordinal){hn(t.series,function(e,t){if(e.visible!==false&&e.takeOrdinalPosition!==false){r=r.concat(e.processedXData);n=r.length;r.sort(function(e,t){return e-t});if(n){t=n-1;while(t--){if(r[t]===r[t+1]){r.splice(t,1)}}}}});n=r.length;if(n>2){s=r[1]-r[0];d=n-1;while(d--&&!i){if(r[d+1]-r[d]!==s){i=true}}if(!t.options.keepOrdinalPadding&&(r[0]-f>s||l-r[r.length-1]>s)){i=true}}if(i){t.ordinalPositions=r;c=t.val2lin(u(f,r[0]),true);h=t.val2lin(a(l,r[r.length-1]),true);t.ordinalSlope=p=(l-f)/(h-c);t.ordinalOffset=f-c*p}else{t.ordinalPositions=t.ordinalSlope=t.ordinalOffset=e}}t.groupIntervalFactor=null},val2lin:function(e,t){var n=this,r=n.ordinalPositions;if(!r){return e}else{var i=r.length,s,o,u;s=i;while(s--){if(r[s]===e){u=s;break}}s=i-1;while(s--){if(e>r[s]||s===0){o=(e-r[s])/(r[s+1]-r[s]);u=s+o;break}}return t?u:n.ordinalSlope*(u||0)+n.ordinalOffset}},lin2val:function(t,n){var r=this,i=r.ordinalPositions;if(!i){return t}else{var o=r.ordinalSlope,u=r.ordinalOffset,a=i.length-1,f,l,c;if(n){if(t<0){t=i[0]}else if(t>a){t=i[a]}else{a=s(t);c=t-a}}else{while(a--){f=o*a+u;if(t>=f){l=o*(a+1)+u;c=(t-f)/(l-f);break}}}return c!==e&&i[a]!==e?i[a]+(c?c*(i[a+1]-i[a]):0):t}},getExtendedPositions:function(){var e=this,t=e.chart,n=e.series[0].currentDataGrouping,r=e.ordinalIndex,i=n?n.count+n.unitName:"raw",s=e.getExtremes(),o,u;if(!r){r=e.ordinalIndex={}}if(!r[i]){o={series:[],getExtremes:function(){return{min:s.dataMin,max:s.dataMax}},options:{ordinal:true},val2lin:Un.prototype.val2lin};hn(e.series,function(e){u={xAxis:o,xData:e.xData,chart:t,destroyGroupedData:H};u.options={dataGrouping:n?{enabled:true,forced:true,approximation:"open",units:[[n.unitName,[n.count]]]}:{enabled:false}};e.processData.apply(u);o.series.push(u)});e.beforeSetTickPositions.apply(o);r[i]=o.ordinalPositions}return r[i]},getGroupIntervalFactor:function(e,t,n){var r=0,i=n.processedXData,o=i.length,f=[],l,c=this.groupIntervalFactor;if(!c){for(;r<o-1;r++){f[r]=i[r+1]-i[r]}f.sort(function(e,t){return e-t});l=f[s(o/2)];e=u(e,i[0]);t=a(t,i[o-1]);this.groupIntervalFactor=c=o*l/(t-e)}return c},postProcessTickInterval:function(e){var t=this.ordinalSlope;return t?e/(t/this.closestPointRange):e}});Vt(Kn.prototype,"pan",function(e,t){var n=this,r=n.xAxis[0],i=t.chartX,s=false;if(r.options.ordinal&&r.series.length){var o=n.mouseDownX,l=r.getExtremes(),c=l.dataMax,h=l.min,p=l.max,d,v=n.hoverPoints,m=r.closestPointRange,g=r.translationSlope*(r.ordinalSlope||m),y=(o-i)/g,b={ordinalPositions:r.getExtendedPositions()},w,E,S=r.lin2val,x=r.val2lin,T;if(!b.ordinalPositions){s=true}else if(f(y)>1){if(v){hn(v,function(e){e.setState()})}if(y<0){E=b;T=r.ordinalPositions?r:b}else{E=r.ordinalPositions?r:b;T=b}w=T.ordinalPositions;if(c>w[w.length-1]){w.push(c)}d=r.toFixedRange(null,null,S.apply(E,[x.apply(E,[h,true])+y,true]),S.apply(T,[x.apply(T,[p,true])+y,true]));if(d.min>=a(l.dataMin,h)&&d.max<=u(c,p)){r.setExtremes(d.min,d.max,true,false,{trigger:"pan"})}n.mouseDownX=i;Rt(n.container,{cursor:"move"})}}else{s=true}if(s){e.apply(this,Array.prototype.slice.call(arguments,1))}});Vt(Yn.prototype,"getSegments",function(e){var t=this,n,r=t.options.gapSize,i=t.xAxis;e.apply(this,Array.prototype.slice.call(arguments,1));if(r){n=t.segments;hn(n,function(e,t){var s=e.length-1;while(s--){if(e[s+1].x-e[s].x>i.closestPointRange*r){n.splice(t+1,0,e.splice(s+1,e.length-s))}}})}});var fr="dataGrouping",lr=Yn.prototype,cr=lr.processData,hr=lr.generatePoints,pr=lr.destroy,dr=lr.tooltipHeaderFormatter,vr="number",mr={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:Lt(et,["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],tt,["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],nt,["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],rt,["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],it,["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],st,["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],ot,["%B %Y","%B","-%B %Y"],ut,["%Y","%Y","-%Y"])},gr={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},yr=[[et,[1,2,5,10,20,25,50,100,200,500]],[tt,[1,2,5,10,15,30]],[nt,[1,2,5,10,15,30]],[rt,[1,2,3,4,6,8,12]],[it,[1]],[st,[1]],[ot,[1,3,6]],[ut,null]],br={sum:function(e){var t=e.length,n;if(!t&&e.hasNulls){n=null}else if(t){n=0;while(t--){n+=e[t]}}return n},average:function(e){var t=e.length,n=br.sum(e);if(typeof n===vr&&t){n=n/t}return n},open:function(t){return t.length?t[0]:t.hasNulls?null:e},high:function(t){return t.length?en(t):t.hasNulls?null:e},low:function(t){return t.length?Zt(t):t.hasNulls?null:e},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:e},ohlc:function(e,t,n,r){e=br.open(e);t=br.high(t);n=br.low(n);r=br.close(r);if(typeof e===vr||typeof t===vr||typeof n===vr||typeof r===vr){return[e,t,n,r]}},range:function(e,t){e=br.low(e);t=br.high(t);if(typeof e===vr||typeof t===vr){return[e,t]}}};lr.groupData=function(t,n,r,i){var s=this,o=s.data,u=s.options.data,a=[],f=[],l=t.length,c,h,p,d=!!n,v=[[],[],[],[]],m=typeof i==="function"?i:br[i],g=s.pointArrayMap,y=g&&g.length,b;for(b=0;b<=l;b++){while(r[1]!==e&&t[b]>=r[1]||b===l){c=r.shift();p=m.apply(0,v);if(p!==e){a.push(c);f.push(p)}v[0]=[];v[1]=[];v[2]=[];v[3]=[];if(b===l){break}}if(b===l){break}if(g){var w=s.cropStart+b,E=o&&o[w]||s.pointClass.prototype.applyOptions.apply({series:s},[u[w]]),S,x;for(S=0;S<y;S++){x=E[g[S]];if(typeof x===vr){v[S].push(x)}else if(x===null){v[S].hasNulls=true}}}else{h=d?n[b]:null;if(typeof h===vr){v[0].push(h)}else if(h===null){v[0].hasNulls=true}}}return[a,f]};lr.processData=function(){var e=this,t=e.chart,n=e.options,r=n[fr],i=r&&qt(r.enabled,t.options._stock),s;e.forceCrop=i;e.groupPixelWidth=null;if(cr.apply(e,arguments)===false||!i){return}else{e.destroyGroupedData()}var o,u=e.processedXData,a=e.processedYData,f=t.plotSizeX,l=e.xAxis,c=l.options.ordinal,h=e.groupPixelWidth=l.getGroupPixelWidth&&l.getGroupPixelWidth(),p=e.pointRange;if(h){s=true;e.points=null;var d=l.getExtremes(),v=d.min,m=d.max,g=c&&l.getGroupIntervalFactor(v,m,e)||1,y=h*(m-v)/f*g,b=l.getTimeTicks(l.normalizeTimeTickInterval(y,r.units||yr),v,m,null,u,e.closestPointRange),w=lr.groupData.apply(e,[u,a,b,r.approximation]),E=w[0],S=w[1];if(r.smoothed){o=E.length-1;E[o]=m;while(o--&&o>0){E[o]+=y/2}E[0]=v}e.currentDataGrouping=b.info;if(n.pointRange===null){e.pointRange=b.info.totalRange}e.closestPointRange=b.info.totalRange;e.processedXData=E;e.processedYData=S}else{e.currentDataGrouping=null;e.pointRange=p}e.hasGroupedData=s};lr.destroyGroupedData=function(){var e=this.groupedData;hn(e||[],function(t,n){if(t){e[n]=t.destroy?t.destroy():null}});this.groupedData=null};lr.generatePoints=function(){hr.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};lr.tooltipHeaderFormatter=function(e){var t=this,n=t.options,r=t.tooltipOptions,i=n.dataGrouping,s=r.xDateFormat,o,u=t.xAxis,a,f,l,c,h,p;if(u&&u.options.type==="datetime"&&i&&Dt(e.key)){a=t.currentDataGrouping;f=i.dateTimeLabelFormats;if(a){l=f[a.unitName];if(a.count===1){s=l[0]}else{s=l[1];o=l[2]}}else if(!s&&f){for(h in P){if(P[h]>=u.closestPointRange){s=f[h][0];break}}}c=M(s,e.key);if(o){c+=M(o,e.key+a.totalRange-1)}p=r.headerFormat.replace("{point.key}",c)}else{p=dr.call(t,e)}return p};lr.destroy=function(){var e=this,t=e.groupedData||[],n=t.length;while(n--){if(t[n]){t[n].destroy()}}pr.apply(e)};Vt(lr,"setOptions",function(e,t){var n=e.call(this,t),r=this.type,i=this.chart.options.plotOptions,s=xn[r].dataGrouping;if(gr[r]){if(!s){s=kt(mr,gr[r])}n.dataGrouping=kt(s,i.series&&i.series.dataGrouping,i[r].dataGrouping,t.dataGrouping)}if(this.chart.options._stock){this.requireSorting=true}return n});Un.prototype.getGroupPixelWidth=function(){var e=this.series,t=e.length,n,r=0,i=false,s,o;n=t;while(n--){o=e[n].options.dataGrouping;if(o){r=u(r,o.groupPixelWidth)}}n=t;while(n--){o=e[n].options.dataGrouping;if(o){s=(e[n].processedXData||e[n].data).length;if(e[n].groupPixelWidth||s>this.chart.plotSizeX/r||s&&o.forced){i=true}}}return i?r:0};xn.ohlc=kt(xn.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>'+"Open: {point.open}<br/>"+"High: {point.high}<br/>"+"Low: {point.low}<br/>"+"Close: {point.close}<br/>"},states:{hover:{lineWidth:3}},threshold:null});var wr=zt(Nt.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(e){return[e.open,e.high,e.low,e.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){Nt.column.prototype.getAttribs.apply(this,arguments);var e=this,t=e.options,n=t.states,r=t.upColor||e.color,i=kt(e.pointAttr),s=e.upColorProp;i[""][s]=r;i.hover[s]=n.hover.upColor||r;i.select[s]=n.select.upColor||r;hn(e.points,function(e){if(e.open<e.close){e.pointAttr=i}})},translate:function(){var e=this,t=e.yAxis;Nt.column.prototype.translate.apply(e);hn(e.points,function(e){if(e.open!==null){e.plotOpen=t.translate(e.open,0,1,0,1)}if(e.close!==null){e.plotClose=t.translate(e.close,0,1,0,1)}})},drawPoints:function(){var t=this,n=t.points,r=t.chart,s,o,u,a,f,l,c,h;hn(n,function(n){if(n.plotY!==e){c=n.graphic;s=n.pointAttr[n.selected?"selected":""];a=s["stroke-width"]%2/2;h=i(n.plotX)+a;f=i(n.shapeArgs.width/2);l=["M",h,i(n.yBottom),"L",h,i(n.plotY)];if(n.open!==null){o=i(n.plotOpen)+a;l.push("M",h,o,"L",h-f,o)}if(n.close!==null){u=i(n.plotClose)+a;l.push("M",h,u,"L",h+f,u)}if(c){c.animate({d:l})}else{n.graphic=r.renderer.path(l).attr(s).add(t.group)}}})},animate:null});Nt.ohlc=wr;xn.candlestick=kt(xn.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:xn.ohlc.tooltip,threshold:null,upColor:"white"});var Er=zt(wr,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){Nt.ohlc.prototype.getAttribs.apply(this,arguments);var e=this,t=e.options,n=t.states,r=t.upLineColor||t.lineColor,i=n.hover.upLineColor||r,s=n.select.upLineColor||r;hn(e.points,function(e){if(e.open<e.close){e.pointAttr[""].stroke=r;e.pointAttr.hover.stroke=i;e.pointAttr.select.stroke=s}})},drawPoints:function(){var t=this,n=t.points,s=t.chart,o,u,a,f,l,c,h,p,d,v,m,g;hn(n,function(n){v=n.graphic;if(n.plotY!==e){o=n.pointAttr[n.selected?"selected":""];p=o["stroke-width"]%2/2;d=i(n.plotX)+p;u=n.plotOpen;a=n.plotClose;f=r.min(u,a);l=r.max(u,a);g=i(n.shapeArgs.width/2);c=i(f)!==i(n.plotY);h=l!==n.yBottom;f=i(f)+p;l=i(l)+p;m=["M",d-g,l,"L",d-g,f,"L",d+g,f,"L",d+g,l,"L",d-g,l,"M",d,f,"L",d,c?i(n.plotY):f,"M",d,l,"L",d,h?i(n.yBottom):l,"Z"];if(v){v.animate({d:m})}else{n.graphic=s.renderer.path(m).attr(o).add(t.group).shadow(t.options.shadow)}}})}});Nt.candlestick=Er;var Sr=Dn.prototype.symbols;xn.flags=kt(xn.column,{dataGrouping:null,fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30});Nt.flags=zt(Nt.column,{type:"flags",sorted:false,noSharedTooltip:true,takeOrdinalPosition:false,trackerGroups:["markerGroup"],forceCrop:true,init:Yn.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){Nt.column.prototype.translate.apply(this);var t=this,n=t.options,r=t.chart,i=t.points,s=i.length-1,o,u,a=n.onSeries,f=a&&r.get(a),l=f&&f.options.step,c=f&&f.points,h=c&&c.length,p=t.xAxis,d=p.getExtremes(),v,m,g,y;if(f&&f.visible&&h){y=f.currentDataGrouping;m=c[h-1].x+(y?y.totalRange:0);i.sort(function(e,t){return e.x-t.x});while(h--&&i[s]){o=i[s];v=c[h];if(v.x<=o.x&&v.plotY!==e){if(o.x<=m){o.plotY=v.plotY;if(v.x<o.x&&!l){g=c[h+1];if(g&&g.plotY!==e){o.plotY+=(o.x-v.x)/(g.x-v.x)*(g.plotY-v.plotY)}}}s--;h++;if(s<0){break}}}}hn(i,function(t,n){if(t.plotY===e){if(t.x>=d.min&&t.x<=d.max){t.plotY=r.chartHeight-p.bottom-(p.opposite?p.height:0)+p.offset-r.plotTop}else{t.shapeArgs={}}}u=i[n-1];if(u&&u.plotX===t.plotX){if(u.stackIndex===e){u.stackIndex=0}t.stackIndex=u.stackIndex+1}})},drawPoints:function(){var t=this,n,r=t.points,i=t.chart,s=i.renderer,o,u,a=t.options,f=a.y,l,c,h,p,d,v=a.lineWidth%2/2,m,g,y;c=r.length;while(c--){h=r[c];y=h.plotX>t.xAxis.len;o=h.plotX+(y?v:-v);d=h.stackIndex;l=h.options.shape||a.shape;u=h.plotY;if(u!==e){u=h.plotY+f+v-(d!==e&&d*a.stackDistance)}m=d?e:h.plotX+v;g=d?e:h.plotY;p=h.graphic;if(u!==e&&o>=0&&!y){n=h.pointAttr[h.selected?"select":""];if(p){p.attr({x:o,y:u,r:n.r,anchorX:m,anchorY:g})}else{p=h.graphic=s.label(h.options.title||a.title||"A",o,u,l,m,g,a.useHTML).css(kt(a.style,h.style)).attr(n).attr({align:l==="flag"?"left":"center",width:a.width,height:a.height}).add(t.markerGroup).shadow(a.shadow)}h.tooltipPos=[o,u]}else if(p){h.graphic=p.destroy()}}},drawTracker:function(){var e=this,t=e.points;Xn.drawTrackerPoint.apply(this);hn(t,function(e){var n=e.graphic;if(n){mn(n.element,"mouseover",function(){if(e.stackIndex>0&&!e.raised){e._y=n.y;n.attr({y:e._y-8});e.raised=true}hn(t,function(t){if(t!==e&&t.raised&&t.graphic){t.graphic.attr({y:t._y});t.raised=false}})})}})},animate:H});Sr.flag=function(e,t,n,r,i){var s=i&&i.anchorX||e,o=i&&i.anchorY||t;return["M",s,o,"L",e,t+r,e,t,e+n,t,e+n,t+r,e,t+r,"M",s,o,"Z"]};hn(["circle","square"],function(e){Sr[e+"pin"]=function(t,n,r,i,s){var o=s&&s.anchorX,u=s&&s.anchorY,a=Sr[e](t,n,r,i),f;if(o&&u){f=n>u?n:n+i;a.push("M",o,f,"L",o,u)}return a}});if(N===Highcharts.VMLRenderer){hn(["flag","circlepin","squarepin"],function(e){Pn.prototype.symbols[e]=Sr[e]})}var xr=Lt(ft,{x1:0,y1:0,x2:0,y2:1},lt,[[0,"#FFF"],[1,"#CCC"]]),Tr=[].concat(yr),Nr;Tr[4]=[it,[1,2,3,4]];Tr[5]=[st,[1,2,3]];Nr=Nt.areaspline===e?"line":"areaspline";Ct(O,{navigator:{handles:{backgroundColor:"#FFF",borderColor:"#666"},height:40,margin:10,maskFill:"rgba(255, 255, 255, 0.75)",outlineColor:"#444",outlineWidth:1,series:{type:Nr,color:"#4572A7",compare:null,fillOpacity:.4,dataGrouping:{approximation:"average",enabled:true,groupPixelWidth:2,smoothed:true,units:Tr},dataLabels:{enabled:false,zIndex:2},id:z+"navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:false},pointRange:0,shadow:false,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",x:3,y:-4},crosshair:{label:{enabled:false}}},yAxis:{gridLineWidth:0,startOnTick:false,endOnTick:false,minPadding:.1,maxPadding:.1,labels:{enabled:false},crosshair:{enabled:false,label:{enabled:false}},title:{text:null},tickWidth:0}},scrollbar:{height:w?20:14,barBackgroundColor:xr,barBorderRadius:2,barBorderWidth:1,barBorderColor:"#666",buttonArrowColor:"#666",buttonBackgroundColor:xr,buttonBorderColor:"#666",buttonBorderRadius:2,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:Lt(ft,{x1:0,y1:0,x2:0,y2:1},lt,[[0,"#EEE"],[1,"#FFF"]]),trackBorderColor:"#CCC",trackBorderWidth:1,liveRedraw:S&&!w}});Cr.prototype={drawHandle:function(e,t){var n=this,r=n.chart,i=r.renderer,s=n.elementsToDestroy,o=n.handles,u=n.navigatorOptions.handles,a={fill:u.backgroundColor,stroke:u.borderColor,"stroke-width":1},f;if(!n.rendered){o[t]=i.g().css({cursor:"e-resize"}).attr({zIndex:4-t}).add();f=i.rect(-4.5,0,9,16,3,1).attr(a).add(o[t]);s.push(f);f=i.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(a).add(o[t]);s.push(f)}o[t][r.isResizing?"animate":"attr"]({translateX:n.scrollerLeft+n.scrollbarHeight+parseInt(e,10),translateY:n.top+n.height/2-8})},drawScrollbarButton:function(e){var t=this,n=t.chart,r=n.renderer,i=t.elementsToDestroy,s=t.scrollbarButtons,o=t.scrollbarHeight,u=t.scrollbarOptions,a;if(!t.rendered){s[e]=r.g().add(t.scrollbarGroup);a=r.rect(-.5,-.5,o+1,o+1,u.buttonBorderRadius,u.buttonBorderWidth).attr({stroke:u.buttonBorderColor,"stroke-width":u.buttonBorderWidth,fill:u.buttonBackgroundColor}).add(s[e]);i.push(a);a=r.path(["M",o/2+(e?-1:1),o/2-3,"L",o/2+(e?-1:1),o/2+3,o/2+(e?2:-2),o/2]).attr({fill:u.buttonArrowColor}).add(s[e]);i.push(a)}if(e){s[e].attr({translateX:t.scrollerWidth-o})}},render:function(e,t,n,r){var o=this,l=o.chart,c=l.renderer,h,p,d,v,m=o.scrollbarGroup,g=o.navigatorGroup,y=o.scrollbar,b=o.xAxis,w=o.scrollbarTrack,E=o.scrollbarHeight,S=o.scrollbarEnabled,x=o.navigatorOptions,T=o.scrollbarOptions,N=T.minWidth,C=o.height,k=o.top,L=o.navigatorEnabled,A=x.outlineWidth,O=A/2,M,_,D,P,H,B=0,j=o.outlineHeight,F=T.barBorderRadius,I,q=T.barBorderWidth,R,z=k+O,X,V;if(isNaN(e)){return}o.navigatorLeft=h=qt(b.left,l.plotLeft+E);o.navigatorWidth=p=qt(b.len,l.plotWidth-2*E);o.scrollerLeft=d=h-E;o.scrollerWidth=v=v=p+2*E;if(b.getExtremes){V=o.getUnionExtremes(true);if(V&&(V.dataMin!==b.min||V.dataMax!==b.max)){b.setExtremes(V.dataMin,V.dataMax,true,false)}}n=qt(n,b.translate(e));r=qt(r,b.translate(t));if(isNaN(n)||f(n)===Infinity){n=0;r=v}o.zoomedMax=a(u(n,r),p);o.zoomedMin=u(o.fixedWidth?o.zoomedMax-o.fixedWidth:a(n,r),0);o.range=o.zoomedMax-o.zoomedMin;_=i(o.zoomedMax);M=i(o.zoomedMin);D=_-M;if(!o.rendered){if(L){o.navigatorGroup=g=c.g("navigator").attr({zIndex:3}).add();o.leftShade=c.rect().attr({fill:x.maskFill}).add(g);o.rightShade=c.rect().attr({fill:x.maskFill}).add(g);o.outline=c.path().attr({"stroke-width":A,stroke:x.outlineColor}).add(g)}if(S){o.scrollbarGroup=m=c.g("scrollbar").add();I=T.trackBorderWidth;o.scrollbarTrack=w=c.rect().attr({y:-I%2/2,fill:T.trackBackgroundColor,stroke:T.trackBorderColor,"stroke-width":I,r:T.trackBorderRadius||0,height:E}).add(m);o.scrollbar=y=c.rect().attr({y:-q%2/2,height:E,fill:T.barBackgroundColor,stroke:T.barBorderColor,"stroke-width":q,r:F}).add(m);o.scrollbarRifles=c.path().attr({stroke:T.rifleColor,"stroke-width":1}).add(m)}}X=l.isResizing?"animate":"attr";if(L){o.leftShade[X]({x:h,y:k,width:M,height:C});o.rightShade[X]({x:h+_,y:k,width:p-_,height:C});o.outline[X]({d:[$,d,z,J,h+M+O,z,h+M+O,z+j-E,$,h+_-O,z+j-E,J,h+_-O,z,d+v,z]});o.drawHandle(M+O,0);o.drawHandle(_+O,1)}if(S&&m){o.drawScrollbarButton(0);o.drawScrollbarButton(1);m[X]({translateX:d,translateY:i(z+C)});w[X]({width:v});P=E+M;H=D-q;if(H<N){B=(N-H)/2;H=N;P-=B}o.scrollbarPad=B;y[X]({x:s(P)+q%2/2,width:H});R=E+M+D/2-.5;o.scrollbarRifles.attr({visibility:D>12?W:U})[X]({d:[$,R-3,E/4,J,R-3,2*E/3,$,R,E/4,J,R,2*E/3,$,R+3,E/4,J,R+3,2*E/3]})}o.scrollbarPad=B;o.rendered=true},addEvents:function(){var e=this.chart.container,t=this.mouseDownHandler,n=this.mouseMoveHandler,r=this.mouseUpHandler,i;i=[[e,"mousedown",t],[e,"mousemove",n],[document,"mouseup",r]];if(C){i.push([e,"touchstart",t],[e,"touchmove",n],[document,"touchend",r])}hn(i,function(e){mn.apply(null,e)});this._events=i},removeEvents:function(){hn(this._events,function(e){gn.apply(null,e)});this._events=e;if(this.navigatorEnabled&&this.baseSeries){gn(this.baseSeries,"updatedData",this.updatedDataHandler)}},init:function(){var e=this,t=e.chart,n,i,s=e.scrollbarHeight,o=e.navigatorOptions,u=e.height,a=e.top,f,l,c=document.body.style,h,p=e.baseSeries;e.mouseDownHandler=function(i){i=t.pointer.normalize(i);var s=e.zoomedMin,o=e.zoomedMax,a=e.top,l=e.scrollbarHeight,p=e.scrollerLeft,d=e.scrollerWidth,v=e.navigatorLeft,m=e.navigatorWidth,g=e.scrollbarPad,y=e.range,b=i.chartX,E=i.chartY,S=t.xAxis[0],x,T,N=w?10:7,C,k;if(E>a&&E<a+u+l){k=!e.scrollbarEnabled||E<a+u;if(k&&r.abs(b-s-v)<N){e.grabbedLeft=true;e.otherHandlePos=o;e.fixedExtreme=S.max;t.fixedRange=null}else if(k&&r.abs(b-o-v)<N){e.grabbedRight=true;e.otherHandlePos=s;e.fixedExtreme=S.min;t.fixedRange=null}else if(b>v+s-g&&b<v+o+g){e.grabbedCenter=b;e.fixedWidth=y;if(t.renderer.isSVG){h=c.cursor;c.cursor="ew-resize"}f=b-s}else if(b>p&&b<p+d){if(k){C=b-v-y/2}else{if(b<v){C=s-y*.2}else if(b>p+d-l){C=s+y*.2}else{C=b<v+s?s-y:o}}if(C<0){C=0}else if(C+y>=m){C=m-y;x=n.dataMax}if(C!==s){e.fixedWidth=y;T=n.toFixedRange(C,C+y,null,x);S.setExtremes(T.min,T.max,true,false,{trigger:"navigator"})}}}};e.mouseMoveHandler=function(n){var r=e.scrollbarHeight,i=e.navigatorLeft,s=e.navigatorWidth,o=e.scrollerLeft,u=e.scrollerWidth,a=e.range,c;if(n.pageX!==0){n=t.pointer.normalize(n);c=n.chartX;if(c<i){c=i}else if(c>o+u-r){c=o+u-r}if(e.grabbedLeft){l=true;e.render(0,0,c-i,e.otherHandlePos)}else if(e.grabbedRight){l=true;e.render(0,0,e.otherHandlePos,c-i)}else if(e.grabbedCenter){l=true;if(c<f){c=f}else if(c>s+f-a){c=s+f-a}e.render(0,0,c-f,c-f+a)}if(l&&e.scrollbarOptions.liveRedraw){setTimeout(function(){e.mouseUpHandler(n)},0)}}};e.mouseUpHandler=function(r){var i,s,o;if(l){if(e.zoomedMin===e.otherHandlePos){s=e.fixedExtreme}else if(e.zoomedMax===e.otherHandlePos){o=e.fixedExtreme}if(e.zoomedMax===e.navigatorWidth){o=n.dataMax}i=n.toFixedRange(e.zoomedMin,e.zoomedMax,s,o);t.xAxis[0].setExtremes(i.min,i.max,true,false,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:r})}if(r.type!=="mousemove"){e.grabbedLeft=e.grabbedRight=e.grabbedCenter=e.fixedWidth=e.fixedExtreme=e.otherHandlePos=l=f=null;c.cursor=h||""}};var d=t.xAxis.length,v=t.yAxis.length;t.extraBottomMargin=e.outlineHeight+o.margin;if(e.navigatorEnabled){e.xAxis=n=new Un(t,kt({ordinal:p&&p.xAxis.options.ordinal},o.xAxis,{id:"navigator-x-axis",isX:true,type:"datetime",index:d,height:u,offset:0,offsetLeft:s,offsetRight:-s,keepOrdinalPadding:true,startOnTick:false,endOnTick:false,minPadding:0,maxPadding:0,zoomEnabled:false}));e.yAxis=i=new Un(t,kt(o.yAxis,{id:"navigator-y-axis",alignTicks:false,height:u,offset:0,index:v,zoomEnabled:false}));if(p||o.series.data){e.addBaseSeries()}else if(t.series.length===0){Vt(t,"redraw",function(n,r){if(t.series.length>0&&!e.series){e.setBaseSeries();t.redraw=n}n.call(t,r)})}}else{e.xAxis=n={translate:function(e,n){var r=t.xAxis[0].getExtremes(),i=t.plotWidth-2*s,o=r.dataMin,u=r.dataMax-o;return n?e*u/i+o:i*(e-o)/u},toFixedRange:Un.prototype.toFixedRange}}Vt(t,"getMargins",function(t){var r=this.legend,s=r.options;t.call(this);e.top=a=e.navigatorOptions.top||this.chartHeight-e.height-e.scrollbarHeight-this.spacing[2]-(s.verticalAlign==="bottom"&&s.enabled&&!s.floating?r.legendHeight+qt(s.margin,10):0);if(n&&i){n.options.top=i.options.top=a;n.setAxisSize();i.setAxisSize()}});e.addEvents()},getUnionExtremes:function(e){var t=this.chart.xAxis[0],n=this.xAxis,r=n.options;if(!e||t.dataMin!==null){return{dataMin:qt(r&&r.min,(jt(t.dataMin)&&jt(n.dataMin)?a:qt)(t.dataMin,n.dataMin)),dataMax:qt(r&&r.max,(jt(t.dataMax)&&jt(n.dataMax)?u:qt)(t.dataMax,n.dataMax))}}},setBaseSeries:function(e){var t=this.chart;e=e||t.options.navigator.baseSeries;if(this.series){this.series.remove()}this.baseSeries=t.series[e]||typeof e==="string"&&t.get(e)||t.series[0];if(this.xAxis){this.addBaseSeries()}},addBaseSeries:function(){var e=this.baseSeries,t=e?e.options:{},n=t.data,r,i=this.navigatorOptions.series,s;s=i.data;this.hasNavigatorData=!!s;r=kt(t,i,{clip:false,enableMouseTracking:false,group:"nav",padXAxis:false,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:false,isInternal:true,visible:true});r.data=s||n;this.series=this.chart.initSeries(r);if(e&&this.navigatorOptions.adaptToUpdatedData!==false){mn(e,"updatedData",this.updatedDataHandler);e.userOptions.events=Ct(e.userOptions.event,{updatedData:this.updatedDataHandler})}},updatedDataHandler:function(){var e=this.chart.scroller,t=e.baseSeries,n=t.xAxis,r=n.getExtremes(),i=r.min,s=r.max,o=r.dataMin,f=r.dataMax,l=s-i,c,h,p,d,v,m=e.series,g=m.xData,y=!!n.setExtremes;h=s>=g[g.length-1]-(this.closestPointRange||0);c=i<=o;if(!e.hasNavigatorData){m.options.pointStart=t.xData[0];m.setData(t.options.data,false);v=true}if(c){d=o;p=d+l}if(h){p=f;if(!c){d=u(p-l,m.xData[0])}}if(y&&(c||h)){if(!isNaN(d)){n.setExtremes(d,p,true,false,{trigger:"updatedData"})}}else{if(v){this.chart.redraw(false)}e.render(u(i,o),a(s,f))}},destroy:function(){var e=this;e.removeEvents();hn([e.xAxis,e.yAxis,e.leftShade,e.rightShade,e.outline,e.scrollbarTrack,e.scrollbarRifles,e.scrollbarGroup,e.scrollbar],function(e){if(e&&e.destroy){e.destroy()}});e.xAxis=e.yAxis=e.leftShade=e.rightShade=e.outline=e.scrollbarTrack=e.scrollbarRifles=e.scrollbarGroup=e.scrollbar=null;hn([e.scrollbarButtons,e.handles,e.elementsToDestroy],function(e){tn(e)})}};Highcharts.Scroller=Cr;Vt(Un.prototype,"zoom",function(t,n,r){var i=this.chart,s=i.options,o=s.chart.zoomType,u,a=s.navigator,f=s.rangeSelector,l;if(this.isXAxis&&(a&&a.enabled||f&&f.enabled)){if(o==="x"){i.resetZoomButton="blocked"}else if(o==="y"){l=false}else if(o==="xy"){u=this.previousZoom;if(jt(n)){this.previousZoom=[this.min,this.max]}else if(u){n=u[0];r=u[1];delete this.previousZoom}}}return l!==e?l:t.call(this,n,r)});Vt(Kn.prototype,"init",function(e,t,n){mn(this,"beforeRender",function(){var e=this.options;if(e.navigator.enabled||e.scrollbar.enabled){this.scroller=new Cr(this)}});e.call(this,t,n)});Vt(Yn.prototype,"addPoint",function(e,t,n,r,i){var s=this.options.turboThreshold;if(s&&this.xData.length>s&&Mt(t)&&!_t(t)&&this.chart.scroller){rn(20,true)}e.call(this,t,n,r,i)});Ct(O,{rangeSelector:{buttonTheme:{width:28,height:16,padding:1,r:0,stroke:"#68A",zIndex:7},inputPosition:{align:"right"},labelStyle:{color:"#666"}}});O.lang=kt(O.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});kr.prototype={clickButton:function(t,n){var r=this,s=r.selected,o=r.chart,f=r.buttons,l=r.buttonOptions[t],c=o.xAxis[0],h=o.scroller&&o.scroller.getUnionExtremes()||c||{},p=h.dataMin,d=h.dataMax,v,m=c&&i(a(c.max,qt(d,c.max))),g,y=new Date(m),b=l.type,w=l.count,E,S=l._range,x,T,N;if(p===null||d===null||t===r.selected){return}if(b==="month"||b==="year"){N={month:"Month",year:"FullYear"}[b];y["set"+N](y["get"+N]()-w);v=y.getTime();p=qt(p,Number.MIN_VALUE);if(isNaN(v)||v<p){v=p;m=a(v+S,d)}else{S=m-v}}else if(S){v=u(m-S,p);m=a(v+S,d)}else if(b==="ytd"){if(c){if(d===e){p=Number.MAX_VALUE;d=Number.MIN_VALUE;hn(o.series,function(e){var t=e.xData;p=a(t[0],p);d=u(t[t.length-1],d)});n=false}g=new Date(d);T=g.getFullYear();v=x=u(p||0,Date.UTC(T,0,1));g=g.getTime();m=a(d||g,g)}else{mn(o,"beforeRender",function(){r.clickButton(t)});return}}else if(b==="all"&&c){v=p;m=d}if(f[s]){f[s].setState(0)}if(f[t]){f[t].setState(2)}o.fixedRange=S;if(!c){E=o.options.xAxis;E[0]=kt(E[0],{range:S,min:x});r.setSelected(t)}else{c.setExtremes(v,m,qt(n,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:l});r.setSelected(t)}},setSelected:function(e){this.selected=this.options.selected=e},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(t){var n=this,r=t.options.rangeSelector,i=r.buttons||[].concat(n.defaultButtons),s=r.selected,o=n.blurInputs=function(){var e=n.minInput,t=n.maxInput;if(e){e.blur()}if(t){t.blur()}};n.chart=t;n.options=r;n.buttons=[];t.extraTopMargin=25;n.buttonOptions=i;mn(t.container,"mousedown",o);mn(t,"resize",o);hn(i,n.computeButtonRange);if(s!==e&&i[s]){this.clickButton(s,false)}mn(t,"load",function(){mn(t.xAxis[0],"afterSetExtremes",function(){n.updateButtonStates(true)})})},updateButtonStates:function(e){var t=this,n=this.chart,r=n.xAxis[0],s=n.scroller&&n.scroller.getUnionExtremes()||r,o=s.dataMin,u=s.dataMax,a=t.selected,f=t.buttons;if(e&&n.fixedRange!==i(r.max-r.min)){if(f[a]){f[a].setState(0)}t.setSelected(null)}hn(t.buttonOptions,function(e,n){var s=e._range,l=s>u-o,c=s<r.minRange,h=e.type==="all"&&r.max-r.min>=u-o&&f[n].state!==2,p=e.type==="ytd"&&M("%Y",o)===M("%Y",u);if(s===i(r.max-r.min)&&n!==a){t.setSelected(n);f[n].setState(2)}else if(l||c||h||p){f[n].setState(3)}else if(f[n].state===3){f[n].setState(0)}})},computeButtonRange:function(e){var t=e.type,n=e.count||1,r={millisecond:1,second:1e3,minute:60*1e3,hour:3600*1e3,day:24*3600*1e3,week:7*24*3600*1e3};if(r[t]){e._range=r[t]*n}else if(t==="month"||t==="year"){e._range={month:30,year:365}[t]*24*36e5*n}},setInputValue:function(e,t){var n=this.chart.options.rangeSelector;if(jt(t)){this[e+"Input"].HCTime=t}this[e+"Input"].value=M(n.inputEditDateFormat||"%Y-%m-%d",this[e+"Input"].HCTime);this[e+"DateBox"].attr({text:M(n.inputDateFormat||"%b %e, %Y",this[e+"Input"].HCTime)})},drawInput:function(t){var n=this,r=n.chart,i=r.options.chart.style,s=r.renderer,o=r.options.rangeSelector,u=O.lang,a=n.div,f=t==="min",l,c,h,p=this.inputGroup;this[t+"Label"]=c=s.label(u[f?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:1}).css(kt(i,o.labelStyle)).add(p);p.offset+=c.width+5;this[t+"DateBox"]=h=s.label("",p.offset).attr({padding:1,width:o.inputBoxWidth||90,height:o.inputBoxHeight||16,stroke:o.inputBoxBorderColor||"silver","stroke-width":1}).css(kt({textAlign:"center"},i,o.inputStyle)).on("click",function(){n[t+"Input"].focus()}).add(p);p.offset+=h.width+(f?10:0);this[t+"Input"]=l=Ut("input",{name:t,className:z+"range-selector",type:"text"},Ct({position:q,border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:i.fontSize,fontFamily:i.fontFamily,top:r.plotTop+X},o.inputStyle),a);l.onfocus=function(){Rt(this,{left:p.translateX+h.x+X,top:p.translateY+X,width:h.width-2+X,height:h.height-2+X,border:"2px solid silver"})};l.onblur=function(){Rt(this,{border:0,width:"1px",height:"1px"});n.setInputValue(t)};l.onchange=function(){var t=l.value,i=(o.inputDateParser||Date.parse)(t),s=r.xAxis[0],u=s.dataMin,a=s.dataMax;if(isNaN(i)){i=t.split("-");i=Date.UTC(At(i[0]),At(i[1])-1,At(i[2]))}if(!isNaN(i)){if(!O.global.useUTC){i=i+(new Date).getTimezoneOffset()*60*1e3}if(f){if(i>n.maxInput.HCTime){i=e}else if(i<u){i=u}}else{if(i<n.minInput.HCTime){i=e}else if(i>a){i=a}}if(i!==e){r.xAxis[0].setExtremes(f?i:s.min,f?s.max:i,e,e,{trigger:"rangeSelectorInput"})}}}},render:function(e,t){var n=this,r=n.chart,i=r.renderer,s=r.container,o=r.options,u=o.exporting&&o.navigation&&o.navigation.buttonOptions,a=o.rangeSelector,f=n.buttons,l=O.lang,c=n.div,h=n.inputGroup,p=a.buttonTheme,d=a.inputEnabled!==false,v=p&&p.states,m=r.plotLeft,g,y;if(!n.rendered){n.zoomText=i.text(l.rangeSelectorZoom,m,r.plotTop-10).css(a.labelStyle).add();y=m+n.zoomText.getBBox().width+5;hn(n.buttonOptions,function(e,t){f[t]=i.button(e.text,y,r.plotTop-25,function(){n.clickButton(t);n.isActive=true},p,v&&v.hover,v&&v.select).css({textAlign:"center"}).add();y+=f[t].width+(a.buttonSpacing||0);if(n.selected===t){f[t].setState(2)}});n.updateButtonStates();if(d){n.div=c=Ut("div",null,{position:"relative",height:0,zIndex:1});s.parentNode.insertBefore(c,s);n.inputGroup=h=i.g("input-group").add();h.offset=0;n.drawInput("min");n.drawInput("max")}}if(d){g=r.plotTop-35;h.align(Ct({y:g,width:h.offset,x:u&&g<(u.y||0)+u.height-r.spacing[0]?-40:0},a.inputPosition),true,r.spacingBox);n.setInputValue("min",e);n.setInputValue("max",t)}n.rendered=true},destroy:function(){var e=this.minInput,t=this.maxInput,n=this.chart,r=this.blurInputs,i;gn(n.container,"mousedown",r);gn(n,"resize",r);tn(this.buttons);if(e){e.onfocus=e.onblur=e.onchange=null}if(t){t.onfocus=t.onblur=t.onchange=null}for(i in this){if(this[i]&&i!=="chart"){if(this[i].destroy){this[i].destroy()}else if(this[i].nodeType){nn(this[i])}}this[i]=null}}};Un.prototype.toFixedRange=function(e,t,n,r){var i=this.chart&&this.chart.fixedRange,s=qt(n,this.translate(e,true)),o=qt(r,this.translate(t,true)),u=i&&(o-s)/i;if(u>.7&&u<1.3){if(r){s=o-i}else{o=s+i}}return{min:s,max:o}};Vt(Kn.prototype,"init",function(e,t,n){mn(this,"init",function(){if(this.options.rangeSelector.enabled){this.rangeSelector=new kr(this)}});e.call(this,t,n)});Highcharts.RangeSelector=kr;Kn.prototype.callbacks.push(function(e){function i(){t=e.xAxis[0].getExtremes();n.render(t.min,t.max)}function s(){t=e.xAxis[0].getExtremes();if(!isNaN(t.min)){r.render(t.min,t.max)}}function o(e){if(e.triggerOp!=="navigator-drag"){n.render(e.min,e.max)}}function u(e){r.render(e.min,e.max)}function a(){if(n){gn(e.xAxis[0],"afterSetExtremes",o)}if(r){gn(e,"resize",s);gn(e.xAxis[0],"afterSetExtremes",u)}}var t,n=e.scroller,r=e.rangeSelector;if(n){mn(e.xAxis[0],"afterSetExtremes",o);Vt(e,"drawChartBox",function(e){var t=this.isDirtyBox;e.call(this);if(t){i()}});i()}if(r){mn(e.xAxis[0],"afterSetExtremes",u);mn(e,"resize",s);s()}mn(e,"destroy",a)});Highcharts.StockChart=function(e,t){var n=e.series,r,i=qt(e.navigator&&e.navigator.enabled,true),s=i?{startOnTick:false,endOnTick:false}:null,o={marker:{enabled:false,states:{hover:{radius:5}}},states:{hover:{lineWidth:2}}},u={shadow:false,borderWidth:0};e.xAxis=vn(It(e.xAxis||{}),function(e){return kt({minPadding:0,maxPadding:0,ordinal:true,title:{text:null},labels:{overflow:"justify"},showLastLabel:true},e,{type:"datetime",categories:null},s)});e.yAxis=vn(It(e.yAxis||{}),function(e){r=e.opposite;return kt({labels:{align:r?"right":"left",x:r?-2:2,y:-2},showLastLabel:false,title:{text:null}},e)});e.series=null;e=kt({chart:{panning:true,pinchType:"x"},navigator:{enabled:true},scrollbar:{enabled:true},rangeSelector:{enabled:true},title:{text:null},tooltip:{shared:true,crosshairs:true},legend:{enabled:false},plotOptions:{line:o,spline:o,area:o,areaspline:o,arearange:o,areasplinerange:o,column:u,columnrange:u,candlestick:u,ohlc:u}},e,{_stock:true,chart:{inverted:false}});e.series=n;return new Kn(e,t)};Vt(Wn.prototype,"init",function(e,t,n){var r=n.chart.pinchType||"";e.call(this,t,n);this.pinchX=this.pinchHor=r.indexOf("x")!==-1;this.pinchY=this.pinchVert=r.indexOf("y")!==-1});Vt(Un.prototype,"hideCrosshair",function(e,t,n){e.call(this,t,n);if(this.crossLabel){this.crossLabel.hide()}});Vt(Un.prototype,"drawCrosshair",function(t,n,r){t.call(this,n,r);if(!jt(this.crosshair.label)||!this.crosshair.label.enabled||!jt(r)){return}var i=this.chart,s=this.options.crosshair.label,o=this.isXAxis?"x":"y",u=this.horiz,a=this.opposite,f=this.left,l=this.top,c=this.crossLabel,h,p,d,v=s.format,m="",g;if(!c){c=this.crossLabel=i.renderer.label().attr({align:s.align||u?"center":a?this.labelAlign==="right"?"right":"center":this.labelAlign==="left"?"left":"center",zIndex:12,height:u?16:e,fill:s.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:qt(s.padding,2),stroke:s.borderColor||null,"stroke-width":s.borderWidth||0}).css(Ct({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},s.style)).add()}if(u){h=r.plotX+f;p=l+(a?0:this.height)}else{h=a?this.width+f:0;p=r.plotY+l}if(p<l||p>l+this.height){this.hideCrosshair();return}if(!v&&!s.formatter){if(this.isDatetimeAxis){m="%b %d, %Y"}v="{value"+(m?":"+m:"")+"}"}c.attr({x:h,y:p,text:v?Jt(v,{value:r[o]}):s.formatter.call(this,r[o]),visibility:W});d=c.box;if(u){if(this.options.tickPosition==="inside"&&!a||this.options.tickPosition!=="inside"&&a){p=c.y-d.height}}else{p=c.y-d.height/2}if(u){g={left:f-d.x,right:f+this.width-d.x}}else{g={left:this.labelAlign==="left"?f:0,right:this.labelAlign==="right"?f+this.width:i.chartWidth}}if(c.translateX<g.left){h+=g.left-c.translateX}if(c.translateX+d.width>=g.right){h-=c.translateX+d.width-g.right}c.attr({x:h,y:p,visibility:W})});var Lr=lr.init,Ar=lr.processData,Or=Gn.prototype.tooltipFormatter;lr.init=function(){Lr.apply(this,arguments);this.setCompare(this.options.compare)};lr.setCompare=function(e){this.modifyValue=e==="value"||e==="percent"?function(t,n){var r=this.compareValue;t=e==="value"?t-r:t=100*(t/r)-100;if(n){n.change=t}return t}:null;if(this.chart.hasRendered){this.isDirty=true}};lr.processData=function(){var e=this,t=0,n,r,i;Ar.apply(this,arguments);if(e.xAxis&&e.processedYData){n=e.processedXData;r=e.processedYData;i=r.length;for(;t<i;t++){if(typeof r[t]===vr&&n[t]>=e.xAxis.min){e.compareValue=r[t];break}}}};Vt(lr,"getExtremes",function(e){e.call(this);if(this.modifyValue){this.dataMax=this.modifyValue(this.dataMax);this.dataMin=this.modifyValue(this.dataMin)}});Un.prototype.setCompare=function(e,t){if(!this.isXAxis){hn(this.series,function(t){t.setCompare(e)});if(qt(t,true)){this.chart.redraw()}}};Gn.prototype.tooltipFormatter=function(e){var t=this;e=e.replace("{point.change}",(t.change>0?"+":"")+Wt(t.change,qt(t.series.tooltipOptions.changeDecimals,2)));return Or.apply(this,[e])};Ct(Highcharts,{Axis:Un,Chart:Kn,Color:Mn,Point:Gn,Tick:In,Tooltip:zn,Renderer:N,Series:Yn,SVGElement:_n,SVGRenderer:Dn,arrayMin:Zt,arrayMax:en,charts:B,dateFormat:M,format:Jt,pathAnim:D,getOptions:kn,hasBidiBug:x,isTouchDevice:w,numberFormat:Wt,seriesTypes:Nt,setOptions:Cn,addEvent:mn,removeEvent:gn,createElement:Ut,discardElement:nn,css:Rt,each:hn,extend:Ct,map:vn,merge:kt,pick:qt,splat:It,extendClass:zt,pInt:At,wrap:Vt,svg:S,canvas:T,vml:!S&&!T,product:j,version:F})})()