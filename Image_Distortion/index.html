<!DOCTYPE html>
<!-------------------------------------------------------------
 Name:        data-analytics.github.io
 Purpose:     Data visualisation and analytics examples
 Author:      sushanth
 Created:     18-08-2013
 Modified:    27-06-2014
 Copyright:  (c) sushanth
 Licence:     open-source
--------------------------------------------------------------->
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="Here were the ones that created the most buzz and left the biggest impressions on fashion editors of fashion shows in London,Of the more than 300 collections shown during New York Fashion Week, here were the ones that created the most buzz.">
    <meta name="author" content="Sushanth">
    <meta http-equiv="refresh" content="600">
    <meta name="keywords" content="data-visualisation, data-analytics, javascript, d3.js, image distortion, fisheye , image map, imagemap, Fashion, FashionWeek, Dresses,Distortion">
    <link rel="stylesheet" type="text/css" media="screen" href="/./css/style.css">
    <link rel="stylesheet" type="text/css" media="screen" href="/./css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" media="screen" href="http://fortawesome.github.io/Font-Awesome/assets/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" type="text/css" media="screen" href="http://netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css">
    <script type="text/javascript" src="/./javascripts/jquery.min.js"></script>
    <script type="text/javascript" src="/./javascripts/d3.v3.min.js"></script>
    <script type="text/javascript" src="/./javascripts/bootstrap.min.js"></script>
    <script type="text/javascript" src="/./javascripts/google-analyitcs.js"></script>
    <script type="text/javascript" src="/./javascripts/facebook_link.js"></script>
    <script type="text/javascript" src="/./javascripts/googleplus_link.js"></script>
    <script type="text/javascript" src="/./javascripts/twitter-share.js"></script>
    <link rel="shortcut icon" href="/./images/logo.png">
    <title>Front Row to Fashion Week </title>
<style type="text/css">

.collection {
  height: 320px;
  font-family: "nyt-franklin", Arial;
  position: relative;
  display: block;
  margin: 0 0 20px 0;
  padding: 0 0 20px 0;
}

.collection:last-child {
  border-bottom: none;
}

.collection canvas,
.collection img {
  border: solid 1px #444;
  border-top-color: #000;
  border-bottom-color: #555;
  background: #000;
  position: absolute;
  left: 260px;
  top: 0;
}

.collection .description {
  font-size: 15px;
  line-height: 1.4em;
  margin: 0 20px 0 0;
  width: 220px;
  position: absolute;
  top: 0;
  left: 0;
}

.collection .description h3 {
  display: inline;
  font-size: 22px;
  font-weight: 200;
  margin: 0 0 0 0;
}

.annotations {
  font-family: Arial;
  position: absolute;
  left: 255px;
  top: 225px;
  margin: 0;
  padding: 0;
  height: 50px;
}

.annotations li {
  position: absolute;
  top: 10px;
  margin: 0;
  list-style-type: none;
  padding: 10px 0 0 10px;
}

.annotation {
  position: relative;
  font-size: 11px;
  line-height: 12px;
  width: 90px;
  height: 50px;
}

.annotation-bar {
  position: absolute;
  min-width: 1px;
  left: 11px;
  right: -1px;
  top: 0;
  border-bottom: solid 1px;
  border-right: solid 1px;
  border-left: solid 1px;
  border-color: #666;
  height: 3px;
}
    </style>
  </head>
  <body>
   <!-- HEADER -->
        <div id="header_wrap" class="outer jumbotron-icon" id="overview" >
            <header class="inner container">
              <div class="info-icons pull-left"><a class="fa fa-home fa-2" id="home" href="/./" ></a>&nbsp;&nbsp;&nbsp;</div>
          <h1 id="project_title">Front Row to Fashion Week </h1> 
              <p id="project_title_p">Here were the ones that created the most buzz and left the biggest impressions on 
              fashion editors of fashion shows in London</p>
           </header>  
             <div id="banner">
             <div class="container">
             
              <a class="button"  href="/./"><strong>Home</strong></a>
              <a href="https://github.com/Sushanthece/D3-Image_distortion/fork" class="button fork"><strong>Fork On GitHub</strong></a>
              <div class="downloads">
                <span>Downloads:</span>
                  <a href="https://github.com/Sushanthece/D3-Image_distortion/archive/gh-pages.zip" class="button">ZIP</a>
                  <a href="https://github.com/Sushanthece/D3-Image_distortion" class="button">view on github</a>
              </div>
            </div>
          </div>
        </div>
    <div class="container">
      <section id="main_content" class="inner">
        <div class="alert alert-info">
            <div id="fb-root"></div>
            <div class="fb-like" data-href="http://data-analytics.github.io/" data-layout="button_count" data-action="like" data-show-faces="true" data-share="true"></div>
            
            <script src="//platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
            <script type="IN/Share" data-url="http://data-analytics.github.io/" data-counter="right"></script>
            
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://http://data-analytics.github.io/" data-text="data analytics" data-dnt="true">Tweet</a>
            
            <div class="g-plusone" data-size="medium"></div>
            
            <a href="//www.pinterest.com/pin/create/button/?url=http%3A%2F%2Fdata-analytics.github.io%2F&media=http%3A%2F%2Fdata-analytics.github.io%2Fimages%2Flogo.png&description=Next%20stop%3A%20Pinterest" data-pin-do="buttonPin" data-pin-config="beside"><img src="//assets.pinterest.com/images/pidgets/pinit_fg_en_rect_gray_20.png" /></a>
            <script type="text/javascript" async src="//assets.pinterest.com/js/pinit.js"></script>
        </div>
<div class="graphic">
  <div class="editor-picks">
    <div class="collection">
      <div class="description">
        <h3>Marc Jacobs</h3>
        <p>Mirroring the mood of the times, this procession of slinky knits, soft-hued mink bombers and petal-like drifts of organza was low on grand gestures, high on chic.
        <!-- <p><a href="http://www.nytimes.com/fashion/runway/marc-jacobs/fall-2014-rtw/1?fingerprint=true">View Collection</a> -->
      </div>
      <div class="fisheye" data-name="Marc Jacobs" data-slug="marc-jacobs" data-size="41">
        <!--[if lte IE 8]><a href="http://www.nytimes.com/fashion/runway/marc-jacobs/fall-2014-rtw/1"><img src="http://graphics8.nytimes.com/newsgraphics/2014/02/14/fashion-week-editors-picks/assets/crops/marc-jacobs.jpg" height="225" width="720"></a><![endif]-->
        <ul class="annotations">
          <li data-range="[7,9]" style="left:122px;width:52px;">
            <div class="annotation">Minimalist dresses slit to reveal pin-thin pants</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[24,26]" style="left:420px;width:52px;">
            <div class="annotation">Pastel ombre bomber jackets in thick plush</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[35,40]" style="left:612px;width:105px;">
            <div class="annotation">Clean looks wrapped in light waves of organza</div>
            <div class="annotation-bar"></div>
          </li>
        </ul>
      </div>
    </div>
    <div class="collection">
      <div class="description">
        <h3>Calvin Klein</h3>
        <p>Knits in myriad varieties, including curly mohair coats and hand-stitched, multipaneled sweaters, were the focus of a disciplined but cozy collection in a soothing palette of earth tones and snow.
        <!-- <p><a href="http://www.nytimes.com/fashion/runway/calvin-klein/fall-2014-rtw/1?fingerprint=true">View Collection</a> -->
      </div>
      <div class="fisheye" data-name="Calvin Klein" data-slug="calvin-klein" data-size="33">
        <!--[if lte IE 8]><a href="http://www.nytimes.com/fashion/runway/calvin-klein/fall-2014-rtw/1"><img src="http://graphics8.nytimes.com/newsgraphics/2014/02/14/fashion-week-editors-picks/assets/crops/calvin-klein.jpg" height="225" width="720"></a><![endif]-->
        <ul class="annotations">
          <li data-range="[8,9]" style="left:174px;width:43px;">
            <div class="annotation">Mixed-knit jumpers blocked out in white, black and gray</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[15,16]" style="left:326px;width:43px;">
            <div class="annotation">Turtleneck sweater tops with chunky, sampler-scarf knit panels</div>
            <div class="annotation-bar"></div>
          </li>
        </ul>
      </div>
    </div>
    <div class="collection">
      <div class="description">
        <h3>Ralph Lauren</h3>
        <p>A collection distinguished by its  sure-handed hybrid of refinement and ease, its muted pastels and buttery fabrics arguing for opulence but in no way overstating the case.
        <p class="related">Read more: <a href="http://www.nytimes.com/2014/02/14/fashion/in-new-york-the-debut-of-polo-ralph-lauren-for-women.html">Ralph Lauren Plays Polo</a> 
        <!-- <p><a href="http://www.nytimes.com/fashion/runway/ralph-lauren/fall-2014-rtw/1?fingerprint=true">View Collection</a> -->
      </div>
      <div class="fisheye" data-name="Ralph Lauren" data-slug="ralph-lauren" data-size="59">
        <!--[if lte IE 8]><a href="http://www.nytimes.com/fashion/runway/ralph-lauren/fall-2014-rtw/1"><img src="http://graphics8.nytimes.com/newsgraphics/2014/02/14/fashion-week-editors-picks/assets/crops/ralph-lauren.jpg" height="225" width="720"></a><![endif]-->
        <ul class="annotations">
          <li data-range="[7,7]" style="left:85px;width:12px;">
            <div class="annotation">An upscale hippie dress under a distressed bomber</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[23,23]" style="left:279px;width:12px;">
            <div class="annotation">A massive, asymmetrical cape in soft pink</div>
            <div class="annotation-bar"></div>
          </li>
        </ul>
      </div>
    </div>
    <div class="collection">
      <div class="description">
        <h3>Proenza Schouler</h3>
        <p>A study in artfully sculptured effects, the collection relied for its impact on the arced shoulders and gently flared hips that have become the designers’ signature. Multilayered prints provided a playful counterpoint.  
        <p class="related">Read more: <a href="http://www.nytimes.com/2014/02/14/fashion/in-new-york-the-debut-of-polo-ralph-lauren-for-women.html">Ralph Lauren Plays Polo</a> 
        <!-- <p><a href="http://www.nytimes.com/fashion/runway/proenza-schouler/fall-2014-rtw/1?fingerprint=true">View Collection</a> -->
      </div>
      <div class="fisheye" data-name="Proenza Schouler" data-slug="proenza-schouler" data-size="35">
        <!--[if lte IE 8]><a href="http://www.nytimes.com/fashion/runway/proenza-schouler/fall-2014-rtw/1"><img src="http://graphics8.nytimes.com/newsgraphics/2014/02/14/fashion-week-editors-picks/assets/crops/proenza-schouler.jpg" height="225" width="720"></a><![endif]-->
        <ul class="annotations">
          <li data-range="[9,9]" style="left:184px;width:20px;">
            <div class="annotation">A peplum jacket printed with acid-trip cyan fractal noise</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[22,27]" style="left:451px;width:123px;">
            <div class="annotation">Trapper-keeper pattern collages in leather and wool</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[34,34]" style="left:697px;width:20px;">
            <div class="annotation">A plunge-bra-topped dress with a mercurial, wood-grain skirt</div>
            <div class="annotation-bar"></div>
          </li>
        </ul>
      </div>
    </div>
    <div class="collection">
      <div class="description">
        <h3>Narciso Rodriguez</h3>
        <p>Pure in conception but hardly austere, the collection was enriched by cocoon coats, breeze-catching silks, substantial knits and cardigan-like jackets in rivetingly mismatched hues. 
        <!-- <p><a href="http://www.nytimes.com/fashion/runway/narciso-rodriguez/fall-2014-rtw/1?fingerprint=true">View Collection</a> -->
      </div>
      <div class="fisheye" data-name="Narciso Rodriguez" data-slug="narciso-rodriguez" data-size="33">
        <!--[if lte IE 8]><a href="http://www.nytimes.com/fashion/runway/narciso-rodriguez/fall-2014-rtw/1"><img src="http://graphics8.nytimes.com/newsgraphics/2014/02/14/fashion-week-editors-picks/assets/crops/narciso-rodriguez.jpg" height="225" width="720"></a><![endif]-->
        <ul class="annotations">
          <li data-range="[4,4]" style="left:87px;width:21px;">
            <div class="annotation">A simple sheath dress blocked with vertical, earth-tone stripes</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[17,18]" style="left:369px;width:43px;">
            <div class="annotation">Asymmetrical cream blouses with enlarged, organic lapels</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[32,32]" style="left:696px;width:21px;">
            <div class="annotation">A metallic dress paneled with soft curves of contrasting golds and bronzes</div>
            <div class="annotation-bar"></div>
          </li>
        </ul>
      </div>
    </div>
    <div class="collection">
      <div class="description">
        <h3>Marc by Marc Jacobs</h3>
        <p>Brisk military tailoring, pink vinyl, outsize bows, biker coats and crinolines were among the elements that formed a kicky homage to late &#39;80s and &#39;90s girl power. 
        <p class="related">Read more: <a href="http://www.nytimes.com/2014/02/13/fashion/fashion-marc-by-marc-jacobs-Katie-Hillier-Luella-Bartley.html">Peeling Back Time at Marc by Marc Jacobs</a> 
        <!-- <p><a href="http://www.nytimes.com/fashion/runway/marc-by-marc-jacobs/fall-2014-rtw/1?fingerprint=true">View Collection</a> -->
      </div>
      <div class="fisheye" data-name="Marc by Marc Jacobs" data-slug="marc-by-marc-jacobs" data-size="36">
        <!--[if lte IE 8]><a href="http://www.nytimes.com/fashion/runway/marc-by-marc-jacobs/fall-2014-rtw/1"><img src="http://graphics8.nytimes.com/newsgraphics/2014/02/14/fashion-week-editors-picks/assets/crops/marc-by-marc-jacobs.jpg" height="225" width="720"></a><![endif]-->
        <ul class="annotations">
          <li data-range="[3,3]" style="left:59px;width:19px;">
            <div class="annotation">Manga-motocross dresses printed with bright graphic logos</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[24,24]" style="left:478px;width:19px;">
            <div class="annotation">An olive-green workwear gi closed with a comically oversized leather belt</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[33,35]" style="left:658px;width:59px;">
            <div class="annotation">Exaggerated, bow-tie tops paired with pleated tulle skirts</div>
            <div class="annotation-bar"></div>
          </li>
        </ul>
      </div>
    </div>
    <div class="collection">
      <div class="description">
        <h3>Zero + Maria Cornejo</h3>
        <p>Cornejo loyalists like Tilda Swinton and Miranda July will find plenty to covet in a  runway parade of elongated jumpers and incandescent white shirts. High-luxury ponchos and track pants placed it in a league with those of fashion’s top taste-makers.  
        <!-- <p><a href="http://www.nytimes.com/fashion/runway/zero-maria-cornejo/fall-2014-rtw/1?fingerprint=true">View Collection</a> -->
      </div>
      <div class="fisheye" data-name="Zero + Maria Cornejo" data-slug="zero-maria-cornejo" data-size="33">
        <!--[if lte IE 8]><a href="http://www.nytimes.com/fashion/runway/zero-maria-cornejo/fall-2014-rtw/1"><img src="http://graphics8.nytimes.com/newsgraphics/2014/02/14/fashion-week-editors-picks/assets/crops/zero-maria-cornejo.jpg" height="225" width="720"></a><![endif]-->
        <ul class="annotations">
          <li data-range="[0,3]" style="left:0px;width:87px;">
            <div class="annotation">Cream-colored elastic-cuff pants</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[4,5]" style="left:87px;width:43px;">
            <div class="annotation">Baggy trekking pullovers rendered in geometric jacquard</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[15,16]" style="left:326px;width:43px;">
            <div class="annotation">Cornflower blue schoolgirl tops and black wool lace</div>
            <div class="annotation-bar"></div>
          </li>
        </ul>
      </div>
    </div>
    <div class="collection">
      <div class="description">
        <h3>Derek Lam</h3>
        <p>Tackled with a subtle hand, the collection was marked by deceptively simple shapes and a medley of textures, nubby or ribbed, the deliberate plainness relieved here and there by Asian-inflected color pairings.
        <!-- <p><a href="http://www.nytimes.com/fashion/runway/derek-lam/fall-2014-rtw/1?fingerprint=true">View Collection</a> -->
      </div>
      <div class="fisheye" data-name="Derek Lam" data-slug="derek-lam" data-size="33">
        <!--[if lte IE 8]><a href="http://www.nytimes.com/fashion/runway/derek-lam/fall-2014-rtw/1"><img src="http://graphics8.nytimes.com/newsgraphics/2014/02/14/fashion-week-editors-picks/assets/crops/derek-lam.jpg" height="225" width="720"></a><![endif]-->
        <ul class="annotations">
          <li data-range="[17,17]" style="left:369px;width:21px;">
            <div class="annotation">A patchwork skirt of leather squares in shades of green, black and brown</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[24,24]" style="left:522px;width:21px;">
            <div class="annotation">Asymmetrical separates draped to evoke Tibetan monk fashion</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[30,32]" style="left:652px;width:65px;">
            <div class="annotation">Prayer-flag silk evening dresses featuring large slits held closed with beads</div>
            <div class="annotation-bar"></div>
          </li>
        </ul>
      </div>
    </div>
    <div class="collection">
      <div class="description">
        <h3>Alexander Wang</h3>
        <p>The fusion of tech and warm tactile effects gave an extra jolt of relevance to a label long defined by its accent on youth. Searing colors and beefed up shapes accomplished the rest.
        <p class="related">Read more: <a href="http://www.nytimes.com/2014/02/11/fashion/alexander-wang-inspired-by-survival-skills.html">Stirring Looks, Brooklyn to Nepal</a> 
        <!-- <p><a href="http://www.nytimes.com/fashion/runway/alexander-wang/fall-2014-rtw/1?fingerprint=true">View Collection</a> -->
      </div>
      <div class="fisheye" data-name="Alexander Wang" data-slug="alexander-wang" data-size="48">
        <!--[if lte IE 8]><a href="http://www.nytimes.com/fashion/runway/alexander-wang/fall-2014-rtw/1"><img src="http://graphics8.nytimes.com/newsgraphics/2014/02/14/fashion-week-editors-picks/assets/crops/alexander-wang.jpg" height="225" width="720"></a><![endif]-->
        <ul class="annotations">
          <li data-range="[5,7]" style="left:74px;width:44px;">
            <div class="annotation">Square-cut wool looks featuring utilitarian cargo pockets</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[19,20]" style="left:284px;width:29px;">
            <div class="annotation">Space-age dresses made of dizzying, woven chevrons</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[36,47]" style="left:538px;width:179px;">
            <div class="annotation">Heat-sensitive garments in Day-Glo green, blue and purple</div>
            <div class="annotation-bar"></div>
          </li>
        </ul>
      </div>
    </div>
    <div class="collection">
      <div class="description">
        <h3>Altuzarra</h3>
        <p>Coats were the stars of the season, and of a show that counterbalanced lofty shearlings and double-faced cashmeres in electrifying tints with tapestry effects that had a hand-loomed feel. 
        <p class="related">Read more: <a href="http://www.nytimes.com/2014/02/11/fashion/alexander-wang-inspired-by-survival-skills.html">Stirring Looks, Brooklyn to Nepal</a> 
        <!-- <p><a href="http://www.nytimes.com/fashion/runway/altuzarra/fall-2014-rtw/1?fingerprint=true">View Collection</a> -->
      </div>
      <div class="fisheye" data-name="Altuzarra" data-slug="altuzarra" data-size="30">
        <!--[if lte IE 8]><a href="http://www.nytimes.com/fashion/runway/altuzarra/fall-2014-rtw/1"><img src="http://graphics8.nytimes.com/newsgraphics/2014/02/14/fashion-week-editors-picks/assets/crops/altuzarra.jpg" height="225" width="720"></a><![endif]-->
        <ul class="annotations">
          <li data-range="[0,1]" style="left:0px;width:47px;">
            <div class="annotation">Tailored, double-faced wool coats with bright blue lapels</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[10,10]" style="left:239px;width:23px;">
            <div class="annotation">Dresses handworked with rough stitches and dangling loose ends</div>
            <div class="annotation-bar"></div>
          </li>
          <li data-range="[20,21]" style="left:478px;width:47px;">
            <div class="annotation">The fingerpaint plaid of a garish and furry abstract expressionism</div>
            <div class="annotation-bar"></div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
      </section>
    </div>

<script src="http://graphics8.nytimes.com/newsgraphics/2014/02/14/fashion-week-editors-picks/e2e355157a66c53141657c4af5431fed6add83f7/lib.js"></script>
<script>(function() {

var width,
    height = 225;

var graphic = d3.select(".graphic");

var collection = graphic.selectAll(".collection")
    .datum(function(d) {
      return {
        slug: this.getAttribute("data-slug"),
        size: this.getAttribute("data-size")
      };
    });

var canvas = collection.insert("a", ".description")
    .attr("target","_blank")
    .attr("href", function(d) { return "http://www.nytimes.com/fashion/runway/" + d.slug + "/spring-2014-rtw/1?fingerprint=true"; })
  .append("canvas");

var pixelRatio = 1,
    storeRatio = 1;

if (window.devicePixelRatio >= 2
    && screen.availWidth >= 1280 // iPad can’t even handle it
    && canvas.node().getContext("2d").webkitBackingStorePixelRatio !== 2) { // Safari can’t even
  pixelRatio = 2;
  storeRatio = 2;
}

canvas
    .attr("height", height * storeRatio)
    .style("height", height + "px");

var description = collection.select(".description"),
    annotations = collection.select(".annotations");

annotations.selectAll("li")
    .datum(function() {
      return {
        range: JSON.parse(this.getAttribute("data-range"))
      };
    });

d3.select(window)
    .on("scroll", scroll)
    .on("resize", resize);

d3.select("#fullscreen")
    .style("display", null)
    .on("click", function requestFullScreen() {
      d3.event.preventDefault();

      var element = document.documentElement;
      if (element.requestFullscreen) element.requestFullscreen();
      else if (element.mozRequestFullScreen) element.mozRequestFullScreen();
      else if (element.webkitRequestFullscreen) element.webkitRequestFullscreen();

      function cancelFullScreen() {
        d3.event.preventDefault();
        if (document.cancelFullScreen) document.cancelFullScreen();
        else if (document.mozCancelFullScreen) document.mozCancelFullScreen();
        else if (document.webkitCancelFullScreen) document.webkitCancelFullScreen();

        d3.select(this)
            .text("View Full Screen")
            .on("click", requestFullScreen);
      }

      d3.select(this)
          .text("Exit Full Screen")
          .on("click", cancelFullScreen);
    });

resize();

// Recompute bounding boxes due to reflow.
function resize() {
  width = parseInt(graphic.style("width")) - 260;

  annotations
      .style("width", width + "px");

  collection.select("canvas")
      .attr("width", width * storeRatio)
      .style("width", width + "px")
      .each(function(d) {
        var context = d.context = this.getContext("2d");
        context.scale(storeRatio, storeRatio);
        context.strokeStyle = "rgba(0,0,0,0.8)";
        if (d.enabled) d.resize();
      });

  scroll();
}

// Recompute which canvases are visible in the viewport.
function scroll() {
  var dy = innerHeight;
  if (!canvas
      .filter(function() {
        var box = this.getBoundingClientRect();
        return box.bottom > 0 && box.top < dy;
      })
      .each(enableFisheye)
      .empty()) {
    canvas = canvas.filter(function(d) { return !d.enabled; });
  }
}

function enableFisheye(d) {
  d.enabled = true;

  var that = this,
      link = that.parentNode,
      div = link.parentNode,
      touchtime;

  var normalWidth = width / d.size,
      image = new Image,
      imageWidth = 105,
      imageHeight = 225,
      desiredDistortion = 0,
      desiredFocus,
      progress = 0,
      idle = true;

  var x = fisheye()
      .distortion(0)
      .extent([0, width]);

  var annotation = d3.select(div).selectAll("li");

  image.src = "http://graphics8.nytimes.com/newsgraphics/2014/02/14/fashion-week-editors-picks/assets/thumbs-" + pixelRatio + "/" + d.slug + ".jpg";
  image.onload = initialize;

  d3.timer(function() {
    if (progress < 0) return true;
    var context = d.context;
    context.clearRect(0, 0, width, 2);
    context.fillStyle = "#777";
    context.fillRect(0, 0, ++progress, 2);
  });

  d.resize = function() {
    var f = x.focus() / x.extent()[1],
        d1 = imageWidth / normalWidth - 1,
        d0 = x.distortion() / d1;
    normalWidth = width / d.size;
    x.distortion(d0 * d1).extent([0, width]).focus(f * width);
    render();
  };

  function initialize() {
    progress = -1;

    d3.select(that)
        .on("mousedown", mousedown)
        .on("mouseover", mouseover)
        .on("mousemove", mousemove)
        .on("mouseout", mouseout)
        .on("touchstart", touchstart)
        .on("touchmove", mousemove)
        .on("touchend", mouseout);

    render();
  }

  function render() {
    annotation
        .style("left", function(d) { return Math.round(x(d.range[0] * normalWidth)) - 4 + "px"; })
        .style("width", function(d) { return Math.round(x((d.range[d.range.length - 1] + 1) * normalWidth)) - Math.round(x(d.range[0] * normalWidth)) - 1 + "px"; })
      .select(".annotation")
        .style("left", function(d) { return Math.min(0, (width - 90) - (x(d.range[0] * normalWidth) - 4)) + "px"; });

    var context = d.context;
    context.clearRect(0, 0, width, height);

    for (var i = 0, n = d.size; i < n; ++i) {
      var x0 = x(i * normalWidth),
          x1 = x((i + 1) * normalWidth),
          dx = Math.min(imageWidth, x1 - x0);
      context.drawImage(image, Math.round((i * imageWidth + (imageWidth - dx) / 2) * pixelRatio), 0, dx * pixelRatio, imageHeight * pixelRatio, x0, 0, dx, height);
      context.beginPath();
      context.moveTo(x0, 0);
      context.lineTo(x0, height);
      context.stroke();
    }

    context.strokeRect(0, 0, width, height);
  }

  function move() {
    if (idle) d3.timer(function() {
      var currentDistortion = x.distortion(),
          currentFocus = currentDistortion ? x.focus() : desiredFocus;
      idle = Math.abs(desiredDistortion - currentDistortion) < .01 && Math.abs(desiredFocus - currentFocus) < .5;
      x.distortion(idle ? desiredDistortion : currentDistortion + (desiredDistortion - currentDistortion) * .14);
      x.focus(idle ? desiredFocus : currentFocus + (desiredFocus - currentFocus) * .14);
      render();
      return idle;
    });
  }

  function mouseover() {
    desiredDistortion = imageWidth / normalWidth - 1;
    mousemove();
  }

  function mouseout() {
    desiredDistortion = 0;
    mousemove();
  }

  function mousemove() {
    desiredFocus = Math.max(0, Math.min(width - 1e-6, d3.mouse(that)[0]));
    move();
  }

  function mousedown() {
    var m = Math.max(0, Math.min(width - 1e-6, d3.mouse(that)[0]));
    for (var i = 0, n = d.size; i < n && x(i * normalWidth) < m; ++i);
    link.href = "http://www.nytimes.com/fashion/runway/" + d.slug + "/spring-2014-rtw/" + i + "?fingerprint=true";
  }

  function touchstart() {
    d3.event.preventDefault();
    mouseover();
    if (d3.event.touches.length === 1) {
      var now = Date.now();
      if (now - touchtime < 500) mousedown(), link.click();
      touchtime = now;
    }
  }
}

function fisheye() {
  var min = 0,
      max = 1,
      distortion = 3,
      focus = 0;

  function G(x) {
    return (distortion + 1) * x / (distortion * x + 1);
  }

  function fisheye(x) {
    var Dmax_x = (x < focus ? min : max) - focus,
        Dnorm_x = x - focus;
    return G(Dnorm_x / Dmax_x) * Dmax_x + focus;
  }

  fisheye.extent = function(_) {
    if (!arguments.length) return [min, max];
    min = +_[0], max = +_[1];
    return fisheye;
  };

  fisheye.distortion = function(_) {
    if (!arguments.length) return distortion;
    distortion = +_;
    return fisheye;
  };

  fisheye.focus = function(_) {
    if (!arguments.length) return focus;
    focus = +_;
    return fisheye;
  };

  return fisheye;
}

})();</script>


  </body>
</html>

